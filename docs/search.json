[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Auto Operating Costs Calculation",
    "section": "",
    "text": "This document updates the 0 - Auto Operating Cost - 2022-01-11.qmd to the new base year 2023."
  },
  {
    "objectID": "index.html#instruction",
    "href": "index.html#instruction",
    "title": "Auto Operating Costs Calculation",
    "section": "1 Instruction",
    "text": "1 Instruction\nThis analysis calculates auto operating costs for different vehicle classes using a base year of 2023. Operating costs represent the variable expenses incurred per mile of vehicle travel, primarily fuel and maintenance. These costs are critical inputs for travel demand models, which use them to predict how people make transportation choices based on the relative costs of driving.\nThe methodology combines data from multiple federal agencies. The Bureau of Transportation Statistics (BTS) provides historical data on fuel prices, vehicle expenditures, fleet characteristics, and average costs of vehicle ownership. The Energy Information Administration (EIA) supplies detailed regional fuel price data specific to the Rocky Mountain area, which includes Utah and neighboring states. The Bureau of Labor Statistics (BLS) provides the Consumer Price Index, allowing us to adjust historical costs for inflation. The American Automobile Association (AAA) publishes annual driving cost surveys that break down expenses into variable and fixed components. Finally, the Oak Ridge National Laboratory maintains the Transportation Energy Data Book with detailed fuel economy statistics by vehicle size class.\nBy synthesizing these diverse data sources, we can identify long-term trends, compare actual costs against historical patterns, and produce defensible estimates for current-year operating costs across four vehicle classes: automobiles (passenger cars), light-duty trucks (pickups and SUVs), medium-duty trucks (single-unit delivery trucks), and heavy-duty trucks (tractor-trailers)."
  },
  {
    "objectID": "index.html#environment-setup",
    "href": "index.html#environment-setup",
    "title": "Auto Operating Costs Calculation",
    "section": "2 Environment Setup",
    "text": "2 Environment Setup\n\nLoad Libraries\n!conda install numpy pandas geopandas matplotlib seaborn scipy openpyxl python-dotenv\n!pip install pdfplumber\n\n\nShow the code\n# For Analysis\nimport numpy as np\nimport pandas as pd\n\n# For Visualization\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom matplotlib.ticker import FuncFormatter\nimport seaborn as sns\nfrom scipy.interpolate import make_interp_spline\nfrom scipy import stats\n\n# misc\nimport datetime\nimport os\nfrom pathlib import Path\nimport requests\nimport tabula\nimport re\n\n\n\n\nSet Base Year for Calculations\n\n\nShow the code\nBASE_YEAR = 2023"
  },
  {
    "objectID": "index.html#define-helper-functions",
    "href": "index.html#define-helper-functions",
    "title": "Auto Operating Costs Calculation",
    "section": "3 Define Helper Functions",
    "text": "3 Define Helper Functions\nTo maintain code reusability and follow DRY (Don’t Repeat Yourself) principles, we define helper functions for common operations throughout the analysis.\n\nFetch Excel Files from BLS or BTS\nThis utility function automates downloading data files from federal agencies. It checks if a file already exists locally before attempting to download, avoiding unnecessary network requests and respecting the agencies’ servers. The function includes proper HTTP headers to ensure reliable downloads.\n\n\nShow the code\ndef ensure_exists(path, url):\n    \"\"\"\n    Download Excel file if it doesn't exist locally.\n\n    Parameters:\n    -----------\n    path : str or Path\n        Local file path to save the Excel file\n    url : str\n        URL to download the Excel file from\n    \"\"\"\n    # Convert to Path object if string\n    filepath = Path(path)\n\n    # Download file if it doesn't exist\n    if not filepath.exists():\n        filepath.parent.mkdir(parents=True, exist_ok=True)\n\n        headers = {\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36'\n        }\n\n        response = requests.get(url, headers=headers)\n        filepath.write_bytes(response.content)"
  },
  {
    "objectID": "index.html#read-raw-data",
    "href": "index.html#read-raw-data",
    "title": "Auto Operating Costs Calculation",
    "section": "4 Read Raw Data",
    "text": "4 Read Raw Data\nThe data collection process is designed for reproducibility and transparency. Each dataset is automatically downloaded from its authoritative source and cached locally in the data/ directory. The code checks whether files already exist before attempting downloads, which speeds up subsequent runs and reduces load on source servers.\nFor each dataset, the code specifies the exact file location, sheet name (for Excel files), header row, columns to read, and number of rows to process. This explicit specification ensures that anyone running this analysis will extract identical data. Comments in the code indicate which columns may need updating as new data becomes available in future years.\nSome datasets require special handling. The Consumer Price Index data is fetched via the BLS API, which requires a free API key stored in a .env file. The AAA driving costs data is extracted from a PDF using the pdfplumber library, which parses table structures from the formatted document. Column names containing year information are cleaned and standardized using regular expressions to ensure consistent formatting.\n\n3-11\nTable 3-11 provides historical fuel prices to end-users from 1970 through the most recent year available. This dataset includes separate price series for gasoline, diesel, and other fuel types across all states. While we primarily rely on EIA data for detailed regional pricing, this BTS table provides context for long-term national trends.\nTable 3-11: Sales Price of Transportation Fuel to End-Users [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_3_11 = Path(\"data/bts/table_03_11_032824.xlsx\")\nurl_3_11 = \"https://www.bts.gov/sites/bts.dot.gov/files/2024-03/table_03_11_032824.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_3_11, url=url_3_11)\n\n# Read Excel file\ndf_3_11 = pd.read_excel(\n  filepath_3_11,\n  sheet_name=\"3-11\",\n  header=1,\n  usecols=\"A:AK\", # TODO: update cols later for new data\n  nrows=10\n)\n\n# display the data\ndf_3_11\n\n\n\n\n3-12\nTable 3-12 tracks how gasoline prices have changed relative to other consumer goods and services. This relative price index reveals whether fuel costs are rising faster or slower than general inflation. When gasoline prices rise faster than overall inflation, transportation becomes relatively more expensive, potentially shifting travel behavior toward more efficient modes or shorter trips.\nTable 3-12: Price Trends of Gasoline v. Other Consumer Goods and Services [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_3_12 = Path(\"data/bts/table_03_12_032824_1.xlsx\")\nurl_3_12 = \"https://www.bts.gov/sites/bts.dot.gov/files/2024-03/table_03_12_032824_1.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_3_12, url=url_3_12)\n\n# Read Excel file\ndf_3_12 = pd.read_excel(\n  filepath_3_12,\n  sheet_name=\"3-12\",\n  header=1,\n  usecols=\"A:AM\", # TODO: update cols later for new data\n  nrows=15\n)\n\n# display the data\ndf_3_12\n\n\n\n\n3-25\nTable 3-25 shows average wages in transportation industries, which provides economic context for understanding how transportation costs relate to household incomes. While not directly used in operating cost calculations, this data helps validate that our cost estimates are reasonable relative to what workers in the transportation sector earn.\nTable 3-25: Average Wage and Salary Accruals per Full-Time Equivalent Employee by Transportation Industry [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_3_25 = Path(\"data/bts/table_03_25_102122.xlsx\")\nurl_3_25 = \"https://www.bts.gov/sites/bts.dot.gov/files/2022-10/table_03_25_102122.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_3_25, url=url_3_25)\n\n# Read Excel file\ndf_3_25 = pd.read_excel(\n  filepath_3_25,\n  sheet_name=\"3-25\",\n  header=1,\n  usecols=\"A:Y\", # TODO: update cols later for new data\n  nrows=10\n)\n\n# display the data\ndf_3_25\n\n\n\n\n4-12\nTable 4-12 details fuel consumption and vehicle miles traveled for light-duty vehicles with long wheelbases—primarily SUVs, vans, and pickup trucks. This category represents a significant and growing share of the passenger vehicle fleet. The table reports both fuel consumed (in millions of gallons) and miles traveled (in billions), which together yield fuel economy in miles per gallon.\nTable 4-12: Light Duty Vehicle, Long Wheel Base Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_4_12 = Path(\"data/bts/table_04_12M_032725.xlsx\")\nurl_4_12 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_12M_032725.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_4_12, url=url_4_12)\n\n# Read Excel file\ndf_4_12 = pd.read_excel(\n  filepath_4_12,\n  sheet_name=\"4-12M\",\n  header=1,\n  usecols=\"A:AM\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_4_12\n\n\n\n\nFuel Economy - CombinedVehType\nTable 4-9 aggregates fuel consumption and travel across all motor vehicle types. This provides a fleet-wide perspective on average fuel economy and helps ensure that our vehicle-class-specific estimates align with national totals. The combined data includes passenger cars, light trucks, buses, and heavy trucks.\nTable 4-9: Motor Vehicle Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_4_9 = Path(\"data/bts/table_04_09_032825.xlsx\")\nurl_4_9 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_09_032825.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_4_9, url=url_4_9)\n\n# Read Excel file\ndf_FE_CombinedVehType = pd.read_excel(\n  filepath_4_9,\n  sheet_name=\"4-9\",\n  header=1,\n  usecols=\"A:AO\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_FE_CombinedVehType\n\n\n\n\nFuel Economy - LightDuty\nTable 4-23 focuses specifically on light-duty vehicles (passenger cars and light trucks under 8,500 pounds). This is the most detailed fuel economy dataset for the vehicles that comprise the majority of personal travel. The table separates passenger cars from light trucks and tracks how fuel economy has improved over time due to Corporate Average Fuel Economy (CAFE) standards and technological improvements in engines, transmissions, and vehicle design.\nTable 4-23: Average Fuel Efficiency of U.S. Light Duty Vehicles [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_4_23 = Path(\"data/bts/table_04_23_042425.xlsx\")\nurl_4_23 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-04/table_04_23_042425.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_4_23, url=url_4_23)\n\n# Read Excel file\ndf_FE_LightDuty = pd.read_excel(\n  filepath_4_23,\n  sheet_name=\"4-23\",\n  header=1,\n  usecols=\"A:AK\", # TODO: update cols later for new data\n  nrows=12\n)\n\n# display the data\ndf_FE_LightDuty\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n1995\n1996\n...\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n2023\n\n\n\n\n0\nAverage U.S. light duty vehicle fuel efficienc...\n14.9\n16.500000\n18.800000\n19.500000\n19.500000\n19.200000\n19.391913\n19.602243\n19.691458\n...\n21.402991\n21.979313\n22.038465\n22.274363\n22.497301\n22.243634\n22.980009\n22.366546\n22.767227\n22.584552\n\n\n1\nLight duty vehicle, short wheel basea,b\n15.983485\n17.515866\n20.324466\n21.199052\n21.045126\n20.590441\n22.237518\n21.128875\n21.319621\n...\n23.203282\n23.856606\n23.956898\n24.214896\n24.377132\n24.129357\n25.281499\n24.428229\n24.846588\n24.658813\n\n\n2\nLight duty vehicle, long wheel basea\n12.226114\n14.287840\n16.134621\n16.992323\n17.270285\n17.403241\n15.066998\n17.323486\n17.311470\n...\n17.097833\n17.340800\n17.397560\n17.524273\n17.867885\n17.611064\n18.010017\n17.797627\n18.051541\n17.936341\n\n\n3\nNew vehicle fuel efficiency (mpg)c (model year)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n4\nLight-duty vehicle\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n5\nPassenger car\n24.3\n27.600000\n28.000000\n28.400000\n27.900000\n28.400000\n28.300000\n28.600000\n28.500000\n...\n36.537392\n37.243195\n37.658306\n39.445839\n40.775846\n40.796910\n42.286674\nU\nU\nU\n\n\n6\nDomestic\n22.6\n26.300000\n26.900000\n27.300000\n27.000000\n27.800000\n27.500000\n27.700000\n28.100000\n...\n36.300000\n37.200000\n37.300000\n39.300000\n41.900000\n41.200000\n43.400000\nU\nU\nU\n\n\n7\nImported\n29.6\n31.500000\n29.900000\n30.100000\n29.200000\n29.600000\n29.700000\n30.300000\n29.600000\n...\n36.900000\n37.300000\n38.100000\n39.600000\n39.800000\n40.400000\n41.200000\nU\nU\nU\n\n\n8\nLight truck (&lt;8,500 lbs GVWR)d\n18.5\n20.700000\n20.800000\n21.300000\n20.800000\n21.000000\n20.800000\n20.500000\n20.800000\n...\n26.500000\n27.300000\n27.400000\n28.700000\n29.500000\n29.600000\n30.400000\nU\nU\nU\n\n\n9\nCAFE standards (mpg)c (model year)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n10\nPassenger car\n20\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n...\n34.237392\n35.459170\n36.903095\n38.986130\n40.228249\n41.703090\n43.307269\nU\nU\nU\n\n\n11\nLight trucke\nU\n19.500000\n20.000000\n20.200000\n20.200000\n20.400000\n20.500000\n20.600000\n20.700000\n...\n26.300000\n27.600000\n28.800000\n29.400000\n30.000000\n30.400000\n31.000000\nU\nU\nU\n\n\n\n\n12 rows × 37 columns\n\n\n\n\n\nPersonal Expenditure\nTable 3-15 shows total personal consumption expenditures across all categories: housing, healthcare, food, transportation, and others. Transportation typically represents 15-20% of household budgets. By tracking transportation’s share over time, we can assess whether our operating cost estimates produce results consistent with observed household spending patterns. The column names are cleaned to extract just the year, removing formatting artifacts like “(R)” revision markers.\nTable 3-15: Personal Expenditures by Category (Millions of current dollars) [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_3_15 = Path(\"data/bts/table_03_15_022525.xlsx\")\nurl_3_15 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-02/table_03_15_022525.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_3_15, url=url_3_15)\n\n# Read Excel file\ndf_PersonalExpenditure = pd.read_excel(\n  filepath_3_15,\n  sheet_name=\"3-15\",\n  header=1,\n  usecols=\"A:AP\", # TODO: update cols later for new data\n  nrows=17\n)\n\n# Extract years from column names, handling formats like \"(R) 2019\"\ndf_PersonalExpenditure.columns = [\n    str(int(match.group())) if (match := re.search(r'\\b(19|20)\\d{2}\\b', str(col))) else col\n    for col in df_PersonalExpenditure.columns\n]\n\n# display the data\ndf_PersonalExpenditure\n\n\n\n\nPersonal Consumption\nTable 3-16 breaks down transportation expenditures into subcategories: vehicle purchases, gasoline and oil, maintenance and repairs, insurance, and public transportation. This detailed breakdown allows us to isolate the specific cost components we’re estimating and compare our calculations against actual household expenditure data reported in national accounts.\nTable 3-16: Personal Consumption Expenditures on Transportation by Subcategory (Millions of current dollars) [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_3_16 = Path(\"data/bts/table_03_16_022525.xlsx\")\nurl_3_16 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-02/table_03_16_022525.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_3_16, url=url_3_16)\n\n# Read Excel file\ndf_PersonalConsumption = pd.read_excel(\n  filepath_3_16,\n  sheet_name=\"3-16\",\n  header=1,\n  usecols=\"A:AP\", # TODO: update cols later for new data\n  nrows=17\n)\n\n# display the data\ndf_PersonalConsumption\n\n\n\n\nConsumer Price Index\nThe Consumer Price Index (CPI-U) measures the average change in prices paid by urban consumers for a basket of goods and services. The BLS API provides monthly CPI values from 1913 to the present. We calculate annual averages and year-over-year percent changes to track inflation. The CPI serves multiple purposes in this analysis: adjusting historical costs to constant dollars, comparing how auto costs change relative to general inflation, and normalizing costs across different time periods. The API requires a free registration key, which should be stored in a .env file to keep it secure and separate from the code.\nData Source: Consumer Price Index for All Urban Consumers (CPI-U) [Source: Bureau of Labor Statistics]\n\n\n\n\n\n\nTip\n\n\n\nGet your BLS Public API key from here.\nCreate a .env file in the root directory and add your BLS API key: BLS_PUBLIC_API=your-key-here This enables fetching Consumer Price Index data from the BLS API.\n\n\n\n\nShow the code\nfrom dotenv import load_dotenv\nload_dotenv()\n\n\nTrue\n\n\n\n\nShow the code\n# Ensure file exists\nfilepath_cpi = Path(\"data/bls/cpi_1913_present.xlsx\")\n\nif not filepath_cpi.exists():\n    filepath_cpi.parent.mkdir(parents=True, exist_ok=True)\n\n    api_url = \"https://api.bls.gov/publicAPI/v2/timeseries/data/\"\n    current_year = pd.Timestamp.now().year\n    all_data = []\n\n    for start_year in range(1913, current_year + 1, 20):\n        end_year = min(start_year + 19, current_year)\n        payload = {\n            \"seriesid\": [\"CUUR0000SA0\"],\n            \"startyear\": str(start_year),\n            \"endyear\": str(end_year),\n            \"catalog\": False,\n            \"calculations\": False,\n            \"annualaverage\": False,\n            \"registrationkey\": os.getenv('BLS_PUBLIC_API')\n        }\n        response = requests.post(api_url, json=payload, headers={\"Content-Type\": \"application/json\"})\n\n        for item in response.json()['Results']['series'][0]['data']:\n            if item['period'].startswith('M') and item['period'] != 'M13':\n                all_data.append({\n                    'year': int(item['year']),\n                    'period': item['period'],\n                    'value': float(item['value'])\n                })\n\n    df_pivot = pd.DataFrame(all_data).pivot(index='year', columns='period', values='value')\n    df_pivot = df_pivot[[f'M{i:02d}' for i in range(1, 13)]].sort_index()\n\n    with pd.ExcelWriter(filepath_cpi, engine='openpyxl') as writer:\n        df_pivot.to_excel(writer, sheet_name='BLS Data Series')\n\n# Read Excel file directly from URL\ndf_CPI = pd.read_excel(\n  filepath_cpi, # File path\n  sheet_name=\"BLS Data Series\",\n  usecols=\"A:M\" # TODO: update cols later for new data\n)\n\n# Calculate annual average\ndf_CPI['annualaverage'] = df_CPI[[f'M{i:02d}' for i in range(1, 13)]].mean(axis=1)\n\n# Calculate 12-month percent change for December\ndf_CPI['pct_change_Dec'] = df_CPI['M12'].pct_change(periods=1, fill_method=None) * 100\n\n# Calculate 12-month percent change for annual average\ndf_CPI['pct_change_Avg'] = df_CPI['annualaverage'].pct_change(periods=1, fill_method=None) * 100\n\n# display the data\ndf_CPI\n\n\n\n\n\n\n\n\n\nyear\nM01\nM02\nM03\nM04\nM05\nM06\nM07\nM08\nM09\nM10\nM11\nM12\nannualaverage\npct_change_Dec\npct_change_Avg\n\n\n\n\n0\n1913\n9.800\n9.800\n9.800\n9.800\n9.700\n9.800\n9.900\n9.900\n10.000\n10.000\n10.100\n10.000\n9.883333\nNaN\nNaN\n\n\n1\n1914\n10.000\n9.900\n9.900\n9.800\n9.900\n9.900\n10.000\n10.200\n10.200\n10.100\n10.200\n10.100\n10.016667\n1.000000\n1.349073\n\n\n2\n1915\n10.100\n10.000\n9.900\n10.000\n10.100\n10.100\n10.100\n10.100\n10.100\n10.200\n10.300\n10.300\n10.108333\n1.980198\n0.915141\n\n\n3\n1916\n10.400\n10.400\n10.500\n10.600\n10.700\n10.800\n10.800\n10.900\n11.100\n11.300\n11.500\n11.600\n10.883333\n12.621359\n7.666941\n\n\n4\n1917\n11.700\n12.000\n12.000\n12.600\n12.800\n13.000\n12.800\n13.000\n13.300\n13.500\n13.500\n13.700\n12.825000\n18.103448\n17.840735\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n108\n2021\n261.582\n263.014\n264.877\n267.054\n269.195\n271.696\n273.003\n273.567\n274.310\n276.589\n277.948\n278.802\n270.969750\n7.036403\n4.697859\n\n\n109\n2022\n281.148\n283.716\n287.504\n289.109\n292.296\n296.311\n296.276\n296.171\n296.808\n298.012\n297.711\n296.797\n292.654917\n6.454401\n8.002800\n\n\n110\n2023\n299.170\n300.840\n301.836\n303.363\n304.127\n305.109\n305.691\n307.026\n307.789\n307.671\n307.051\n306.746\n304.701583\n3.352123\n4.116338\n\n\n111\n2024\n308.417\n310.326\n312.332\n313.548\n314.069\n314.175\n314.540\n314.796\n315.301\n315.664\n315.493\n315.605\n313.688833\n2.888057\n2.949525\n\n\n112\n2025\n317.671\n319.082\n319.799\n320.795\n321.465\n322.561\n323.048\n323.976\nNaN\nNaN\nNaN\nNaN\n321.049625\nNaN\n2.346527\n\n\n\n\n113 rows × 16 columns\n\n\n\n\n\nRetail Diesel Prices\nThe EIA publishes weekly retail diesel prices by region. Diesel fuel powers medium-duty and heavy-duty trucks, so accurate diesel pricing is essential for calculating operating costs for freight vehicles. The Rocky Mountain region pricing reflects conditions in Utah, Colorado, Wyoming, Montana, and Idaho. Diesel prices typically run 10-20% higher than gasoline due to higher refining costs and federal excise tax rates, though the spread varies with crude oil prices and refinery economics.\nRetail Prices for Diesel (On-Highway) - All Types [Source: Energy Information Administration]\n\n\nShow the code\n# Set file path and source URL\nfilepath_retaildiesel = Path(\"data/eia/PET_PRI_GND_A_EPD2D_PTE_DPGAL_W.xls\")\nurl_retaildiesel = \"https://www.eia.gov/dnav/pet/xls/PET_PRI_GND_A_EPD2D_PTE_DPGAL_W.xls\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_retaildiesel, url=url_retaildiesel)\n\n# Read Excel file directly from URL\ndf_RetailDieselPrices = pd.read_excel(\n  filepath_retaildiesel, # File path\n  sheet_name=\"Data 2\",\n  header=2,\n  usecols=\"A:J\" # TODO: update cols later for new data\n)\n\n# display the data\ndf_RetailDieselPrices\n\n\n\n\n\n\n\n\n\nDate\nWeekly East Coast No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly New England (PADD 1A) No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Central Atlantic (PADD 1B) No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Lower Atlantic (PADD 1C) No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Midwest No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Gulf Coast No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Rocky Mountain No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly West Coast No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly West Coast (PADD 5) Except California No 2 Diesel Retail Prices (Dollars per Gallon)\n\n\n\n\n0\n1994-03-21\n1.119\nNaN\nNaN\nNaN\n1.087\n1.065\n1.105\n1.209\nNaN\n\n\n1\n1994-03-28\n1.115\nNaN\nNaN\nNaN\n1.089\n1.064\n1.100\n1.220\nNaN\n\n\n2\n1994-04-04\n1.122\nNaN\nNaN\nNaN\n1.087\n1.069\n1.103\n1.219\nNaN\n\n\n3\n1994-04-11\n1.119\nNaN\nNaN\nNaN\n1.090\n1.066\n1.111\n1.209\nNaN\n\n\n4\n1994-04-18\n1.115\nNaN\nNaN\nNaN\n1.086\n1.058\n1.118\n1.213\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1641\n2025-09-01\n3.750\n3.948\n3.912\n3.669\n3.722\n3.367\n3.753\n4.484\n4.112\n\n\n1642\n2025-09-08\n3.772\n3.955\n3.937\n3.693\n3.754\n3.404\n3.754\n4.533\n4.163\n\n\n1643\n2025-09-15\n3.748\n3.961\n3.920\n3.663\n3.710\n3.389\n3.722\n4.523\n4.134\n\n\n1644\n2025-09-22\n3.745\n3.962\n3.908\n3.664\n3.731\n3.400\n3.747\n4.524\n4.123\n\n\n1645\n2025-09-29\n3.750\n3.962\n3.902\n3.673\n3.731\n3.413\n3.732\n4.532\n4.143\n\n\n\n\n1646 rows × 10 columns\n\n\n\n\n\nRetail Gas Prices\nSimilar to diesel prices, the EIA provides weekly retail gasoline prices for all grades (regular, midgrade, premium) by region. Most light-duty vehicles use regular gasoline, though some require premium. The “all grades” series provides a weighted average that reflects actual consumer purchasing patterns. Weekly data captures seasonal price fluctuations—prices typically rise in summer due to higher driving demand and the switch to more expensive summer-blend fuel formulations required for air quality.\nRetail Prices for Gasoline, All Grades [Source: Energy Information Administration]\n\n\nShow the code\n# Set file path and source URL\nfilepath_retailgas = Path(\"data/eia/PET_PRI_GND_A_EPM0_PTE_DPGAL_W.xls\")\nurl_retailgas = \"https://www.eia.gov/dnav/pet/xls/PET_PRI_GND_A_EPM0_PTE_DPGAL_W.xls\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_retailgas, url=url_retailgas)\n\n# Read Excel file directly from URL\ndf_RetailGasPrices = pd.read_excel(\n  filepath_retailgas, # File path\n  sheet_name=\"Data 2\",\n  header=2,\n  usecols=\"A:J\" # TODO: update cols later for new data\n)\n\n# display the data\ndf_RetailGasPrices\n\n\n\n\n\n\n\n\n\nDate\nWeekly East Coast All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly New England (PADD 1A) All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Central Atlantic (PADD 1B) All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Lower Atlantic (PADD 1C) All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Midwest All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Gulf Coast All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Rocky Mountain All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly West Coast All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly West Coast (PADD 5) Except California All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\n\n\n\n\n0\n1993-04-05\n1.040\n1.068\n1.068\n1.023\n1.061\n1.064\n1.093\n1.152\nNaN\n\n\n1\n1993-04-12\n1.047\n1.073\n1.072\n1.032\n1.077\n1.071\n1.118\n1.154\nNaN\n\n\n2\n1993-04-19\n1.054\n1.074\n1.077\n1.040\n1.067\n1.081\n1.120\n1.155\nNaN\n\n\n3\n1993-04-26\n1.059\n1.076\n1.080\n1.046\n1.078\n1.081\n1.169\n1.157\nNaN\n\n\n4\n1993-05-03\n1.062\n1.080\n1.084\n1.050\n1.073\n1.084\n1.161\n1.161\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1691\n2025-09-01\n3.126\n3.204\n3.266\n3.017\n3.174\n2.863\n3.308\n4.277\n3.983\n\n\n1692\n2025-09-08\n3.175\n3.243\n3.340\n3.054\n3.140\n2.830\n3.369\n4.322\n4.051\n\n\n1693\n2025-09-15\n3.131\n3.229\n3.303\n2.996\n3.065\n2.873\n3.305\n4.395\n4.166\n\n\n1694\n2025-09-22\n3.143\n3.207\n3.301\n3.027\n3.093\n2.814\n3.313\n4.394\n4.162\n\n\n1695\n2025-09-29\n3.097\n3.169\n3.262\n2.973\n3.013\n2.770\n3.239\n4.363\n4.118\n\n\n\n\n1696 rows × 10 columns\n\n\n\n\n\nAverage Cost\nTable 3-17 reports the average cost of owning and operating an automobile assuming 15,000 miles of annual driving. AAA compiles this data annually through surveys and manufacturer specifications. The costs are broken into variable expenses (fuel, maintenance, tires) that increase with miles driven, and fixed expenses (insurance, license/registration/taxes, depreciation, finance charges) that remain relatively constant regardless of mileage. This decomposition is critical because travel demand models respond primarily to variable costs—travelers notice the cost of each additional mile driven, but fixed costs are sunk regardless of how much they drive.\nTable 3-17: Average Cost of Owning and Operating an Automobilea (Assuming 15,000 Vehicle-Miles per Year) [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_3_17 = Path(\"data/bts/table_03_17_032725.xlsx\")\nurl_3_17 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_03_17_032725.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_3_17, url=url_3_17)\n\n# Read Excel file directly from URL\ndf_AverageCost = pd.read_excel(\n  filepath_3_17,\n  sheet_name=\"3-17\",\n  header=1,\n  usecols=\"A:AM\", # TODO: update cols later for new data\n  nrows=8\n)\n\ndf_AverageCost.columns = [\n    str(int(match.group())) if (match := re.search(r'\\b(19|20)\\d{2}\\b', str(col))) else col\n    for col in df_AverageCost.columns\n]\n\n# display the data\ndf_AverageCost\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n1995\n...\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n2023\n2024\n\n\n\n\n0\nAverage total cost per mile (current cents)\n14.360000\n21.173333\n23.226667\n33.026667\n37.340000\n38.826667\n38.693333\n39.440000\n41.233333\n...\n57.986667\n57.053333\n56.453333\n58.993333\n61.88\n63.74\n64.44\n71.526667\n81.213333\n81.973333\n\n\n1\nGasb\n4.800000\n5.900000\n5.570000\n5.400000\n6.600000\n5.900000\n5.900000\n5.600000\n5.800000\n...\n11.210000\n8.450000\n10.26\n11.05\n11.6\n10.66\n10.72\n17.99\n15.93\n14.9\n\n\n2\nGas as a percent of total costb\n33.426184\n27.865239\n23.981056\n16.350424\n17.675415\n15.195742\n15.248105\n14.198783\n14.066289\n...\n19.332030\n14.810703\n18.174303\n18.73093\n18.74596\n16.724192\n16.63563\n25.151459\n19.615006\n18.176643\n\n\n3\nMaintenancec\n0.970000\n1.120000\n1.200000\n2.100000\n2.200000\n2.200000\n2.400000\n2.500000\n2.600000\n...\n5.110000\n5.280000\n7.91\n8.21\n8.94\n9.12\n9.55\n9.68\n9.83\n10.13\n\n\n4\nTires\n0.660000\n0.640000\n0.650000\n0.900000\n0.900000\n0.900000\n0.900000\n1.000000\n1.200000\n...\n0.980000\n1.000000\nU\nU\nU\nU\nU\nU\nU\nU\n\n\n5\nAverage total cost per 15,000 miles (current d...\n2154.000000\n3176.000000\n3484.000000\n4954.000000\n5601.000000\n5824.000000\n5804.000000\n5916.000000\n6185.000000\n...\n8698.000000\n8558.000000\n8468\n8849\n9282\n9561\n9666\n10729\n12182\n12296\n\n\n6\nVariable costd\n968.000000\n1143.000000\n1113.000000\n1260.000000\n1455.000000\n1350.000000\n1380.000000\n1365.000000\n1440.000000\n...\n2596.000000\n2208.000000\n2726\n2889\n3081\n2968\n3042\n4151\n3864\n3755\n\n\n7\nFixed coste\n1186.000000\n2033.000000\n2371.000000\n3694.000000\n4146.000000\n4474.000000\n4424.000000\n4551.000000\n4745.000000\n...\n6102.000000\n6350.000000\n5742\n5960\n6201\n6593\n6624\n6578\n8318\n8541\n\n\n\n\n8 rows × 39 columns\n\n\n\n\n\n4-11\nTable 4-11 covers light-duty vehicles with short wheelbases (primarily passenger cars) and motorcycles. These smaller, more fuel-efficient vehicles represent an important segment of the fleet. The table structure matches 4-12, reporting fuel consumption and vehicle miles traveled over time. Combined with Table 4-12, this provides comprehensive coverage of the light-duty vehicle fleet.\nTable 4-11: Light Duty Vehicle, Short Wheel Base and Motorcycle Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_4_11 = Path(\"data/bts/table_04_11_032825.xlsx\")\nurl_4_11 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_11_032825.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_4_11, url=url_4_11)\n\n# Read Excel file directly from URL\ndf_4_11 = pd.read_excel(\n  filepath_4_11,\n  sheet_name=\"4-11\",\n  header=1,\n  usecols=\"A:AO\", # TODO: update cols later for new data\n  nrows=18\n)\n\n# display the data\ndf_4_11\n\n\n\n\nFuel Economy - Medium\nTable 4-13 addresses single-unit trucks with two axles and six or more tires—typically box trucks, delivery vehicles, utility trucks, and small dump trucks. These medium-duty trucks bridge the gap between light-duty pickups and heavy combination trucks. They generally achieve 6-8 miles per gallon, reflecting their larger engines, heavier construction, and cargo loads. Medium-duty trucks serve crucial roles in local freight delivery, construction, and utilities.\nTable 4-13: Single-Unit 2-Axle 6-Tire or More Truck Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_4_13 = Path(\"data/bts/table_04_13_032725.xlsx\")\nurl_4_13 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_13_032725.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_4_13, url=url_4_13)\n\n# Read Excel file directly from URL\ndf_FE_Medium = pd.read_excel(\n  filepath_4_13,\n  sheet_name=\"4-13\",\n  header=1,\n  usecols=\"A:AM\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_FE_Medium\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n...\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n2023\n\n\n\n\n0\nNumber registered (thousands)\n3681.405000\n4231.622000\n4373.784000\n4593.071446\n4486.981096\n4480.815015\n4369.842228\n4407.850444\n4906.384535\n...\n8328.758599\n8456.302000\n8746.518000\n9336.998000\n10327.899000\n10160.433000\n9908.409000\n10713.550000\n11083.997000\n11567.428000\n\n\n1\nVehicle-miles (millions)\n27081.000000\n34606.000000\n39813.000000\n45441.010136\n51901.084690\n52897.923062\n53874.244546\n56772.473176\n61284.000000\n...\n109301.406197\n109597.318450\n113337.941633\n116102.399109\n120698.994215\n124745.707181\n117832.173934\n131637.174902\n136223.786866\n134100.608119\n\n\n2\nFuel consumed (million gallons)\n3968.375000\n5420.485711\n6922.767279\n7399.378701\n8356.675584\n8172.381947\n8236.926852\n8488.204295\n9031.771537\n...\n14893.865294\n14850.509537\n15338.478728\n15599.855130\n16080.121829\n16656.910752\n15576.749998\n17169.259790\n17180.849601\n17162.839167\n\n\n3\nAverage miles traveled per vehicle (thousands)\n7.356159\n8.177952\n9.102644\n9.893382\n11.567039\n11.805424\n12.328648\n12.879855\n12.490664\n...\n13.123373\n12.960431\n12.958064\n12.434660\n11.686694\n12.277598\n11.892139\n12.286980\n12.290132\n11.592949\n\n\n4\nAverage miles traveled per gallon\n6.824204\n6.384299\n5.751024\n6.141193\n6.210733\n6.472767\n6.540576\n6.688396\n6.785380\n...\n7.338686\n7.380038\n7.389125\n7.442531\n7.506099\n7.489126\n7.564619\n7.667027\n7.928816\n7.813428\n\n\n5\nAverage fuel consumed per vehicle (gallons)\n1077.951217\n1280.947521\n1582.786731\n1610.987068\n1862.427187\n1823.860597\n1884.948340\n1925.701519\n1840.820154\n...\n1788.245525\n1756.147018\n1753.666857\n1670.757039\n1556.959632\n1639.389852\n1572.073781\n1602.574291\n1550.059027\n1483.721288\n\n\n\n\n6 rows × 39 columns\n\n\n\n\n\nFuel Economy - Heavy\nTable 4-14 covers combination trucks—tractor-trailers consisting of a powered unit (tractor) pulling one or more trailers. These are the largest vehicles on the highway and handle the majority of long-distance freight. Heavy-duty trucks typically achieve 5-7 miles per gallon, limited by aerodynamic drag, rolling resistance, and the weight of loaded trailers. Small improvements in heavy truck fuel economy yield significant fuel savings given the high annual mileage these vehicles accumulate (often 60,000-100,000 miles per year).\nTable 4-14: Combination Truck Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Set file path and source URL\nfilepath_4_14 = Path(\"data/bts/table_04_14_032725.xlsx\")\nurl_4_14 = \"https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_14_032725.xlsx\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_4_14, url=url_4_14)\n\n# Read Excel file directly from URL\ndf_FE_Heavy = pd.read_excel(\n  filepath_4_14,\n  sheet_name=\"4-14\",\n  header=1,\n  usecols=\"A:AN\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_FE_Heavy\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1965\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n...\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n2021\n2022\n2023\n\n\n\n\n0\nNumber registered (thousands)\n786.510352\n905.082000\n1130.747000\n1416.869000\n1403.266000\n1708.894894\n1691.330985\n1675.362942\n1680.305013\n...\n2577.197369\n2746.882000\n2752.043000\n2892.218000\n2906.011000\n2925.210000\n2990.962000\n3142.854000\n3249.824000\n3324.112000\n\n\n1\nVehicle-miles traveled (millions)\n31665.008552\n35134.000000\n46724.000000\n68678.000000\n78062.829300\n94341.074342\n96644.537280\n99509.826717\n103115.689682\n...\n169830.178385\n170246.278000\n174556.978274\n181490.181698\n184165.121151\n175304.701353\n179816.800923\n195389.157346\n195048.639383\n195757.795420\n\n\n2\nFuel consumed (million gallons)\n6658.000000\n7347.937000\n9177.475579\n13037.002826\n14005.271116\n16132.920179\n16808.623869\n17216.232996\n17747.967243\n...\n29117.656112\n28885.913526\n29554.641135\n30363.560805\n30325.060257\n28987.013626\n29186.467609\n30439.396787\n28218.174604\n29296.988806\n\n\n3\nAverage miles traveled per vehicle (thousands)\n40.260129\n38.818582\n41.321357\n48.471665\n55.629388\n55.205896\n57.141114\n59.395982\n61.367245\n...\n65.897234\n61.978009\n63.428143\n62.751211\n63.373855\n59.928929\n60.120055\n62.169340\n60.018216\n58.890253\n\n\n4\nAverage miles traveled per gallon\n4.755934\n4.781478\n5.091160\n5.267929\n5.573818\n5.847737\n5.749700\n5.780000\n5.810000\n...\n5.832550\n5.893747\n5.906246\n5.977236\n6.073034\n6.047698\n6.160965\n6.418956\n6.912164\n6.681840\n\n\n5\nAverage fuel consumed per vehicle (gallons)\n8465.241403\n8118.531802\n8116.294431\n9201.276071\n9980.482044\n9440.557310\n9938.104379\n10276.121406\n10562.348563\n...\n11298.186339\n10515.891664\n10739.164008\n10498.365201\n10435.287498\n9909.378686\n9758.220803\n9685.272299\n8682.985480\n8813.478248\n\n\n\n\n6 rows × 40 columns\n\n\n\n\n\nFuel Economy by Size Class\nThe Transportation Energy Data Book provides detailed truck fuel economy broken down by manufacturer’s gross vehicle weight rating (GVWR) classes. The Vehicle Inventory and Use Survey (VIUS) collected this data in 1992, 1997, and 2002 before being discontinued. These surveys provide the most detailed look at fuel economy across the full truck size spectrum. The data shows clear relationships: fuel economy decreases as vehicle weight increases. This allows us to estimate fuel economy for truck classes not directly reported in the annual BTS tables. The document also includes historical retail fuel prices in both current and inflation-adjusted dollars, showing how fuel costs have changed in real terms over decades.\nTable 5.6 Truck Harmonic Mean Fuel Economy by Size Class, 1992, 1997, and 2002 (miles per gallon) [Source: Oak Ridge National Laboratory]\n\n\nShow the code\n# Set file path and source URL\nfilepath_tedb = Path(\"data/doe/TEDB_Ed_40.pdf\")\nurl_tedb = \"https://tedb.ornl.gov/wp-content/uploads/2022/03/TEDB_Ed_40.pdf\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_tedb, url=url_tedb)\n\n# Read Table 5.6 in Page 152\ndf_FE_SizeClass_1 = pd.DataFrame({\n    \"Manufacturer's gross vehicle weight class\": [\n        \"1) 6,000 lb and less\",\n        \"2) 6,001–10,000 lb\",\n        \"3) 10,000–14,000 lb\",\n        \"4) 14,001–16,000 lb\",\n        \"5) 16,001–19,500 lb\",\n        \"6) 19,501–26,000 lb\",\n        \"7) 26,001–33,000 lb\",\n        \"8) 33,001 lb and over\",\n        \"Light truck subtotal (1–2)\",\n        \"Medium truck subtotal (3–6)\",\n        \"Large truck subtotal (7–8)\"\n    ],\n    \"1992 TIUS\": [17.2, 13.0, 8.8, 8.8, 7.4, 6.9, 6.5, 5.5, 15.7, 7.3, 5.6],\n    \"1997 VIUS\": [17.1, 13.6, 9.4, 9.3, 8.7, 7.3, 6.4, 5.7, 15.8, 8.6, 6.1],\n    \"2002 VIUS\": [17.6, 14.3, 10.5, 8.5, 7.9, 7.0, 6.4, 5.7, 16.2, 8.0, 5.8]\n})\n\n# display the data\ndf_FE_SizeClass_1\n\n\n\n\n\n\n\n\n\nManufacturer's gross vehicle weight class\n1992 TIUS\n1997 VIUS\n2002 VIUS\n\n\n\n\n0\n1) 6,000 lb and less\n17.2\n17.1\n17.6\n\n\n1\n2) 6,001–10,000 lb\n13.0\n13.6\n14.3\n\n\n2\n3) 10,000–14,000 lb\n8.8\n9.4\n10.5\n\n\n3\n4) 14,001–16,000 lb\n8.8\n9.3\n8.5\n\n\n4\n5) 16,001–19,500 lb\n7.4\n8.7\n7.9\n\n\n5\n6) 19,501–26,000 lb\n6.9\n7.3\n7.0\n\n\n6\n7) 26,001–33,000 lb\n6.5\n6.4\n6.4\n\n\n7\n8) 33,001 lb and over\n5.5\n5.7\n5.7\n\n\n8\nLight truck subtotal (1–2)\n15.7\n15.8\n16.2\n\n\n9\nMedium truck subtotal (3–6)\n7.3\n8.6\n8.0\n\n\n10\nLarge truck subtotal (7–8)\n5.6\n6.1\n5.8\n\n\n\n\n\n\n\nTable 11.6: (Updated June 2022) Retail Prices for Motor Fuel, 1978–2021 (dollars per gallon, including tax)\n\n\nShow the code\n# Read Table 11.6 in Page 285\ndf_FE_SizeClass_2 = pd.DataFrame({\n    \"Year\": [\n        1978, 1980, 1985, 1990, 1995, 1996, 1997, 1998, 1999, 2000,\n        2001, 2002, 2003, 2004, 2005, 2006, 2007, 2008, 2009, 2010,\n        2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018, 2019, 2020, 2021\n    ],\n    \"Diesel_Current\": [\n        None, 1.01, 1.22, 1.07, 1.11, 1.24, 1.20, 1.04, 1.12, 1.49,\n        1.40, 1.32, 1.51, 1.81, 2.40, 2.71, 2.89, 3.80, 2.47, 2.99,\n        3.84, 3.97, 3.92, 3.83, 2.71, 2.30, 2.65, 3.18, 3.06, 2.55, 3.29\n    ],\n    \"Diesel_Constant_2021\": [\n        None, 3.32, 3.07, 2.22, 1.97, 2.13, 2.02, 1.74, 1.82, 2.35,\n        2.14, 1.99, 2.22, 2.60, 3.33, 3.64, 3.77, 4.79, 3.12, 3.72,\n        4.63, 4.68, 4.56, 4.38, 3.09, 2.60, 2.93, 3.43, 3.24, 2.67, 3.29\n    ],\n    \"Regular_Current\": [\n        0.67, 1.25, 1.20, 1.16, 1.15, 1.23, 1.23, 1.06, 1.17, 1.51,\n        1.46, 1.36, 1.59, 1.88, 2.30, 2.59, 2.80, 3.27, 2.35, 2.79,\n        3.53, 3.64, 3.53, 3.37, 2.45, 2.14, 2.41, 2.74, 2.64, 2.17, 3.05\n    ],\n    \"Regular_Constant_2021\": [\n        2.78, 4.09, 3.03, 2.41, 2.04, 2.13, 2.08, 1.76, 1.89, 2.38,\n        2.24, 2.05, 2.34, 2.70, 3.18, 3.48, 3.66, 4.11, 2.97, 3.46,\n        4.25, 4.30, 4.10, 3.85, 2.80, 2.42, 2.66, 2.95, 2.79, 2.28, 3.05\n    ],\n    \"Premium_Current\": [\n        None, None, 1.34, 1.35, 1.34, 1.41, 1.42, 1.25, 1.36, 1.69,\n        1.66, 1.56, 1.78, 2.07, 2.49, 2.81, 3.03, 3.52, 2.61, 3.05,\n        3.79, 3.92, 3.84, 3.71, 2.87, 2.61, 2.91, 3.27, 3.21, 2.79, 3.69\n    ],\n    \"Premium_Constant_2021\": [\n        None, None, 3.37, 2.80, 2.38, 2.44, 2.39, 2.08, 2.21, 2.66,\n        2.54, 2.34, 2.62, 2.97, 3.46, 3.77, 3.96, 4.43, 3.29, 3.79,\n        4.57, 4.63, 4.47, 4.25, 3.28, 2.95, 3.22, 3.53, 3.40, 2.92, 3.69\n    ]\n})\n\n# display the data\ndf_FE_SizeClass_2\n\n\n\n\n\n\n\n\n\nYear\nDiesel_Current\nDiesel_Constant_2021\nRegular_Current\nRegular_Constant_2021\nPremium_Current\nPremium_Constant_2021\n\n\n\n\n0\n1978\nNaN\nNaN\n0.67\n2.78\nNaN\nNaN\n\n\n1\n1980\n1.01\n3.32\n1.25\n4.09\nNaN\nNaN\n\n\n2\n1985\n1.22\n3.07\n1.20\n3.03\n1.34\n3.37\n\n\n3\n1990\n1.07\n2.22\n1.16\n2.41\n1.35\n2.80\n\n\n4\n1995\n1.11\n1.97\n1.15\n2.04\n1.34\n2.38\n\n\n5\n1996\n1.24\n2.13\n1.23\n2.13\n1.41\n2.44\n\n\n6\n1997\n1.20\n2.02\n1.23\n2.08\n1.42\n2.39\n\n\n7\n1998\n1.04\n1.74\n1.06\n1.76\n1.25\n2.08\n\n\n8\n1999\n1.12\n1.82\n1.17\n1.89\n1.36\n2.21\n\n\n9\n2000\n1.49\n2.35\n1.51\n2.38\n1.69\n2.66\n\n\n10\n2001\n1.40\n2.14\n1.46\n2.24\n1.66\n2.54\n\n\n11\n2002\n1.32\n1.99\n1.36\n2.05\n1.56\n2.34\n\n\n12\n2003\n1.51\n2.22\n1.59\n2.34\n1.78\n2.62\n\n\n13\n2004\n1.81\n2.60\n1.88\n2.70\n2.07\n2.97\n\n\n14\n2005\n2.40\n3.33\n2.30\n3.18\n2.49\n3.46\n\n\n15\n2006\n2.71\n3.64\n2.59\n3.48\n2.81\n3.77\n\n\n16\n2007\n2.89\n3.77\n2.80\n3.66\n3.03\n3.96\n\n\n17\n2008\n3.80\n4.79\n3.27\n4.11\n3.52\n4.43\n\n\n18\n2009\n2.47\n3.12\n2.35\n2.97\n2.61\n3.29\n\n\n19\n2010\n2.99\n3.72\n2.79\n3.46\n3.05\n3.79\n\n\n20\n2011\n3.84\n4.63\n3.53\n4.25\n3.79\n4.57\n\n\n21\n2012\n3.97\n4.68\n3.64\n4.30\n3.92\n4.63\n\n\n22\n2013\n3.92\n4.56\n3.53\n4.10\n3.84\n4.47\n\n\n23\n2014\n3.83\n4.38\n3.37\n3.85\n3.71\n4.25\n\n\n24\n2015\n2.71\n3.09\n2.45\n2.80\n2.87\n3.28\n\n\n25\n2016\n2.30\n2.60\n2.14\n2.42\n2.61\n2.95\n\n\n26\n2017\n2.65\n2.93\n2.41\n2.66\n2.91\n3.22\n\n\n27\n2018\n3.18\n3.43\n2.74\n2.95\n3.27\n3.53\n\n\n28\n2019\n3.06\n3.24\n2.64\n2.79\n3.21\n3.40\n\n\n29\n2020\n2.55\n2.67\n2.17\n2.28\n2.79\n2.92\n\n\n30\n2021\n3.29\n3.29\n3.05\n3.05\n3.69\n3.69\n\n\n\n\n\n\n\n\n\nShow the code\n# FIXME: Unsure the logic behind this calculation.\ndf_FE_SizeClass_2[\"Diesel to Average Ratio\"] = df_FE_SizeClass_2[\"Diesel_Current\"] / (df_FE_SizeClass_2[\"Regular_Current\"] + df_FE_SizeClass_2[\"Premium_Current\"]) / 2\n\ndf_FE_SizeClass_2.loc[df_FE_SizeClass_2['Year'] == 2021, 'Diesel to Average Ratio']\n\n\n30    0.244065\nName: Diesel to Average Ratio, dtype: float64\n\n\n\n\nRepair and Maintenance Cost - Heavy\nHeavy truck maintenance costs come from industry surveys conducted by the American Transportation Research Institute (ATRI), which tracks operating costs for commercial trucking fleets. Maintenance costs include scheduled preventive maintenance (oil changes, filter replacements, inspections), repairs (brakes, tires, engine work), and roadside breakdowns. The data shows maintenance costs per mile ranging from $0.12 to $0.17, considerably higher than light-duty vehicle maintenance due to more frequent service intervals, larger and more expensive parts, and the severe duty cycles that commercial trucks experience.\n\n\n\nRepair and Maintenance Cost per Mile (2010-2019)\n\n\nSource: TruckingInfo.com\n\n\n\nRepair and Maintenance Cost per Mile (2014-2023)\n\n\nSource: FleetMaintenance.com\n\n\nShow the code\n# Set file path and source URL\nfilepath_truckops = Path(\"data/atri/parsed/ATRI-Operational-Costs-of-Trucking-07-2025.pdf\")\nurl_truckops = \"https://truckingresearch.org/wp-content/uploads/2025/07/ATRI-Operational-Costs-of-Trucking-07-2025.pdf\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_truckops, url=url_truckops)\n\n\n\n\nShow the code\n# Manually Entering the data from above image\ndf_RepairMaintenanceCost_Heavy = pd.DataFrame({\n    \"Year\": [\"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\", \"2020\", \"2021\", \"2022\", \"2023\", \"2024\"],\n    \"CostMile\": [0.124, 0.152, 0.138, 0.148, 0.158, 0.156, 0.166, 0.167, 0.171, 0.149, 0.148, 0.175, 0.196, 0.202, 0.198]\n})\n\n# display the data\ndf_RepairMaintenanceCost_Heavy\n\n\n\n\n\n\n\n\n\nYear\nCostMile\n\n\n\n\n0\n2010\n0.124\n\n\n1\n2011\n0.152\n\n\n2\n2012\n0.138\n\n\n3\n2013\n0.148\n\n\n4\n2014\n0.158\n\n\n5\n2015\n0.156\n\n\n6\n2016\n0.166\n\n\n7\n2017\n0.167\n\n\n8\n2018\n0.171\n\n\n9\n2019\n0.149\n\n\n10\n2020\n0.148\n\n\n11\n2021\n0.175\n\n\n12\n2022\n0.196\n\n\n13\n2023\n0.202\n\n\n14\n2024\n0.198\n\n\n\n\n\n\n\n\n\nDriving Costs\nAAA publishes an annual “Your Driving Costs” report based on vehicle ownership costs for five vehicle categories at three annual mileage levels. The report combines manufacturer data, insurance industry statistics, and fuel price surveys. The PDF tables are extracted programmatically using pdfplumber, which identifies table boundaries and cell contents. The two pages are combined horizontally to create a complete dataset. This provides current-year cost estimates to benchmark against our trend-based calculations.\nData Source: American Automobile Association\n\n\nShow the code\n# Set file path and source URL\nfilepath_drivingcost = Path(\"data/aaa/YDC-Brochure_2023-FINAL-8.30.23-.pdf\")\nurl_drivingcost = \"https://newsroom.aaa.com/wp-content/uploads/2023/08/YDC-Brochure_2023-FINAL-8.30.23-.pdf\"\n\n# Ensure the file exists, Download if not\nensure_exists(path=filepath_drivingcost, url=url_drivingcost)\n\n\n\n\nShow the code\n# Extract tables from PDF\ntables_page1 = tabula.read_pdf(\n  str(filepath_drivingcost),\n  pages=1,\n  multiple_tables=True,\n  encoding='latin-1'  # or 'cp1252'\n)\n\ntables_page2 = tabula.read_pdf(\n  str(filepath_drivingcost),\n  pages=2,\n  multiple_tables=True,\n  encoding='latin-1'\n)\n\n# Get the first table from each page\ndf_page1 = tables_page1[0]\ndf_page2 = tables_page2[0]\n\n# Remove the first column from df_page2 (equivalent to your drop operation)\ndf_page2_clean = df_page2.drop(df_page2.columns[0], axis=1)\n\n# Concatenate horizontally\ndf_DrivingCosts = pd.concat([df_page1, df_page2_clean], axis=1)\n\ndf_DrivingCosts\n\n\nC:\\Users\\Pukar.Bhandari\\AppData\\Local\\miniconda3\\envs\\wfrc\\Lib\\site-packages\\tabula\\io.py:1054: FutureWarning:\n\nerrors='ignore' is deprecated and will raise in a future version. Use to_numeric without passing `errors` and catch exceptions explicitly instead\n\n\n\n\n\n\n\n\n\n\nUnnamed: 0\nSmall\nMedium\nSubcompact\nCompact\nMedium.1\nMidsize\n1/2 Ton/Crew-\nHybrid\nElectric\n2023 Weighted\n\n\n\n\n0\nNaN\nSedan\nSedan\nSUV\nSUV (FWD)\nSUV (4WD)\nPickup\nCab Pickup\nVehicle\nVehicle\nAverage\n\n\n1\nOperating Costs\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n2\nfuel\n11.18¢\n12.52¢\n13.17¢\n12.76¢\n16.66¢\n19.05¢\n22.31¢\n9.58¢\n4.74¢\n15.93¢\n\n\n3\nmaintenance\n9.11¢\n10.85¢\n9.51¢\n10.39¢\n10.57¢\n10.35¢\n9.42¢\n9.09¢\n8.12¢\n9.83¢\n\n\n4\ncost per mile\n20.29¢\n23.37¢\n22.68¢\n23.14¢\n27.22¢\n29.40¢\n31.73¢\n18.67¢\n12.86¢\n25.76¢\n\n\n5\nOwnership Costs\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n6\nfull-coverage insurance\n$1,794\n$1,922\n$1,713\n$1,681\n$1,685\n$1,679\n$1,807\n$1,710\n$1,820\n$1,765\n\n\n7\nlicense, registration, taxes\n$505\n$668\n$599\n$629\n$816\n$825\n$1,099\n$692\n-$192\n$762\n\n\n8\ndepreciation (15k mi/yr)\n$2,846\n$3,922\n$3,102\n$3,332\n$4,136\n$4,089\n$6,464\n$3,401\n$5,296\n$4,538\n\n\n9\nfinance charges\n$750\n$1,030\n$901\n$953\n$1,250\n$1,255\n$1,729\n$1,046\n$1,260\n$1,253\n\n\n10\ncost per year\n$5,895\n$7,542\n$6,316\n$6,594\n$7,887\n$7,848\n$11,099\n$6,849\n$8,183\n$8,318\n\n\n11\ncost per day\n$16.15\n$20.66\n$17.30\n$18.07\n$21.61\n$21.50\n$30.41\n$18.76\n$22.42\n$22.79\n\n\n12\nTotal Cost – 10k mi/yr\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n13\noperating cost\n$2,029\n$2,337\n$2,268\n$2,314\n$2,722\n$2,940\n$3,173\n$1,867\n$1,286\n$2,576\n\n\n14\nownership cost\n$5,895\n$7,542\n$6,316\n$6,594\n$7,887\n$7,848\n$11,099\n$6,849\n$8,183\n$8,318\n\n\n15\ndepreciation1\n-$217\n-$241\n-2$33\n-$286\n-$371\n-$395\n-$453\n-$272\n-$370\n-$345\n\n\n16\ntotal cost per year\n$7,707\n$9,638\n$8,351\n$8,623\n$10,239\n$10,393\n$13,818\n$8,445\n$9,099\n$10,549\n\n\n17\ntotal cost per day\n$21.12\n$26.41\n$22.88\n$23.62\n$28.05\n$28.48\n$37.86\n$23.14\n$24.93\n$28.90\n\n\n18\ntotal cost per mile2\n$0.7707\n$0.9638\n$0.8351\n$0.8623\n$1.0239\n$1.0393\n$1.3818\n$0.8445\n$0.9099\n$1.0549\n\n\n19\nTotal Cost – 15k mi/yr\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n20\noperating cost\n$3,044\n$3,505\n$3,402\n$3,471\n$4,084\n$4,410\n$4,759\n$2,801\n$1,929\n$3,864\n\n\n21\nownership cost\n$5,895\n$7,542\n$6,316\n$6,594\n$7,887\n$7,848\n$11,099\n$6,849\n$8,183\n$8,318\n\n\n22\ntotal cost per year\n$8,939\n$11,048\n$9,718\n$10,066\n$11,971\n$12,258\n$15,858\n$9,650\n$10,112\n$12,182\n\n\n23\ntotal cost per day\n$24.49\n$30.27\n$26.62\n$27.58\n$32.80\n$33.58\n$43.45\n$26.44\n$27.70\n$33.37\n\n\n24\ntotal cost per mile2\n$0.5959\n$0.7365\n$0.6479\n$0.6710\n$0.7981\n$0.8172\n$1.0572\n$0.6433\n$0.6741\n$0.8121\n\n\n25\nTotal Cost – 20k mi/yr\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n26\noperating cost\n$4,058\n$4,674\n$4,537\n$4,628\n$5,445\n$5,879\n$6,346\n$3,734\n$2,572\n$5,152\n\n\n27\nownership cost\n$5,895\n$7,542\n$6,316\n$6,594\n$7,887\n$7,848\n$11,099\n$6,849\n$8,183\n$8,318\n\n\n28\ndepreciation1\n+$235\n+$261\n+$252\n+$311\n+$401\n+$428\n+$496\n+$294\n+$399\n+$375\n\n\n29\ntotal cost per year\n$10,188\n$12,477\n$11,104\n$11,533\n$13,733\n$14,156\n$17,940\n$10,877\n$11,154\n$13,844\n\n\n30\ntotal cost per day\n$27.91\n$34.18\n$30.42\n$31.60\n$37.63\n$38.78\n$49.15\n$29.80\n$30.56\n$37.93\n\n\n31\ntotal cost per mile2\n$0.5094\n$0.6239\n$0.5552\n$0.5767\n$0.6867\n$0.7078\n$0.8970\n$0.5438\n$0.5577\n$0.6922"
  },
  {
    "objectID": "index.html#intermediate-cost-calculations",
    "href": "index.html#intermediate-cost-calculations",
    "title": "Auto Operating Costs Calculation",
    "section": "5 Intermediate Cost Calculations",
    "text": "5 Intermediate Cost Calculations\nRaw data alone cannot answer the question “what does it cost to drive a mile?” The data must be processed, combined, and analyzed to extract meaningful patterns and derive cost estimates. This section performs several types of calculations:\n\nTrend analysis: Fitting linear regression lines to historical data to identify whether costs are rising, falling, or stable over time\nData fusion: Combining information from multiple sources (e.g., fuel prices from EIA and fuel economy from BTS to calculate fuel cost per mile)\nActual vs. trend comparison: Evaluating whether the most recent actual data point aligns with the long-term trend or represents an unusual deviation\nNormalization: Adjusting costs for inflation using the CPI to enable valid comparisons across years\n\nEach subsection focuses on a specific cost component, builds relevant metrics, visualizes trends, and produces comparison tables that inform the final operating cost calculations. The visualizations help both technical and non-technical readers understand whether recent costs are consistent with historical patterns or represent significant departures requiring explanation.\n\nTransportation Expenditures\nTransportation expenditures provide essential context for validating our operating cost calculations. If our estimates are accurate, they should produce travel costs consistent with what households actually spend on transportation. This subsection examines transportation spending from two perspectives: transportation as a percentage of total household expenditures, and gasoline specifically as a percentage of total expenditures.\nThe first metric reveals how much of household budgets go to all transportation (vehicles, fuel, maintenance, public transit, air travel). The second isolates just gasoline, which directly relates to our per-mile operating cost estimates. If gasoline spending is rising faster than overall transportation spending, it suggests fuel prices are increasing or people are driving more. If it’s falling, vehicles may be becoming more efficient or people may be driving less.\n\nCreate Dataframe\nThe dataframe combines transportation cost percentages from the personal expenditure data with gasoline costs from the average cost data. The calculation Gasoline Cost of Transportation * Transportation Percent of Total / 100 produces gasoline as a percentage of total household expenditures. This derived metric helps us understand whether fluctuations in gasoline prices significantly impact household budgets or represent a small enough fraction that price changes have limited behavioral effects.\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, BASE_YEAR+1)) # Last year should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_PersonalExpenditure.columns = df_PersonalExpenditure.columns.astype(str)\ndf_AverageCost.columns = df_AverageCost.columns.astype(str)\n\n# Create a DataFrame to combine the extracted data\ndf_TransportationExpenditure = pd.DataFrame({\n    # The years from 1990 to 2024\n    \"Year\": year_range,\n    # Extract the 'Transportation Cost Percent of Total' for the years 1990-2020 from row 2\n    \"Transportation Percent of Total\": pd.to_numeric(\n      df_PersonalExpenditure.loc[2, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    # Extract the 'Gasoline Cost of Transportation' for the years 1990-2020 from row 2\n    \"Gasoline Cost of Transportation\": pd.to_numeric(\n      df_AverageCost.loc[2, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    )\n})\n\n# FIXME: Did not understand the logic for this\ndf_TransportationExpenditure[\"Gasoline Percent of Total\"] = df_TransportationExpenditure[\"Gasoline Cost of Transportation\"] * df_TransportationExpenditure[\"Transportation Percent of Total\"] / 100\n\ndf_TransportationExpenditure\n\n\n\n\nPlotting Trends\nThe visualization shows two time series: the blue line represents all transportation spending as a percentage of total expenditures, while the red line shows just gasoline. Dashed trend lines reveal the long-term direction. Several insights emerge from these patterns:\n\nTransportation spending as a share of total expenditures has remained relatively stable at 12-13% over the 30+ year period, suggesting transportation is a consistent household priority\nGasoline spending fluctuates more than total transportation spending, reflecting volatile oil prices\nWhen gasoline prices spike (visible as peaks in the red line), it absorbs a larger share of total transportation budgets, potentially crowding out other spending or changing travel behavior\nThe gap between the lines represents non-gasoline transportation costs: vehicle purchases, insurance, maintenance, and public transit\n\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Transportation Cost Percent of Total with a blue line\nsns.lineplot(data=df_TransportationExpenditure, x='Year', y='Transportation Percent of Total',\n             color='#0070C0', linewidth=2.5, label='Transportation as % of Total Expenditure')\n\n# Plot Gasoline Percent of Total with a red line\nsns.lineplot(data=df_TransportationExpenditure, x='Year', y='Gasoline Percent of Total',\n             color='#FF0000', linewidth=2.5, label='Gasoline as % of Total Expenditure')\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_TransportationExpenditure, x='Year', y='Transportation Percent of Total',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\nsns.regplot(data=df_TransportationExpenditure, x='Year', y='Gasoline Percent of Total',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Customize the plot\nplt.title('Transportation as a Percent of Total Expenditure',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('% of Total Expenditure', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_TransportationExpenditure['Year'], rotation=90)\n\nplt.legend(loc='upper right', fontsize=11)\n\n# Set y-axis limits to extend to 14\nplt.ylim(0, 14)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\nActual vs Trend Comparision\nThe comparison table evaluates whether 2023 values align with historical trends or deviate significantly. “Actual” shows the reported value from the data source for 2023. “Trend” shows the value predicted by a linear regression fit to all historical data.\nLarge differences between actual and trend values warrant investigation. If actual spending exceeds the trend, it might indicate unusual fuel price spikes or increased travel demand. If actual spending falls below the trend, it could reflect improved fuel economy, reduced travel, or fuel price declines. Small differences suggest stability and that using trend-based projections for missing data would be reasonable.\n\n\nShow the code\n# Create the comparison DataFrame\ndf_TranspExp_Comparision = pd.DataFrame({\n    'Date': [BASE_YEAR, BASE_YEAR],\n    'Actual': [\n        df_TransportationExpenditure.loc[df_TransportationExpenditure['Year'] == BASE_YEAR, 'Transportation Percent of Total'].iloc[0],\n        df_TransportationExpenditure.loc[df_TransportationExpenditure['Year'] == BASE_YEAR, 'Gasoline Percent of Total'].iloc[0]  # FIXED: THere is a potential error here in Excel sheet\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_TransportationExpenditure['Year']),\n                            pd.to_numeric(df_TransportationExpenditure['Transportation Percent of Total']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_TransportationExpenditure['Year']),\n                            pd.to_numeric(df_TransportationExpenditure['Gasoline Percent of Total']), 1))(BASE_YEAR)\n    ]\n}, index=['Transportation as % Total Expenditures', 'Gasoline as % Total Expenditures']).round(2)\n\ndf_TranspExp_Comparision\n\n\n\n\n\nAuto Cost - Variable-Fixed\nUnderstanding the split between variable and fixed costs is fundamental to travel demand modeling. Variable costs—primarily fuel and maintenance—increase with each mile driven, so travelers experience them directly and may modify their behavior in response. Fixed costs—insurance, depreciation, registration, and finance charges—must be paid regardless of whether the vehicle is driven 5,000 or 25,000 miles per year.\nTravel demand models typically include only variable costs because these represent the marginal cost of each trip. A traveler deciding whether to drive downtown doesn’t consider their annual insurance premium (already paid) but does consider fuel and parking costs. By isolating variable costs and tracking how they’ve changed over time, we can better estimate the cost signals that influence travel decisions.\nThis section also normalizes costs by the Consumer Price Index to distinguish between nominal increases (due to general inflation) and real increases (costs rising faster than inflation). If variable costs increase faster than the CPI, driving is becoming genuinely more expensive in real terms, which may encourage modal shifts or trip consolidation.\n\nCreate Dataframe\nThe dataframe combines several cost components. “Variable” represents the cents-per-mile cost of fuel, maintenance, and tires—expenses that scale with mileage. “Fixed” represents annual costs for insurance, registration, depreciation, and finance charges. “Total” is the sum of variable and fixed costs.\nThe “Per 15k” column converts the annual fixed cost into a per-mile equivalent by dividing by 15,000 miles—the assumed annual travel in the AAA data. This allows direct comparison of fixed costs to variable costs on a per-mile basis, though it’s important to remember this is an accounting convenience rather than a true marginal cost.\n“Variable/Total” shows what fraction of total costs are variable—typically 30-40%. This indicates that most vehicle ownership costs are fixed commitments. “Variable/CPI” and “Fixed/CPI” divide costs by the Consumer Price Index to produce inflation-adjusted metrics. If these ratios increase over time, vehicle costs are rising faster than general inflation. If they decrease, vehicles are becoming relatively cheaper despite nominal price increases.\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, BASE_YEAR+1))  # Last year should be one more than desired\n\n# Compile data from Raw Datasets\ndf_AutoCost_VariableFixed = pd.DataFrame({\n    \"Year\": year_range,\n    \"Variable\": pd.to_numeric(\n      df_AverageCost.loc[6, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    \"Fixed\": pd.to_numeric(\n      df_AverageCost.loc[7, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    \"Total\": pd.to_numeric(\n      df_AverageCost.loc[5, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    \"CPI\": pd.to_numeric(\n      df_CPI[df_CPI['year'].between(year_range[0], year_range[-1])][\"annualaverage\"].values,\n      errors=\"coerce\"\n    )\n})\n\n# Create Derived Columns\ndf_AutoCost_VariableFixed[\"Per 15k\"] = df_AutoCost_VariableFixed[\"Fixed\"] / 15000\ndf_AutoCost_VariableFixed[\"Variable/Total\"] = df_AutoCost_VariableFixed[\"Variable\"] / df_AutoCost_VariableFixed[\"Total\"]\ndf_AutoCost_VariableFixed[\"Variable/CPI\"] = df_AutoCost_VariableFixed[\"Variable\"] / df_AutoCost_VariableFixed[\"CPI\"]\ndf_AutoCost_VariableFixed[\"Fixed/CPI\"] = df_AutoCost_VariableFixed[\"Fixed\"] / df_AutoCost_VariableFixed[\"CPI\"]\n\n# Reorder columns\ndf_AutoCost_VariableFixed = df_AutoCost_VariableFixed[['Year', 'Variable/Total', 'Variable/CPI', 'Fixed/CPI', 'Variable', 'Fixed', 'Total', 'Per 15k', 'CPI']]\n\ndf_AutoCost_VariableFixed\n\n\n\n\nPlotting Trends\n\nFixed/CPI and Variable/CPI\nThis chart normalizes both fixed and variable costs by the CPI to reveal real cost trends independent of general inflation. The smoothed spline curves reduce year-to-year noise to highlight underlying patterns.\nThe green line (Fixed/CPI) shows whether fixed ownership costs are rising or falling in real terms. A rising trend means insurance, depreciation, and registration costs are outpacing inflation. The red line (Variable/CPI) does the same for operating costs.\nNotably, both series show considerable variation, reflecting the volatility of fuel prices (which dominate variable costs) and the episodic nature of insurance cost increases. The period from 2000-2010 saw rising real costs in both categories, while the 2010s showed some moderation. Understanding these patterns helps determine whether the base year represents typical conditions or an unusual outlier.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Create smooth spline curves\nx = df_AutoCost_VariableFixed['Year']\ny_fixed = df_AutoCost_VariableFixed['Fixed/CPI']\ny_variable = df_AutoCost_VariableFixed['Variable/CPI']\n\n# Generate smooth curves\nx_smooth = np.linspace(x.min(), x.max(), 300)\nspline_fixed = make_interp_spline(x, y_fixed, k=3)\nspline_variable = make_interp_spline(x, y_variable, k=3)\n\ny_fixed_smooth = spline_fixed(x_smooth)\ny_variable_smooth = spline_variable(x_smooth)\n\n# Plot smooth lines\nsns.lineplot(x=x_smooth, y=y_fixed_smooth, linewidth=2.5, color=\"#00B050\", label=\"Fixed/CPI\")\nsns.lineplot(x=x_smooth, y=y_variable_smooth, linewidth=2.5, color=\"#FF0000\", label=\"Variable/CPI\")\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.0f}'))\n\n# Customize the plot\nplt.title('Trendline of Fixed/CPI and Variable/CPI (1990–2020)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Value', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_AutoCost_VariableFixed['Year'], rotation=90)\n\nplt.legend(loc='upper right', fontsize=11)\n\n# Set y-axis limits to extend to $40\nplt.ylim(0, 40)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\nAverage Cost per Mile\nThis stacked area chart visualizes the composition of total vehicle costs. The green area represents fixed costs, while the red area shows variable costs stacked on top. The total height at any year represents the total cost per 15,000 miles. Several patterns emerge:\n\nTotal costs have increased over time, rising from around $4,000 in 1990 to $9,000+ in recent years\nVariable costs (red) fluctuate more than fixed costs, visible in the undulating upper boundary\nFixed costs (green) grow more steadily, reflecting consistent increases in insurance premiums and vehicle prices\nThe variable cost portion occasionally spikes, particularly during periods of high oil prices (mid-2000s, early 2010s)\n\nThe chart provides intuitive visual confirmation of the trend analysis while making the relative magnitudes immediately apparent to non-technical readers.\n\n\nShow the code\n# Create the stacked area plot\n# plt.figure(figsize=(10, 6))\n\n# Stack the areas - Fixed on bottom, Variable on top\nplt.fill_between(df_AutoCost_VariableFixed['Year'],\n                 0,\n                 df_AutoCost_VariableFixed['Fixed'],\n                 color='#9BBB59',\n                 label='Fixed')\n\nplt.fill_between(df_AutoCost_VariableFixed['Year'],\n                 df_AutoCost_VariableFixed['Fixed'],\n                 df_AutoCost_VariableFixed['Fixed'] + df_AutoCost_VariableFixed['Variable'],\n                 color='#C0504D',\n                 label='Variable')\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.0f}'))\n\n# Customize the plot\nplt.title('Average Total Cost per 15,000 Miles',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USDs', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_AutoCost_VariableFixed['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits\nplt.ylim(bottom=0)\n\n# Add grid\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\nActual vs Trend Comparision\nThis comparison assesses whether 2023 costs align with long-term trends. Each row compares the actual value from the AAA data against the predicted value from a linear trend fit to 1990-2023 data.\n“Variable” costs show whether fuel and maintenance in 2023 are higher or lower than historical patterns would predict. Given the volatility of fuel prices, some deviation is expected. Large positive deviations suggest an unusually expensive year, while negative deviations indicate relative affordability.\n“Fixed” costs are typically more stable, so large deviations are less common. “Fixed per 15,000 Miles” converts annual fixed costs to a per-mile basis for comparison purposes, though remember this is not a true marginal cost.\nAnalysts should investigate any large discrepancies. If actual costs substantially exceed trends, using trend-based estimates might understate current costs. If actual costs fall well below trends, it might signal a structural change in the market or data collection methodology.\n\n\nShow the code\n# Create the comparison DataFrame\ndf_AutoCost_VariableFixed_Comparision = pd.DataFrame({\n    'Date': [BASE_YEAR, BASE_YEAR, BASE_YEAR],\n    'Actual': [\n        df_AutoCost_VariableFixed.loc[df_AutoCost_VariableFixed['Year'] == BASE_YEAR, 'Variable'].iloc[0],\n        df_AutoCost_VariableFixed.loc[df_AutoCost_VariableFixed['Year'] == BASE_YEAR, 'Fixed'].iloc[0],\n        df_AutoCost_VariableFixed.loc[df_AutoCost_VariableFixed['Year'] == BASE_YEAR, 'Per 15k'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost_VariableFixed['Year']),\n                            pd.to_numeric(df_AutoCost_VariableFixed['Variable']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost_VariableFixed['Year']),\n                            pd.to_numeric(df_AutoCost_VariableFixed['Fixed']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost_VariableFixed['Year']),\n                            pd.to_numeric(df_AutoCost_VariableFixed['Per 15k']), 1))(BASE_YEAR)\n    ]\n}, index=['Variable', 'Fixed', 'Fixed per 15,000 Miles']).round(2)\n\ndf_AutoCost_VariableFixed_Comparision\n\n\n\n\n\nAuto Cost\nThis subsection isolates the two primary variable cost components that appear in travel demand models: fuel costs and maintenance-plus-tires. While the previous section examined total variable costs, here we separate gasoline specifically from other variable expenses.\nFuel costs respond directly to oil markets and refinery economics. Maintenance and tire costs respond to vehicle reliability, parts prices, and labor rates. By analyzing these separately, we can identify which component drives changes in total variable costs and assess whether they move together or independently.\nThis disaggregation also allows us to construct operating costs from first principles: calculating fuel cost per mile (price per gallon ÷ miles per gallon) and adding maintenance cost per mile. This bottom-up approach provides more transparency than using aggregated cost figures.\n\nCreate Dataframe\nThe dataframe extracts three series from the AAA average cost data: “Gas” (the cents-per-mile fuel cost), “Maint” (maintenance cost per mile), and “Tires” (tire cost per mile). In some years, maintenance and tires are reported separately; in others, they’re combined. The code uses .fillna(0) to handle missing values, ensuring that when only one value is present, the sum still works correctly.\n“Maint+Tires” combines these two closely related costs. Both represent wear-and-tear expenses that scale with mileage. Maintenance includes oil changes, brake replacements, and routine service. Tires wear out with miles driven and must be replaced periodically. Together, they represent the non-fuel variable costs of driving.\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, BASE_YEAR+1)) # Last year should be one more than desired\n\n# Compile data from Raw Datasets\ndf_AutoCost = pd.DataFrame({\n    \"Year\": year_range,\n    \"Gas\": pd.to_numeric(\n        df_AverageCost.loc[1, str(year_range[0]):str(year_range[-1])].values,\n        errors=\"coerce\"\n    ),\n    \"Maint\": pd.to_numeric(\n        df_AverageCost.loc[3, str(year_range[0]):str(year_range[-1])].values,\n        errors=\"coerce\"\n    ),\n    \"Tires\": pd.to_numeric(\n        df_AverageCost.loc[4, str(year_range[0]):str(year_range[-1])].values,\n        errors=\"coerce\"   # turns \"U\" into NaN\n    )\n})\n\ndf_AutoCost[\"Maint+Tires\"] = df_AutoCost[\"Maint\"].fillna(0) + df_AutoCost[\"Tires\"].fillna(0)\n\n# View Dataframe\ndf_AutoCost\n\n\n\n\n\n\n\n\n\nYear\nGas\nMaint\nTires\nMaint+Tires\n\n\n\n\n0\n1990\n5.40\n2.10\n0.90\n3.00\n\n\n1\n1991\n6.60\n2.20\n0.90\n3.10\n\n\n2\n1992\n5.90\n2.20\n0.90\n3.10\n\n\n3\n1993\n5.90\n2.40\n0.90\n3.30\n\n\n4\n1994\n5.60\n2.50\n1.00\n3.50\n\n\n5\n1995\n5.80\n2.60\n1.20\n3.80\n\n\n6\n1996\n5.60\n2.80\n1.20\n4.00\n\n\n7\n1997\n6.60\n2.80\n1.40\n4.20\n\n\n8\n1998\n6.20\n3.10\n1.40\n4.50\n\n\n9\n1999\n5.60\n3.30\n1.70\n5.00\n\n\n10\n2000\n6.90\n3.60\n1.70\n5.30\n\n\n11\n2001\n7.90\n3.90\n1.80\n5.70\n\n\n12\n2002\n5.90\n4.10\n1.80\n5.90\n\n\n13\n2003\n7.20\n4.10\n1.80\n5.90\n\n\n14\n2004\n6.50\n5.40\n0.70\n6.10\n\n\n15\n2005\n8.20\n5.30\n0.60\n5.90\n\n\n16\n2006\n9.50\n4.90\n0.70\n5.60\n\n\n17\n2007\n8.90\n4.90\n0.70\n5.60\n\n\n18\n2008\n11.67\n4.57\n0.72\n5.29\n\n\n19\n2009\n10.09\n4.56\n0.77\n5.33\n\n\n20\n2010\n11.36\n4.54\n0.83\n5.37\n\n\n21\n2011\n12.34\n4.44\n0.96\n5.40\n\n\n22\n2012\n14.17\n4.47\n1.00\n5.47\n\n\n23\n2013\n14.45\n4.97\n1.00\n5.97\n\n\n24\n2014\n13.00\n5.06\n0.97\n6.03\n\n\n25\n2015\n11.21\n5.11\n0.98\n6.09\n\n\n26\n2016\n8.45\n5.28\n1.00\n6.28\n\n\n27\n2017\n10.26\n7.91\nNaN\n7.91\n\n\n28\n2018\n11.05\n8.21\nNaN\n8.21\n\n\n29\n2019\n11.60\n8.94\nNaN\n8.94\n\n\n30\n2020\n10.66\n9.12\nNaN\n9.12\n\n\n31\n2021\n10.72\n9.55\nNaN\n9.55\n\n\n32\n2022\n17.99\n9.68\nNaN\n9.68\n\n\n33\n2023\n15.93\n9.83\nNaN\n9.83\n\n\n\n\n\n\n\n\n\nPlotting Trends\nThe visualization compares fuel costs (blue line) with maintenance-plus-tires costs (red line). Dashed trend lines show the long-term trajectory of each component. Key observations:\n\nFuel costs (blue) are consistently higher than maintenance costs and show more volatility, reflecting oil price fluctuations\nMaintenance costs (red) increase gradually over time, likely driven by parts price inflation and increasing vehicle complexity\nThe gap between the lines varies with fuel prices—during high oil price periods, fuel costs can be 2-3 times maintenance costs\nBoth show upward trends, but fuel costs rise more steeply, meaning fuel is becoming a larger fraction of variable costs\n\nThe trend lines provide predicted values for the base year that smooth out year-to-year fluctuations. If 2023 data points fall close to trend lines, using trend-based estimates is justified. Large deviations suggest the need to use actual values or investigate the causes of unusual costs.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Fixed/CPI with a green line\nsns.lineplot(data=df_AutoCost, x=\"Year\", y=\"Gas\",\nlinewidth=2.5, color=\"#0070C0\", label=\"Gas\")\n\n# Plot Variable/CPI with a red line\nsns.lineplot(data=df_AutoCost, x=\"Year\", y=\"Maint+Tires\",\nlinewidth=2.5,color=\"#FF0000\", label=\"Maint+Tires\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_AutoCost, x='Year', y='Gas',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\nsns.regplot(data=df_AutoCost, x='Year', y='Maint+Tires',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Average Auto Costs',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USDs', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_AutoCost['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits\nplt.ylim(bottom=0)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\nThis table compares 2023 actual costs against trend predictions for both fuel and maintenance-plus-tires. The “Gas” row reveals whether fuel prices in 2023 are high or low relative to the long-term trend. Fuel markets are volatile, so moderate deviations are normal. Large deviations might reflect temporary supply disruptions, geopolitical events, or unusual demand conditions.\nThe “Maint+Tires” row is typically more stable. Significant deviations here might indicate changes in vehicle reliability (newer vehicles requiring less maintenance), shifts in labor costs, or changes in how AAA calculates these figures.\nFor travel demand models, using trend values rather than actual values can be justified when actual values represent temporary anomalies. However, if the deviation persists across multiple years, it may signal a structural shift requiring adjustment to the model.\n\n\nShow the code\n# Create the comparison DataFrame\ndf_AutoCost_Comparision = pd.DataFrame({\n    'Date': [BASE_YEAR, BASE_YEAR],\n    'Actual': [\n        df_AutoCost.loc[df_AutoCost['Year'] == BASE_YEAR, 'Gas'].iloc[0],\n        df_AutoCost.loc[df_AutoCost['Year'] == BASE_YEAR, 'Maint+Tires'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost['Year']),\n                            pd.to_numeric(df_AutoCost['Gas']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost['Year']),\n                            pd.to_numeric(df_AutoCost['Maint+Tires']), 1))(BASE_YEAR)\n    ]\n}, index=['Gas', 'Maint+Tires']).round(2)\n\ndf_AutoCost_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nGas\n2023\n15.93\n13.93\n\n\nMaint+Tires\n2023\n9.83\n8.77\n\n\n\n\n\n\n\n\n\n\nVehicle Miles - Trucks\nAverage annual vehicle miles traveled (VMT) varies dramatically by truck class. Light trucks (pickups and SUVs used for personal travel) typically drive 10,000-15,000 miles per year. Medium trucks (delivery vehicles) might drive 15,000-25,000 miles. Heavy trucks (long-haul tractor-trailers) often exceed 60,000 miles annually.\nUnderstanding these patterns serves two purposes. First, it helps calibrate whether our fuel economy and cost estimates are reasonable—a vehicle class with unusually high or low VMT should have corresponding impacts on total fuel consumption. Second, it informs how we weight different vehicle classes when calculating fleet-average statistics.\nThis subsection tracks trends in truck VMT over time. Are trucks driving more miles as the economy grows and freight demand increases? Are efficiency improvements or modal shifts reducing truck VMT? The analysis looks at both the full 1990-2023 period and a 2000-2023 subset to check whether recent trends differ from long-term patterns.\n\nCreate Dataframe\nThe dataframe compiles average annual VMT for three truck categories. “Heavy” refers to combination trucks—tractor-trailers used for long-haul freight. “Medium” covers single-unit trucks—delivery vehicles, utility trucks, and other medium-duty applications. “Light” includes pickup trucks and SUVs primarily used for personal transportation or light commercial purposes.\nThe data comes from BTS tables that compile Federal Highway Administration statistics on vehicle registration, fuel consumption, and estimated miles traveled. Dividing total miles by number of vehicles yields average VMT per vehicle. These are fleet-wide averages; individual vehicles may drive considerably more or less depending on their specific usage patterns.\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, BASE_YEAR+1)) # Last year should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_FE_Heavy.columns = df_FE_Heavy.columns.astype(str)\ndf_FE_Medium.columns = df_FE_Medium.columns.astype(str)\ndf_4_11.columns = df_4_11.columns.astype(str)\n\n# Compile data from Raw Datasets\ndf_VehicleMiles_Truck = pd.DataFrame({\n  \"Year\": year_range,\n  \"Heavy\": pd.to_numeric(\n    df_FE_Heavy.loc[3, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  ),\n  \"Medium\": pd.to_numeric(\n    df_FE_Medium.loc[3, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  ),\n  \"Light\": pd.to_numeric(\n    df_4_11.loc[10, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  )\n})\n\n# View dataframe\ndf_VehicleMiles_Truck\n\n\n\n\nPlotting Trends\n\n1990 - 2023\nThis chart shows VMT trends for all three truck classes over the full data period. The blue line (Heavy) shows that long-haul trucks average 50,000-70,000 miles per year with a generally flat trend—these vehicles are already used intensively, and there’s limited room for further increases. The red line (Medium) shows medium trucks traveling 12,000-16,000 miles annually with moderate growth, reflecting increased delivery activity. The green line (Light) shows light trucks at 11,000-13,000 miles per year, similar to passenger cars.\nOnly the heavy truck trend line is shown here (dashed blue) to avoid visual clutter, as it’s the most stable series. The relatively flat trend for heavy trucks suggests that regulatory limits on driver hours and the physical constraints of long-haul trucking have kept average VMT stable even as total freight volumes have grown (accommodated by adding more trucks rather than driving each truck further).\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Heavy\",\nlinewidth=2.5,color=\"#0070C0\", label=\"Heavy\")\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Medium\",\nlinewidth=2.5,color=\"#BE4B48\", label=\"Medium\")\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Light\",\nlinewidth=2.5, color=\"#98B954\", label=\"Light\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Heavy',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Customize the plot\nplt.title('Average Vehicle Miles - Trucks (1990 - 2023)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Miles', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_VehicleMiles_Truck['Year'], rotation=90)\n\nplt.legend(loc='upper right', fontsize=11)\n\n# Set y-axis limits to extend to 80\nplt.ylim(0, 80)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n2000 - 2023\nThis chart focuses on the more recent period to check whether trends have changed. All three trend lines are now shown (dashed).\nComparing to the 1990-2023 chart reveals that light and medium truck VMT patterns changed around 2000. The 2000+ trends show slight increases for medium trucks (driven by e-commerce growth and more frequent deliveries) and slight decreases for light trucks (possibly reflecting higher fuel prices making owners more selective about trip-making).\nHeavy truck VMT remains remarkably stable across both time periods, confirming that these vehicles are operated at maximum intensity regardless of economic conditions. This stability makes heavy truck operating costs particularly sensitive to fuel price changes—operators cannot significantly reduce miles to offset higher fuel costs.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Heavy\",\nlinewidth=2.5,color=\"#0070C0\", label=\"Heavy\")\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Medium\",\nlinewidth=2.5,color=\"#BE4B48\", label=\"Medium\")\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Light\",\nlinewidth=2.5, color=\"#00B050\", label=\"Light\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Heavy',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Medium',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Light',\n            scatter=False, color='#00B050', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Customize the plot\nplt.title('Average Vehicle Miles - Trucks (2000 - 2023)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Miles', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_VehicleMiles_Truck['Year'], rotation=90)\n\nplt.legend(loc='upper right', fontsize=11)\n\n# Set x-axis limits to show only 2000-2023\nplt.xlim(2000, BASE_YEAR)\n\n# Set y-axis limits to extend to 80\nplt.ylim(0, 80)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\nActual vs Trend Comparision\nThis comparison table shows 2023 VMT estimates using two different trend periods: 1990-2023 and 2000-2023.\nThe first three rows use the full data period. The second three rows use only post-2000 data. Comparing these reveals whether recent trends differ from long-term patterns. If the two trend estimates are similar, it suggests stable, consistent behavior. Large differences indicate a structural break around 2000, making recent trends more relevant for current-year estimates.\nFor heavy trucks, both approaches yield similar results, confirming the stability of this market segment. For light and medium trucks, the estimates may differ more, reflecting the changing roles of these vehicles in the economy. Medium truck VMT has likely increased with e-commerce growth, while light truck VMT may have declined as fuel economy concerns limited discretionary driving.\n\n\nShow the code\n# Create the comparison DataFrame\ndf_VMTrucks_Comparision = pd.DataFrame({\n    'Date': [BASE_YEAR, BASE_YEAR, BASE_YEAR, BASE_YEAR, BASE_YEAR, BASE_YEAR],\n    'Actual': [\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == BASE_YEAR, 'Heavy'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == BASE_YEAR, 'Medium'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == BASE_YEAR, 'Light'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == BASE_YEAR, 'Heavy'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == BASE_YEAR, 'Medium'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == BASE_YEAR, 'Light'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_VehicleMiles_Truck['Year']),\n                            pd.to_numeric(df_VehicleMiles_Truck['Heavy']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_VehicleMiles_Truck['Year']),\n                            pd.to_numeric(df_VehicleMiles_Truck['Medium']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_VehicleMiles_Truck['Year']),\n                            pd.to_numeric(df_VehicleMiles_Truck['Light']), 1))(BASE_YEAR),\n        # Last 3: Use only data from 2000+\n        np.poly1d(np.polyfit(\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Year']),\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Heavy']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Year']),\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Medium']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Year']),\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Light']), 1))(BASE_YEAR)\n    ]\n}, index=['Heavy Trucks  - 1990+', 'Medium Trucks  - 1990+', 'Light Trucks  - 1990+',\n'Heavy Trucks  - 2000+', 'Medium Trucks  - 2000+', 'Light Trucks  - 2000+']).round(2)\n\n# TODO: '1980+' should be changed to '1990+'\n\ndf_VMTrucks_Comparision\n\n\n\n\n\nFuel Economy\nFuel economy—miles traveled per gallon of fuel consumed—directly determines fuel costs per mile. A vehicle that achieves 25 miles per gallon at $3.00/gallon costs $0.12 per mile for fuel. One that achieves only 6 miles per gallon costs $0.50 per mile—more than four times as much.\nFuel economy has improved substantially over time due to technological advances (better engines, transmissions, aerodynamics) and regulatory pressure (CAFE standards for cars and light trucks, fuel economy standards for heavy trucks). However, improvements vary by vehicle class. Light-duty vehicles have seen dramatic gains, rising from under 20 mpg in the 1980s to over 25 mpg today. Heavy trucks have improved more modestly, from 5.5 to 6.5 mpg, because the physics of moving heavy loads limits efficiency gains.\nThis subsection tracks fuel economy trends for three vehicle classes: light-duty (cars and small SUVs), medium-duty (delivery trucks), and heavy-duty (tractor-trailers). By comparing actual 2023 fuel economy against long-term trends, we can assess whether recent values are typical or represent unusual efficiency improvements or setbacks.\n\nCreate Dataframe\nThe dataframe compiles fuel economy data for three truck/vehicle categories spanning 1980-2023. The year range starts earlier than other series (1980 and 1985 are included) to capture the full arc of fuel economy improvement following the oil crises of the 1970s.\n“Light Duty” comes from BTS Table 4-23, which tracks average fuel economy of the U.S. light-duty vehicle fleet—both cars and light trucks weighted by their share of vehicle miles traveled. This represents actual on-road fuel economy, which is typically 20-25% lower than EPA test ratings due to aggressive driving, air conditioning use, cold starts, and other real-world factors.\n“Medium Duty” and “Heavy Duty” come from BTS tables on single-unit and combination trucks. These are calculated by dividing total miles traveled by total fuel consumed for each truck class. Note that a calculation error in the original analysis has been corrected—the code now properly extracts fuel economy (row 4) rather than fuel consumption (row 5).\n\n\nShow the code\n# Define year range\nyear_range = [1980, 1985] + list(range(1990, BASE_YEAR+1)) # Last year of the range should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_FE_LightDuty.columns = df_FE_LightDuty.columns.astype(str)\ndf_FE_Medium.columns = df_FE_Medium.columns.astype(str)\ndf_FE_Heavy.columns = df_FE_Heavy.columns.astype(str)\n\n# Compile data from Raw Datasets\ndf_FuelEconomy = pd.DataFrame({\n  \"Year\": year_range,\n  \"Light Duty\": pd.to_numeric(\n    df_FE_LightDuty.loc[0, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  ),\n  \"Medium Duty\": pd.to_numeric(\n    df_FE_Medium.loc[4, str(year_range[0]):str(year_range[-1])].values, # FIXED: Mistake in original calculation; use this instead\n    errors=\"coerce\"\n  ),\n  \"Heavy Duty\": pd.to_numeric(\n    df_FE_Heavy.loc[4, str(year_range[0]):str(year_range[-1])].values, # FIXED: Mistake in original calculation; use this instead\n    errors=\"coerce\"\n  )\n})\n\n# View the dataset\ndf_FuelEconomy\n\n\n\n\n\n\n\n\n\nYear\nLight Duty\nMedium Duty\nHeavy Duty\n\n\n\n\n0\n1980\n14.900000\n5.751024\n5.267929\n\n\n1\n1985\n16.500000\n6.141193\n5.573818\n\n\n2\n1990\n18.800000\n6.210733\n5.847737\n\n\n3\n1991\n19.500000\n6.472767\n5.749700\n\n\n4\n1992\n19.500000\n6.540576\n5.780000\n\n\n5\n1993\n19.200000\n6.688396\n5.810000\n\n\n6\n1994\n19.391913\n6.785380\n5.840000\n\n\n7\n1995\n19.602243\n6.832257\n5.860000\n\n\n8\n1996\n19.691458\n6.834582\n5.912689\n\n\n9\n1997\n19.700000\n6.985442\n6.136631\n\n\n10\n1998\n19.792902\n9.977427\n5.102120\n\n\n11\n1999\n19.616980\n9.872225\n5.045112\n\n\n12\n2000\n20.025918\n7.372130\n5.260719\n\n\n13\n2001\n20.235501\n7.488557\n5.351787\n\n\n14\n2002\n20.081724\n7.350921\n5.239386\n\n\n15\n2003\n19.500192\n8.754982\n5.883906\n\n\n16\n2004\n19.644668\n8.755922\n5.885261\n\n\n17\n2005\n20.174052\n8.261740\n5.201682\n\n\n18\n2006\n20.435839\n8.154805\n5.058225\n\n\n19\n2007\n21.275150\n7.354144\n5.960288\n\n\n20\n2008\n21.824862\n7.399570\n6.015066\n\n\n21\n2009\n21.696378\n7.396154\n5.992856\n\n\n22\n2010\n21.525254\n7.335344\n5.873992\n\n\n23\n2011\n21.367594\n7.302138\n5.812110\n\n\n24\n2012\n21.550948\n7.345698\n5.848071\n\n\n25\n2013\n21.634777\n7.349478\n5.849476\n\n\n26\n2014\n21.402991\n7.338686\n5.832550\n\n\n27\n2015\n21.979313\n7.380038\n5.893747\n\n\n28\n2016\n22.038465\n7.389125\n5.906246\n\n\n29\n2017\n22.274363\n7.442531\n5.977236\n\n\n30\n2018\n22.497301\n7.506099\n6.073034\n\n\n31\n2019\n22.243634\n7.489126\n6.047698\n\n\n32\n2020\n22.980009\n7.564619\n6.160965\n\n\n33\n2021\n22.366546\n7.667027\n6.418956\n\n\n34\n2022\n22.767227\n7.928816\n6.912164\n\n\n35\n2023\n22.584552\n7.813428\n6.681840\n\n\n\n\n\n\n\n\n\nPlotting Trends\nThis chart shows fuel economy trends for all three vehicle classes with trend lines. Several important patterns emerge:\n\nThe blue line (Light Duty) shows substantial improvement, rising from about 16 mpg in 1980 to over 24 mpg by 2023. This reflects CAFE standards requiring manufacturers to improve fleet fuel economy, along with technological improvements like direct fuel injection, turbocharging, continuously variable transmissions, and cylinder deactivation. The trend is approximately linear, suggesting consistent progress over time.\nThe red line (Medium Duty) shows more modest improvement, from about 6.5 to 8 mpg. Medium trucks face conflicting pressures: efficiency improvements versus increasing vehicle size and capability. The trend is flatter than light-duty, indicating slower progress.\nThe green line (Heavy Duty) is flattest of all, improving from about 5.5 to 6.0 mpg. Heavy truck fuel economy is limited by fundamental physics—aerodynamic drag and rolling resistance of a 80,000-pound vehicle. Recent regulations requiring aerodynamic improvements (side skirts, trailer tails) and low-rolling-resistance tires have helped, but gains are incremental.\n\nThe trend lines provide expected 2023 values that smooth out year-to-year variation from weather, economic conditions, and data collection variability.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Variable with a red line\nsns.lineplot(data=df_FuelEconomy, x=\"Year\", y=\"Light Duty\",\nlinewidth=2.5,color=\"#0070C0\", label=\"Light Duty\")\n\n# Plot Variable with a red line\nsns.lineplot(data=df_FuelEconomy, x=\"Year\", y=\"Medium Duty\",\nlinewidth=2.5,color=\"#FF0000\", label=\"Medium Duty\")\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelEconomy, x=\"Year\", y=\"Heavy Duty\",\nlinewidth=2.5, color=\"#00B050\", label=\"Heavy Duty\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_FuelEconomy, x='Year', y='Light Duty',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_FuelEconomy, x='Year', y='Medium Duty',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_FuelEconomy, x='Year', y='Heavy Duty',\n            scatter=False, color='#00B050', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Average Fuel Economy (miles per gallon)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Miles Travelled per Gallon', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_FuelEconomy['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits to extend to 25\nplt.ylim(0, 25)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\nThis table compares actual 2023 fuel economy against trend-based predictions for each vehicle class.\nThe “Light Duty” comparison reveals whether recent improvements in passenger vehicle efficiency are ahead of, behind, or on track with the long-term trend. If actual values exceed the trend, it might reflect a particularly good year for fuel economy—perhaps high gas prices encouraged purchasing more efficient vehicles. If actual values fall below the trend, it could indicate a shift toward larger vehicles or more aggressive driving.\n“Medium Duty” and “Heavy Duty” comparisons are similarly revealing. These markets respond less to consumer preferences and more to regulatory requirements and operational economics. Fleet operators maximize efficiency to reduce fuel costs, so deviations from trend likely reflect regulatory changes or technological breakthroughs rather than behavioral shifts.\nFor operating cost calculations, using trend values is generally appropriate for fuel economy because these represent long-term technological capability rather than short-term market fluctuations. However, if actual values consistently exceed trends for several years, it may indicate a structural improvement worth incorporating.\n\n\nShow the code\n# Create the comparison DataFrame\ndf_FuelEconomy_Comparision = pd.DataFrame({\n    'Date': [BASE_YEAR, BASE_YEAR, BASE_YEAR],\n    'Actual': [\n        df_FuelEconomy.loc[df_FuelEconomy['Year'] == BASE_YEAR, 'Light Duty'].iloc[0],\n        df_FuelEconomy.loc[df_FuelEconomy['Year'] == BASE_YEAR, 'Medium Duty'].iloc[0],\n        df_FuelEconomy.loc[df_FuelEconomy['Year'] == BASE_YEAR, 'Heavy Duty'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_FuelEconomy['Year']),\n                            pd.to_numeric(df_FuelEconomy['Light Duty']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_FuelEconomy['Year']),\n                            pd.to_numeric(df_FuelEconomy['Medium Duty']), 1))(BASE_YEAR),\n        np.poly1d(np.polyfit(pd.to_numeric(df_FuelEconomy['Year']),\n                            pd.to_numeric(df_FuelEconomy['Heavy Duty']), 1))(BASE_YEAR)\n    ]\n}, index=['Light Duty', 'Medium Duty', 'Heavy Duty']).round(2)\n\ndf_FuelEconomy_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nLight Duty\n2023\n22.58\n23.14\n\n\nMedium Duty\n2023\n7.81\n7.96\n\n\nHeavy Duty\n2023\n6.68\n6.18\n\n\n\n\n\n\n\n\n\n\nFuel Costs\nFuel prices are the most volatile component of vehicle operating costs. Unlike fuel economy (which changes gradually with fleet turnover) or maintenance costs (which increase slowly with parts and labor inflation), fuel prices can swing 50% or more in a single year due to crude oil markets, refinery outages, geopolitical events, and seasonal demand patterns.\nRegional variations in fuel prices also matter. The Rocky Mountain region (which includes Utah) typically has prices 5-15% different from the national average due to distance from refineries, pipeline capacity constraints, and regional fuel formulation requirements. Using region-specific prices improves the accuracy of operating cost estimates for our study area.\nThis subsection compiles daily fuel price data for both gasoline and diesel in the Rocky Mountain region from 1994 through 2024. We analyze both the full 30-year period and a more recent 20-year window (2005-2024) to assess whether long-term trends differ from recent patterns. This is particularly important given the oil price spike of 2008, the collapse in 2014-2016, and the 2020-2022 pandemic-related volatility.\n\nCreate Dataframe\nThe dataframe merges gasoline and diesel price series into a single time series dataset spanning 1994-2024. The EIA publishes weekly prices, but we match them to a daily date range to enable precise date-based lookups.\n“Gasoline $/gal” contains the retail price for all grades of gasoline in the Rocky Mountain region. This is a volume-weighted average of regular, midgrade, and premium grades reflecting actual consumer purchases. About 85% of gasoline sold is regular grade.\n“Diesel $/gal” contains the retail price for on-highway diesel fuel (No. 2 diesel) in the Rocky Mountain region. This is the fuel type used by medium and heavy trucks. Off-highway diesel (used in agriculture and construction) has lower taxes and is not included.\nMissing values appear as NaN (Not a Number). These typically occur in the first few years when diesel price reporting was less comprehensive. The code handles these properly by dropping NaN values before fitting trend lines.\n\n\nShow the code\n# Generate the date range between the desired dates\ndate_range = pd.date_range(\"1994-01-03\", \"2024-12-31\", freq=\"D\")\n\n# Compile data from Raw Datasets\ndf_FuelCosts = pd.DataFrame({\n  \"Date\": df_RetailGasPrices[df_RetailGasPrices['Date'].isin(date_range)]['Date'].values\n})\n\n# Merge Gasoline and Diesel prices directly\ndf_FuelCosts = df_FuelCosts.merge(df_RetailGasPrices[['Date', 'Weekly Rocky Mountain All Grades All Formulations Retail Gasoline Prices  (Dollars per Gallon)']], on='Date', how='left') \\\n                            .merge(df_RetailDieselPrices[['Date', 'Weekly Rocky Mountain No 2 Diesel Retail Prices  (Dollars per Gallon)']], on='Date', how='left')\n\n# Rename columns\ndf_FuelCosts.rename(columns={\n    'Weekly Rocky Mountain All Grades All Formulations Retail Gasoline Prices  (Dollars per Gallon)': 'Gasoline $/gal',\n    'Weekly Rocky Mountain No 2 Diesel Retail Prices  (Dollars per Gallon)': 'Diesel $/gal'\n}, inplace=True)\n\n# View the dataset\ndf_FuelCosts\n\n\n\n\n\n\n\n\n\nDate\nGasoline $/gal\nDiesel $/gal\n\n\n\n\n0\n1994-01-03\n1.085\nNaN\n\n\n1\n1994-01-10\n1.065\nNaN\n\n\n2\n1994-01-17\n1.092\nNaN\n\n\n3\n1994-01-24\n1.075\nNaN\n\n\n4\n1994-01-31\n1.063\nNaN\n\n\n...\n...\n...\n...\n\n\n1613\n2024-12-02\n2.912\n3.431\n\n\n1614\n2024-12-09\n2.910\n3.329\n\n\n1615\n2024-12-16\n2.964\n3.357\n\n\n1616\n2024-12-23\n3.014\n3.328\n\n\n1617\n2024-12-30\n3.007\n3.370\n\n\n\n\n1618 rows × 3 columns\n\n\n\n\n\nPlotting Trends\n\nRetail Gasoline Prices - Rocky Mountain (1994 - 2024)\nThis chart shows three decades of gasoline prices with a linear trend line (red). The price series is highly volatile, reflecting the turbulent nature of oil markets:\n\n1994-1999: Relatively stable around $1.00-1.50/gallon\n2000-2008: Rapid increase to over $4.00/gallon, driven by growing global demand and geopolitical tensions\n2008-2009: Sharp collapse during the financial crisis\n2010-2014: Sustained high prices around $3.50/gallon\n2014-2016: Dramatic decline due to U.S. shale oil production and OPEC supply increases\n2017-2019: Moderate recovery\n2020: Brief collapse during COVID-19 pandemic lockdowns\n2021-2024: Rapid increase then gradual decline\n\nThe linear trend line (red) shows an upward slope of approximately 3-4 cents per year over the 30-year period, indicating that despite enormous volatility, gasoline prices have risen faster than general inflation. However, the trend line poorly captures the actual price dynamics—it cuts through the middle of wild swings above and below. This highlights the limitation of using simple linear trends for highly volatile commodities.The y-axis extends to $6.00 per gallon to accommodate historical peaks. The x-axis shows every other year to avoid label crowding. Grid lines aid in reading specific price levels. For 2023 estimates, the question becomes: should we use the actual price from that year, or a smoothed trend value? Given the volatility, using a specific date (like July 1, 2023, representing mid-year conditions) may better reflect what travelers actually experienced than a long-term trend that averages over boom-and-bust cycles.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Gasoline $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Calculate and plot regression line inline\nplt.plot(\n    df_FuelCosts['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts['Date']),\n        df_FuelCosts['Gasoline $/gal']\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts['Date']),\n        df_FuelCosts['Gasoline $/gal']\n    )[0] * pd.to_numeric(df_FuelCosts['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Gasoline Prices ($ per gallon) - Rocky Mountain (1994 - 2024)',\n          fontsize=14, fontweight='bold', pad=16)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique()[::2], rotation=90)\nplt.yticks(np.arange(0, 6.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(df_FuelCosts['Date'].min(), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 6\nplt.ylim(0, 6)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nRetail Gasoline Prices - Rocky Mountain (2005 - 2024)\nThis chart focuses on the most recent 20 years to assess whether recent price behavior differs from the long-term pattern. The same data is shown, but with the trend line (red) fitted only to 2005-2024 data.\nComparing this trend to the 1994-2024 trend reveals whether gasoline price dynamics have changed. If the 2005+ trend is steeper, recent price increases are outpacing historical patterns, perhaps due to sustained global demand or reduced spare production capacity. If the recent trend is flatter, it suggests a structural change—perhaps shale oil production has created a price ceiling by bringing new supply online whenever prices rise too high.\nThe 2005 starting point deliberately excludes the very low prices of the 1990s, which may no longer be relevant given changes in global oil markets, climate policy, and production costs. For a 2023 base year, a trend fitted to more recent data may provide more relevant context than one that includes conditions from three decades ago.\nAll years are shown on the x-axis for this 20-year window, as there are few enough to display without crowding. The chart makes clear that even in this shorter period, volatility remains extreme—the range from low to high still exceeds $2.00 per gallon.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Gasoline $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Calculate and plot regression line for filtered data inline\nplt.plot(\n    df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Gasoline $/gal']\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Gasoline $/gal']\n    )[0] * pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Gasoline Prices ($ per gallon) - Rocky Mountain (2005 - 2024)', fontsize=14, fontweight='bold', pad=16)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique(), rotation=90)\nplt.yticks(np.arange(0, 6.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(pd.to_datetime(\"2005-01-01\"), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 6\nplt.ylim(0, 6)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nRetail Diesel Prices - Rocky Mountain (1994 - 2024)\nThis chart parallels the gasoline analysis but for diesel fuel, which powers medium and heavy trucks. Diesel prices follow similar patterns to gasoline but with some distinct characteristics:\n\nDiesel typically costs $0.10-0.50 more per gallon than gasoline due to higher refining costs and federal excise tax differences (24.4 cents/gallon for diesel vs. 18.4 cents/gallon for gasoline)\nThe diesel-gasoline price spread varies over time based on refinery economics and relative supply-demand conditions\nDiesel prices often lead gasoline prices—when crude oil costs rise, refineries pass through costs to diesel markets first because commercial customers are less price-sensitive than retail gasoline consumers\nCold weather can create diesel price spikes because heating oil (chemically similar to diesel) competes for the same refinery output\n\nThe red trend line shows diesel prices rising at roughly the same rate as gasoline over the full 30-year period. The 1994-2003 period has some data gaps (visible as breaks in the blue line) when regional diesel price reporting was less comprehensive. These gaps are handled by the code through .dropna() operations that remove missing values before analysis. The chart uses the same y-axis scale ($0-6/gallon) as the gasoline charts to facilitate direct comparison. Diesel prices generally track in the upper portion of this range, consistently above gasoline.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Diesel $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Calculate and plot regression line inline\nplt.plot(\n    df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date']),\n        df_FuelCosts.dropna(subset=['Diesel $/gal'])['Diesel $/gal']\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date']),\n        df_FuelCosts.dropna(subset=['Diesel $/gal'])['Diesel $/gal']\n    )[0] * pd.to_numeric(df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Diesel Prices ($ per gallon) - Rocky Mountain (1994 - 2024)',\n          fontsize=14, fontweight='bold', pad=16)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique()[::2], rotation=90)\nplt.yticks(np.arange(0, 6.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(df_FuelCosts['Date'].min(), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 5\nplt.ylim(0, 6)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nRetail Diesel Prices - Rocky Mountain (2005 - 2024)\nThis chart examines recent diesel price trends, fitting the trend line only to 2005-2024 data. The more recent period shows diesel prices becoming particularly volatile in 2021-2022, when supply chain disruptions, reduced refining capacity, and geopolitical factors created unusual price pressures.\nThe post-2005 trend may differ from the long-term trend for several reasons:\n\nU.S. ultra-low sulfur diesel requirements (implemented 2006-2010) changed refining economics\nGrowing diesel exports to Europe and Latin America tightened domestic supplies\nHurricane damage to Gulf Coast refineries reduced diesel production capacity\nRenewable diesel production (using vegetable oils and waste fats) began competing for market share\n\nFor truck operating costs, diesel price trends are critical because fuel represents 20-40% of total heavy truck operating expenses. Even a 10-cent-per-gallon change in diesel prices can significantly impact freight costs and trucking company profitability. The difference between using a 1994-2024 trend versus a 2005-2024 trend could change operating cost estimates by several cents per mile—enough to matter for policy analysis.\nAll x-axis labels are shown for the 20-year window. The filtering of data to 2005+ is visible in the chart limits. The code properly handles the filtering by applying it both to the displayed data and to the trend line calculation, ensuring consistency.\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\n# plt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Diesel $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Plot regression line for dates from 2005 onwards\nplt.plot(\n    df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Diesel $/gal'].dropna()\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Diesel $/gal'].dropna()\n    )[0] * pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Diesel Prices ($ per gallon) - Rocky Mountain (2005 - 2024)',\n          fontsize=14, fontweight='bold', pad=16)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique(), rotation=90)\nplt.yticks(np.arange(0, 6.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(pd.to_datetime(\"2005-01-01\"), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 6\nplt.ylim(0, 6)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n1994 - 2024\nThis table shows trend-based price estimates for three specific dates using the full 30-year trend:\n\nJanuary 1, 2019: A pre-pandemic baseline for comparison\nDecember 31, 2023: Year-end conditions for the base year\nJuly 1, 2023: Mid-year conditions, often used as an annual average proxy\n\nThe three dates reveal how much prices varied within 2023 and between 2019 and 2023. If July 2023 prices are close to the trend line, using trend-based estimates is justified. If actual prices deviate significantly, it may indicate an unusual year requiring direct use of actual prices rather than smoothed trends.\nThe table presents values to three decimal places (e.g., $3.245/gallon) to enable precise calculations. When fuel economy is 20+ mpg, even small price differences of a few cents per gallon translate to measurable differences in cost per mile.\nComparing gasoline and diesel trends shows whether the historical price spread is widening or narrowing. If diesel trends are rising faster than gasoline trends, it suggests structural factors are making diesel relatively more expensive over time.\n\n\nShow the code\n# Create the comparison DataFrame\ncomparison_dates = [pd.to_datetime(\"2023-01-01\"), pd.to_datetime(\"2023-12-31\"), pd.to_datetime(\"2023-07-01\")]\n\ndf_FuelCost_Comparison_1 = pd.DataFrame({\n    'Gasoline Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts.dropna(subset=['Date', 'Gasoline $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts.dropna(subset=['Date', 'Gasoline $/gal'])['Gasoline $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ],\n    'Diesel Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts.dropna(subset=['Date', 'Diesel $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts.dropna(subset=['Date', 'Diesel $/gal'])['Diesel $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ]\n}, index=comparison_dates).round(3)\n\ndf_FuelCost_Comparison_1\n\n\n\n\n\n\n\n\n\nGasoline Trend\nDiesel Trend\n\n\n\n\n2023-01-01\n3.521\n3.973\n\n\n2023-12-31\n3.603\n4.074\n\n\n2023-07-01\n3.562\n4.023\n\n\n\n\n\n\n\n\n\n2005 - 2024\nThis table repeats the analysis using only post-2005 data to fit the trends. Comparing this table to the 1994-2024 results reveals whether recent trends differ from long-term patterns.\nIf the 2005-2024 trend estimates are higher than the 1994-2024 estimates for the same dates, it indicates prices have been rising faster in recent years than the long-term average would suggest. This could reflect:\n\nDepletion of low-cost oil resources requiring more expensive production\nGrowth in global demand outpacing supply growth\nClimate policies or carbon pricing adding to fuel costs\nReduced refining capacity as older refineries close without replacement\n\nConversely, if 2005-2024 trends are lower, it might reflect:\n\nShale oil production creating downward price pressure\nImproved vehicle efficiency reducing demand\nEconomic shifts away from fuel-intensive activities\n\nFor operating cost calculations, the choice between long-term and recent trends can significantly impact results. If recent trends are more representative of current market conditions, using them produces more accurate estimates. If recent years represent a temporary deviation from long-term patterns, the full-period trend may be more appropriate.\nThe three-decimal-place precision enables analysts to see small but meaningful differences between the two trend periods. Differences of even $0.10/gallon translate to 0.4-0.5 cents per mile for light-duty vehicles and 1.5-2.0 cents per mile for heavy trucks.\n\n\nShow the code\n# Create the comparison DataFrame\ncomparison_dates = [pd.to_datetime(\"2023-01-01\"), pd.to_datetime(\"2023-12-31\"), pd.to_datetime(\"2023-07-01\")]\n\n# Filter for dates &gt;= 2005-01-01 and fit trends\ndate_filter = pd.to_datetime(df_FuelCosts['Date']) &gt;= pd.to_datetime(\"2005-01-01\")\n\ndf_FuelCost_Comparison_2 = pd.DataFrame({\n    'Gasoline Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts[date_filter].dropna(subset=['Date', 'Gasoline $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts[date_filter].dropna(subset=['Date', 'Gasoline $/gal'])['Gasoline $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ],\n    'Diesel Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts[date_filter].dropna(subset=['Date', 'Diesel $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts[date_filter].dropna(subset=['Date', 'Diesel $/gal'])['Diesel $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ]\n}, index=comparison_dates).round(3)\n\ndf_FuelCost_Comparison_2\n\n\n\n\n\n\n\n\n\nGasoline Trend\nDiesel Trend\n\n\n\n\n2023-01-01\n3.237\n3.659\n\n\n2023-12-31\n3.269\n3.704\n\n\n2023-07-01\n3.253\n3.682"
  },
  {
    "objectID": "index.html#auto-operating-costs",
    "href": "index.html#auto-operating-costs",
    "title": "Auto Operating Costs Calculation",
    "section": "6 Auto Operating Costs",
    "text": "6 Auto Operating Costs\nAll the preceding analysis—fuel prices, fuel economy, maintenance costs, and trend evaluations—now comes together to calculate the bottom-line metric: operating cost in cents per mile for each vehicle class. This is the number that enters travel demand models and informs policy analysis.\nThe calculation follows a simple formula for each vehicle class: Operating Cost (cents/mile) = [Fuel Price ($/gallon) ÷ Fuel Economy (miles/gallon) × 100] + Maintenance Cost (cents/mile)\nThe first term converts fuel price and economy into fuel cost per mile. Dividing dollars per gallon by miles per gallon yields dollars per mile; multiplying by 100 converts to cents per mile. The second term adds non-fuel variable costs (maintenance and tires). Four vehicle classes receive separate calculations:\n\nAOC_Auto: Passenger cars and car-based SUVs\nAOC_LT: Light-duty trucks (pickups, SUVs, vans)\nAOC_MD: Medium-duty trucks (single-unit delivery and commercial trucks)\nAOC_HV: Heavy-duty trucks (combination tractor-trailers)\n\nEach class uses fuel type (gasoline vs. diesel), fuel economy, and maintenance costs appropriate to that vehicle category. The calculations explicitly show each component to maintain transparency and enable validation.\n\n\nShow the code\n# Autos\nAOC_Auto = (\n  # Get gasoline price per gallon for July 2023\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2023-07-01\"), 'Gasoline Trend'] /\n    # Divide by fuel economy (miles per gallon) to get gallons per mile\n    df_FuelEconomy_Comparision.loc['Light Duty', 'Trend'] * 100 +  # Convert to cents\n    # Add maintenance and tire costs per mile (already in cents)\n    df_AutoCost_Comparision.loc['Maint+Tires', 'Trend']\n)\n\n# Light Duty Trucks\nAOC_LT = (\n    # Fuel cost: (price per gallon / mpg) * 100 cents per dollar\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2023-07-01\"), 'Gasoline Trend'] /\n    df_FE_SizeClass_1[df_FE_SizeClass_1['Manufacturer\\'s gross vehicle weight class'] == 'Light truck subtotal (1–2)']['2002 VIUS'].iloc[0] * 100 +\n    # Maintenance cost\n    df_AutoCost_Comparision.loc['Maint+Tires', 'Trend']\n)\n\n# Medium Duty Trucks\nAOC_MD = (\n    # Fuel cost: diesel price / medium duty mpg * 100\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2023-07-01\"), 'Diesel Trend'] /\n    df_FuelEconomy_Comparision.loc['Medium Duty', 'Trend'] * 100 +\n    # Maintenance cost: approximation as average of light and heavy\n    (df_AutoCost_Comparision.loc['Maint+Tires', 'Trend'] + (df_RepairMaintenanceCost_Heavy[df_RepairMaintenanceCost_Heavy['Year'] == '2023']['CostMile'].iloc[0] * 100)) / 2\n)\n\n# Heavy Duty Trucks\nAOC_HV = (\n    # Fuel cost: diesel price / heavy duty mpg * 100\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2023-07-01\"), 'Diesel Trend'] /\n    df_FuelEconomy_Comparision.loc['Heavy Duty', 'Trend'] * 100 +\n    # Maintenance cost\n    (df_RepairMaintenanceCost_Heavy['CostMile'].mean() * 100)\n)\n\n\nLet’s examine each calculation in detail:\nAOC_Auto (Automobiles):\n\nUses July 1, 2023 gasoline price from the 1994-2024 trend (df_FuelCost_Comparison_1)\nDivides by light-duty fuel economy trend value for 2023 (df_FuelEconomy_Comparision)\nMultiplies by 100 to convert dollars per mile to cents per mile\nAdds maintenance and tires cost trend value for 2023 (df_AutoCost_Comparision)\n\nThis represents the cost per mile for a typical passenger car under mid-year 2023 conditions. The use of trend values smooths out year-to-year volatility to produce a stable estimate.\nAOC_LT (Light Trucks):\n\nUses the same July 1, 2023 gasoline price (light trucks use gasoline, not diesel)\nDivides by the fuel economy for light truck subtotal from the 2002 VIUS survey (df_FE_SizeClass_1)\nThis 2002 value (16.2 mpg) is older than ideal but represents the most recent detailed survey of light truck fuel economy by weight class\nAdds the same maintenance cost as automobiles, as light trucks have similar service requirements\n\nThe light truck calculation uses somewhat older fuel economy data because more recent surveys were discontinued. The 2002 value likely understates current light truck efficiency, as fuel economy has improved since then, meaning this calculation may slightly overestimate light truck operating costs.\nAOC_MD (Medium Duty Trucks):\n\nUses July 1, 2023 diesel price (medium trucks predominantly use diesel engines)\nDivides by medium-duty fuel economy trend for 2023\nAdds maintenance costs estimated as the average of light-duty maintenance (from AAA data) and heavy-duty maintenance (from trucking industry surveys)\n\nThe maintenance cost approximation acknowledges that medium trucks fall between passenger vehicles and heavy trucks in terms of service intensity and costs. They require more frequent maintenance than cars but less than tractor-trailers.\nAOC_HV (Heavy Duty Trucks):\n\nUses July 1, 2023 diesel price\nDivides by heavy-duty fuel economy trend for 2023 (typically around 6 mpg)\nAdds heavy truck maintenance costs from American Transportation Research Institute data (converted from dollars per mile to cents per mile by multiplying by 100)\n\nHeavy trucks have the highest operating costs due to poor fuel economy (large engines moving heavy loads) and intensive maintenance requirements (high annual mileage and severe duty cycles requiring frequent service).\nThe calculations use a mix of actual 2023 data and trend-based estimates depending on data availability and volatility. Fuel prices use mid-year 2023 values to represent typical conditions. Fuel economy and maintenance use trend values to smooth short-term fluctuations."
  },
  {
    "objectID": "index.html#export",
    "href": "index.html#export",
    "title": "Auto Operating Costs Calculation",
    "section": "7 Export",
    "text": "7 Export\nThe final output table presents the culmination of this analysis: operating costs for the base year 2023 compared to the previous calculation from 2019. This comparison reveals how operating costs have changed and whether the changes are consistent with underlying trends in fuel prices, fuel economy, and maintenance costs.\nThe four vehicle classes represent the essential categories for travel demand modeling:\n\nPersonal vehicles (autos and light trucks) used for household travel\nCommercial vehicles (medium and heavy trucks) used for freight movement\n\nEach class has distinct cost structures reflecting their different technologies, usage patterns, and operational requirements. Monitoring how these costs evolve over time helps transportation planners understand changing incentives for travel mode choice, vehicle type choice, and trip-making decisions.\n\n\nShow the code\n# Create dataframe compiling data\ndf_AOC_export = pd.DataFrame({\n  'Auto Operating Costs': ['AOC_Auto', 'AOC_LT', 'AOC_MD', 'AOC_HV'],\n  '2019 Cost (cent/mile)': [21.7, 27.3, 55.5, 74.3], # From 2019 Excel Calculations\n  '2023 Cost (cent/mile)': [\n      AOC_Auto.round(1),\n      AOC_LT.round(1),\n      AOC_MD.round(1),\n      AOC_HV.round(1)\n    ]\n})\n\n# View the dataset\ndf_AOC_export\n\n\n\n\n\n\n\n\n\nAuto Operating Costs\n2019 Cost (cent/mile)\n2023 Cost (cent/mile)\n\n\n\n\n0\nAOC_Auto\n21.7\n24.2\n\n\n1\nAOC_LT\n27.3\n30.8\n\n\n2\nAOC_MD\n55.5\n65.0\n\n\n3\nAOC_HV\n74.3\n81.4\n\n\n\n\n\n\n\nThe comparison table shows operating costs for both 2019 and 2023, revealing several important trends:\n\nAutomobiles (AOC_Auto): The increase from 21.7 to 24.2 cents per mile reflects changes in gasoline prices and offsetting improvements in fuel economy. If the increse is modest (a few cents), it suggests that fuel economy gains have partially offset fuel price increases. A larger increase indicates that fuel prices rose faster than efficiency improved.\nLight Trucks (AOC_LT): The increase from 27.3 to 30.8 cents per mile shows how pickup trucks and SUVs, which have lower fuel economy than cars, experience larger operating cost increases when fuel prices rise. The percentage increase for light trucks typically exceeds that for automobiles unless light truck fuel economy improved unusually fast.\nMedium Duty Trucks (AOC_MD): The increase from 55.5 to 65.0 cents per mile reflects diesel price changes and medium truck efficiency trends. Medium trucks have roughly double the operating costs of light-duty vehicles due to much lower fuel economy (7-8 mpg vs. 16-24 mpg). These costs directly impact local freight delivery economics and potentially goods prices.\nHeavy Duty Trucks (AOC_HV): The increase from 74.3 to 81.4 cents per mile shows how tractor-trailers, with the lowest fuel economy (5-6 mpg), face the highest operating costs. Even modest diesel price increases create substantial cost pressures for trucking companies. These costs ultimately influence freight rates and the competitiveness of truck transport versus rail or other modes.\n\nThe table provides transparency by showing both the historical baseline (2019) and current estimates (2023). Users can assess whether cost changes are reasonable given fuel price movements between these years. The values can be directly imported into travel demand models as updated per-mile cost parameters.\nThese operating cost estimates exclude fixed costs (insurance, depreciation, registration) because travel demand models respond to marginal costs—the cost of each additional mile driven. Fixed costs, already paid regardless of usage, don’t influence short-term travel decisions. However, they do affect vehicle ownership decisions and long-term travel patterns.\nThe final values should be validated by comparing to other sources: trucking industry surveys, fleet operator cost data, or independent fuel cost calculators. If the estimates align with these external benchmarks, it provides confidence in the methodology. Significant discrepancies warrant investigation to identify potential data errors or methodological improvements.\n\n\nShow the code\n# Create output directory if it doesn't exist\noutput_dir = Path(\"_output\")\noutput_dir.mkdir(parents=True, exist_ok=True)\n\n# Export to CSV\ndf_AOC_export.to_csv(\n    output_dir / \"AOC_export.csv\",\n    index=False\n)\n\n\n\n\n\n\n\n\nTipDownload the output files:\n\n\n\nAOC_export.csv"
  },
  {
    "objectID": "0 - Auto Operating Cost - 2022-01-11.html",
    "href": "0 - Auto Operating Cost - 2022-01-11.html",
    "title": "Auto Operating Costs Calculation",
    "section": "",
    "text": "This document is just replicating the excel sheet located in /archive-v9.0/1 - Auto Operating Costs - 2022-01-11.xlsx."
  },
  {
    "objectID": "0 - Auto Operating Cost - 2022-01-11.html#import-libraries",
    "href": "0 - Auto Operating Cost - 2022-01-11.html#import-libraries",
    "title": "Auto Operating Costs Calculation",
    "section": "1 Import Libraries",
    "text": "1 Import Libraries\n!pip install pandas openpyxl\n# OR\n!conda install pandas openpyxl\n\n\nShow the code\n# For Analysis\nimport numpy as np\nimport pandas as pd\n\n# For Visualization\nimport matplotlib.pyplot as plt\nimport matplotlib.dates as mdates\nfrom matplotlib.ticker import FuncFormatter\nimport seaborn as sns\nfrom scipy.interpolate import make_interp_spline\nfrom scipy import stats\n\n# For Date time processing\nimport datetime"
  },
  {
    "objectID": "0 - Auto Operating Cost - 2022-01-11.html#read-raw-data",
    "href": "0 - Auto Operating Cost - 2022-01-11.html#read-raw-data",
    "title": "Auto Operating Costs Calculation",
    "section": "2 Read Raw Data",
    "text": "2 Read Raw Data\n\n3-11\nTable 3-11: Sales Price of Transportation Fuel to End-Users [Source: Bureau of Transportation Statistics]\nFile URL: https://www.bts.gov/sites/bts.dot.gov/files/2024-03/table_03_11_032824.xlsx\n\n\nShow the code\n# Read Excel file directly from URL\ndf_3_11 = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Auto Cost & Gas Price.xlsx\",\n  sheet_name=\"3-11\",\n  header=1,\n  usecols=\"A:AH\", # TODO: update cols later for new data\n  nrows=10\n)\n\n# display the data\ndf_3_11\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n1995\n1996\n...\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n\n\n\n\n0\nAviation fuel (excluding taxes)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1\nAviation gasolinea\n108.4\n120.10\n112.00\n104.70\n102.70\n99.00\n95.70\n100.50\n111.60\n...\n380.30\n397.1\n393.20\n398.6\nW\nW\nW\nW\nW\n263.9\n\n\n2\nJet fuel kerosenea\n86.8\n79.60\n76.60\n65.20\n61.00\n58.00\n53.40\n54.00\n65.10\n...\n305.40\n310.4\n297.90\n277.2\n162.9\n131.9\n162.9\n211.9\n197\n121.8\n\n\n3\nHighway fuel (including taxes)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n4\nGasoline, premiumb\nN\n134.00\n134.90\n132.10\n131.60\n130.20\n130.50\n133.60\n141.30\n...\n379.20\n392.2\n384.30\n371.3\n286.6\n261\n291.1\n327\n321.2\n279.1\n\n\n5\nGasoline, regularb\n124.5\n120.20\n116.40\n114.00\n112.70\n110.80\n111.20\n114.70\n123.10\n...\n352.70\n364.4\n352.60\n336.7\n244.8\n214.2\n240.8\n273.5\n263.6\n217.4\n\n\n6\nGasoline, all types\n122.1\n119.60\n121.70\n119.60\n119.00\n117.30\n117.40\n120.50\n128.80\n...\n357.70\n369.5\n358.40\n342.5\n251.0\n220.4\n246.9\n279.4\n269.8\n224.2\n\n\n7\nDiesel no. 2 (excluding taxes)a\n81.8\n78.90\n72.50\n64.80\n61.90\n60.20\n55.40\n56.00\n68.10\n...\n311.70\n320.2\n312.20\n292.3\n181.9\n151.1\n181.1\n225.6\n211.4\n147.7\n\n\n8\nRailroad fuel\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n9\nDiesel\n82.64\n77.76\n69.22\n67.24\n63.29\n63.05\n59.87\n60.01\n67.66\n...\n307.07\n316.7\n312.37\n294.7\n179.14\n143.97\n177.08\n223\n205.07\nU\n\n\n\n\n10 rows × 34 columns\n\n\n\n\n\n3-12\nTable 3-12: Price Trends of Gasoline v. Other Consumer Goods and Services [Source: Bureau of Transportation Statistics]\nFile URL: https://www.bts.gov/sites/bts.dot.gov/files/2024-03/table_03_12_032824_1.xlsx\n\n\nShow the code\n# Read Excel file directly from URL\ndf_3_12 = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Auto Cost & Gas Price.xlsx\",\n  sheet_name=\"3-12\",\n  header=1,\n  usecols=\"A:AJ\", # TODO: update cols later for new data\n  nrows=15\n)\n\n# display the data\ndf_3_12\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n...\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n\n\n\n\n0\nRetail price of motor gasoline, all types (con...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1\nTotal service station price\n1.922553\n2.196066\n2.926173\n2.198561\n1.873159\n1.776215\n1.724424\n1.657985\n1.625456\n...\n3.296684\n3.334806\n3.187406\n2.995277\n2.191304\n1.899656\n2.083261\n2.301386\n2.182764\n1.791483\n\n\n2\nService station price excluding taxes\n1.327628\n1.718324\n2.578960\n1.829438\n1.514689\n1.356071\n1.295927\n1.149847\n1.121620\n...\n2.930058\n2.973528\n2.829018\n2.637042\n1.812043\n1.525051\n1.695129\n1.931261\n1.808475\nU\n\n\n3\nAverage motor gasoline taxesa\n0.594925\n0.477742\n0.347213\n0.369123\n0.358471\n0.420143\n0.428498\n0.508138\n0.503836\n...\n0.366626\n0.361278\n0.358387\n0.358235\n0.379261\n0.374605\n0.388133\n0.370124\n0.374290\nU\n\n\n4\nRetail price of motor gasoline, all types (cur...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n5\nTotal service station price\n0.360000\n0.570000\n1.221000\n1.196000\n1.217000\n1.196000\n1.190000\n1.173000\n1.174000\n...\n3.577000\n3.695000\n3.584000\n3.425000\n2.510000\n2.204000\n2.469000\n2.794000\n2.698000\n2.242\n\n\n6\nService station price excluding taxes\n0.248600\n0.446000\n1.083000\n0.995200\n0.984100\n0.913100\n0.894300\n0.813500\n0.810100\n...\n3.179200\n3.294700\n3.181020\n3.015370\n2.075580\n1.769380\n2.009000\n2.344650\n2.235360\n2.058\n\n\n7\nAverage motor gasoline taxesa\n0.111400\n0.124000\n0.138000\n0.200800\n0.232900\n0.282900\n0.295700\n0.359500\n0.363900\n...\n0.397800\n0.400300\n0.402980\n0.409630\n0.434420\n0.434620\n0.460000\n0.449350\n0.462640\n0.184\n\n\n8\nConsumer price indices (1982-84 = 100)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n9\nAll items\n38.800000\n53.800000\n82.400000\n107.600000\n130.700000\n136.200000\n140.300000\n144.500000\n148.200000\n...\n224.939000\n229.594000\n232.957000\n236.736000\n237.017000\n240.007000\n245.120000\n251.107000\n255.657000\n258.811\n\n\n10\nFood\n39.200000\n59.800000\n86.800000\n105.600000\n132.400000\n136.300000\n137.900000\n140.900000\n144.300000\n...\n227.842000\n233.777000\n237.037000\n242.725000\n247.235000\n247.931000\n250.065000\n253.558000\n258.316000\n267.219\n\n\n11\nShelter\n35.500000\n48.800000\n81.000000\n109.800000\n140.000000\n146.300000\n151.200000\n155.700000\n160.500000\n...\n251.646000\n257.083000\n263.056000\n270.513000\n278.803000\n288.230000\n297.803000\n307.663000\n318.053000\n325.886\n\n\n12\nApparel\n59.200000\n72.500000\n90.900000\n105.000000\n124.100000\n128.700000\n131.900000\n133.700000\n133.400000\n...\n122.111000\n126.265000\n127.411000\n127.514000\n125.903000\n126.045000\n125.612000\n125.654000\n124.052000\n118.079\n\n\n13\nMotor fuel\n27.900000\n45.100000\n97.400000\n98.700000\n101.200000\n99.400000\n99.000000\n98.000000\n98.500000\n...\n302.619000\n312.660000\n303.850000\n292.435000\n213.062000\n188.389000\n212.721000\n241.861000\n233.234000\n195.242\n\n\n14\nMedical care\n34.000000\n47.500000\n74.900000\n113.500000\n162.800000\n177.000000\n190.100000\n201.400000\n211.000000\n...\n400.258000\n414.924000\n425.134000\n435.292000\n446.752000\n463.675000\n475.322000\n484.707000\n498.413000\n518.876\n\n\n\n\n15 rows × 36 columns\n\n\n\n\n\n3-25\nTable 3-25: Average Wage and Salary Accruals per Full-Time Equivalent Employee by Transportation Industry [Source: Bureau of Transportation Statistics]\nFile URL: https://www.bts.gov/sites/bts.dot.gov/files/2022-10/table_03_25_102122.xlsx\n\n\nShow the code\n# Read Excel file directly from URL\ndf_3_25 = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Income-Wage.xlsx\",\n  sheet_name=\"3-25\",\n  header=1,\n  usecols=\"A:X\", # TODO: update cols later for new data\n  nrows=10\n)\n\n# display the data\ndf_3_25\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1998\n1999\n2000\n2001\n2002\n2003\n2004\n2005\n2006\n...\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n\n\n\n\n0\nAll industries\n35509\n37050\n39231\n40213\n40975\n42335\n44263\n45643\n47731\n...\n54699\n56089\n56667\n58350\n59993\n60826\n62721\n64685\n66781\n71456\n\n\n1\nTransportation and warehousing, total\n35965\n37426\n39055\n39941\n40690\n41542\n43324\n43939\n45491\n...\n51305\n52427\n53364\n54817\n55941\n56593\n57905\n59652\n60647\n61666\n\n\n2\nAir\n48919\n50879\n53231\n56129\n58115\n57596\n59026\n56772\n59290\n...\n69400\n70419\n77843\n80317\n84815\n92313\n94909\n96781\n98449\n99954\n\n\n3\nRail\n59766\n61287\n63353\n64100\n65120\n68108\n72097\n72903\n75207\n...\n86303\n92289\n88364\n94268\n95455\n93446\n96818\n103016\n103306\n114672\n\n\n4\nWater\n48450\n50407\n51516\n55953\n56988\n58202\n61774\n62903\n66463\n...\n82480\n82976\n84329\n87942\n90253\n89909\n92209\n95416\n96468\n101096\n\n\n5\nTruck\n33686\n34864\n36030\n36502\n37315\n38296\n40106\n41481\n43069\n...\n46869\n47810\n48831\n50679\n52057\n52676\n54525\n57211\n58338\n60585\n\n\n6\nTransit and ground passenger transportation\n21840\n22801\n23827\n24335\n24764\n25274\n26725\n27123\n28600\n...\n32015\n32553\n33125\n34236\n35413\n37442\n40547\n44520\n51674\n49588\n\n\n7\nPipeline\n64305\n71789\n96662\n100514\n82058\n83970\n89294\n88952\n97746\n...\n119021\n137264\n124309\n124963\n129658\n130880\n136721\n137285\n146037\n145784\n\n\n8\nOther transportation and support activitiesb\n32605\n34489\n35823\n36173\n37672\n39122\n41429\n42518\n44126\n...\n49988\n50800\n51636\n52364\n52882\n53007\n53984\n55216\n55694\n57562\n\n\n9\nWarehousing and storage\n31317\n32307\n33623\n34156\n35164\n36605\n37942\n38861\n39410\n...\n44956\n45408\n45603\n46375\n46642\n45893\n45659\n46457\n46818\n48340\n\n\n\n\n10 rows × 24 columns\n\n\n\n\n\n4-12\nTable 4-12: Light Duty Vehicle, Long Wheel Base Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\nFile URL: https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_12M_032725.xlsx\n\n\nShow the code\n# Read Excel file directly from URL\ndf_4_12 = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Fuel Efficiency.xlsx\",\n  sheet_name=\"4-12\",\n  header=1,\n  usecols=\"A:AI\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_4_12\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n...\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n\n\n\n\n0\nNumber registered (thousands)\n14210.591000\n20418.250000\n27875.934000\n37213.862554\n48274.555010\n53033.443000\n57091.142829\n59993.705543\n57141.967000\n...\n40241.657961\n50318.787311\n50588.676217\n51512.739867\n52600.309315\n53298.884000\n54870.473000\n56880.878000\n57853.642000\n59465.369000\n\n\n1\nVehicle-miles traveled (millions)\n123286.000000\n200700.000000\n290935.000000\n390960.594244\n574570.645532\n649393.980496\n706862.759067\n745749.875553\n669321.074506\n...\n622711.753397\n604175.473333\n601231.899220\n603306.816472\n638484.173908\n631852.444733\n657954.081275\n656577.526707\n664495.031255\n669744.315204\n\n\n2\nFuel consumed (million gallons)\n12313.439000\n19080.677699\n23796.196146\n27363.169914\n35611.040835\n38216.904843\n40929.421682\n42851.206705\n44422.988268\n...\n36250.973903\n35334.618042\n35114.343892\n35158.688623\n37342.987266\n36437.330269\n37818.755208\n37466.749228\n37189.349730\n38028.860029\n\n\n3\nAverage miles traveled per vehicle (thousands)\n8.675642\n9.829442\n10.436780\n10.505778\n11.902143\n12.244990\n12.381303\n12.430469\n11.713301\n...\n15.474307\n12.006956\n11.884713\n11.711798\n12.138411\n11.854891\n11.991041\n11.543027\n11.485794\n11.262762\n\n\n4\nAverage miles traveled per gallon\n10.012313\n10.518494\n12.226114\n14.287840\n16.134621\n16.992323\n17.270285\n17.403241\n15.066998\n...\n17.177794\n17.098684\n17.122117\n17.159537\n17.097833\n17.340800\n17.397560\n17.524273\n17.867885\n17.611475\n\n\n5\nAverage fuel consumed per vehicle (gallons)\n866.497319\n934.491335\n853.646595\n735.295077\n737.677247\n720.618966\n716.913687\n714.261710\n777.414405\n...\n900.832017\n702.215215\n694.114702\n682.524143\n709.938549\n683.641524\n689.236909\n658.687955\n642.817780\n639.512723\n\n\n\n\n6 rows × 35 columns\n\n\n\n\n\nFuel Economy - CombinedVehType\nTable 4-9: Motor Vehicle Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_FE_CombinedVehType = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Fuel Efficiency.xlsx\",\n  sheet_name=\"CombinedVehType\",\n  header=1,\n  usecols=\"A:AK\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_FE_CombinedVehType\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1960\n1965\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n...\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n\n\n\n\n0\nVehicles registered (thousands)\n73857.768000\n90357.667000\n1.112423e+05\n1.379128e+05\n1.614902e+05\n1.771333e+05\n1.930574e+05\n1.923138e+05\n1.944273e+05\n...\n2.500700e+05\n2.532157e+05\n2.536394e+05\n2.558768e+05\n2.603509e+05\n2.636102e+05\n2.687991e+05\n2.724809e+05\n2.736021e+05\n2.764912e+05\n\n\n1\nVehicle-miles traveled (millions)\n718762.000000\n887812.000000\n1.109724e+06\n1.327664e+06\n1.527295e+06\n1.774826e+06\n2.144362e+06\n2.172050e+06\n2.247151e+06\n...\n2.967266e+06\n2.950402e+06\n2.969433e+06\n2.988280e+06\n3.025656e+06\n3.095373e+06\n3.174408e+06\n3.212347e+06\n3.240327e+06\n3.261772e+06\n\n\n2\nFuel consumed (million gallons)\n57879.908000\n71104.000000\n9.232906e+04\n1.089843e+05\n1.149599e+05\n1.213013e+05\n1.307551e+05\n1.285630e+05\n1.328876e+05\n...\n1.704106e+05\n1.684523e+05\n1.686205e+05\n1.696510e+05\n1.733471e+05\n1.728810e+05\n1.768913e+05\n1.779511e+05\n1.781303e+05\n1.799910e+05\n\n\n3\nAverage miles traveled per vehicle (thousands)\n9.731705\n9.825530\n9.975738e+00\n9.626838e+00\n9.457511e+00\n1.001972e+01\n1.110738e+01\n1.129430e+01\n1.155779e+01\n...\n1.186574e+01\n1.165173e+01\n1.170730e+01\n1.167859e+01\n1.162145e+01\n1.174223e+01\n1.180959e+01\n1.178926e+01\n1.184321e+01\n1.179702e+01\n\n\n4\nAverage miles traveled per gallon\n12.418161\n12.486105\n1.201923e+01\n1.218215e+01\n1.328546e+01\n1.463155e+01\n1.639983e+01\n1.689483e+01\n1.691017e+01\n...\n1.741245e+01\n1.751476e+01\n1.761015e+01\n1.761428e+01\n1.745432e+01\n1.790465e+01\n1.794553e+01\n1.805186e+01\n1.819076e+01\n1.812186e+01\n\n\n5\nAverage fuel consumed per vehicle (gallons)\n783.667170\n786.917174\n8.299816e+02\n7.902411e+02\n7.118691e+02\n6.848024e+02\n6.772865e+02\n6.685064e+02\n6.834818e+02\n...\n6.814513e+02\n6.652522e+02\n6.648042e+02\n6.630181e+02\n6.658211e+02\n6.558204e+02\n6.580799e+02\n6.530773e+02\n6.510562e+02\n6.509826e+02\n\n\n\n\n6 rows × 37 columns\n\n\n\n\n\nFuel Economy - LightDuty\nTable 4-23: Average Fuel Efficiency of U.S. Light Duty Vehicles [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_FE_LightDuty = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Fuel Efficiency.xlsx\",\n  sheet_name=\"LightDuty\",\n  header=1,\n  usecols=\"A:AG\", # TODO: update cols later for new data\n  nrows=12\n)\n\n# display the data\ndf_FE_LightDuty\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n1995\n1996\n...\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n\n\n\n\n0\nAverage U.S. light duty vehicle fuel efficienc...\n14.9\n16.500000\n18.800000\n19.500000\n19.500000\n19.200000\n19.391913\n19.602243\n19.691458\n...\n21.525254\n21.367594\n21.550948\n21.634777\n21.402991\n21.979313\n22.038465\n22.274363\n22.497301\n22.244734\n\n\n1\nLight duty vehicle, short wheel basea,b\n15.983485\n17.515866\n20.324466\n21.199052\n21.045126\n20.590441\n22.237518\n21.128875\n21.319621\n...\n23.341159\n23.079824\n23.303850\n23.410444\n23.203282\n23.856606\n23.956898\n24.214896\n24.377132\n24.130806\n\n\n2\nLight duty vehicle, long wheel basea\n12.226114\n14.287840\n16.134621\n16.992323\n17.270285\n17.403241\n15.066998\n17.323486\n17.311470\n...\n17.177794\n17.076254\n17.128316\n17.159537\n17.097833\n17.340800\n17.397560\n17.524273\n17.867885\n17.611475\n\n\n3\nNew vehicle fuel efficiency (mpg)c (model year)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n4\nLight-duty vehicle\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n5\nPassenger car\n24.3\n27.600000\n28.000000\n28.400000\n27.900000\n28.400000\n28.300000\n28.600000\n28.500000\n...\n33.937919\n33.126479\n35.270757\n36.399878\n36.537293\n37.243193\n37.657829\n39.441726\nU\nU\n\n\n6\nDomestic\n22.6\n26.300000\n26.900000\n27.300000\n27.000000\n27.800000\n27.500000\n27.700000\n28.100000\n...\n33.100000\n32.700000\n34.800000\n36.100000\n36.300000\n37.200000\n37.300000\n39.200000\nU\nU\n\n\n7\nImported\n29.6\n31.500000\n29.900000\n30.100000\n29.200000\n29.600000\n29.700000\n30.300000\n29.600000\n...\n35.200000\n33.700000\n36.000000\n36.800000\n36.900000\n37.300000\n38.100000\n39.700000\nU\nU\n\n\n8\nLight truck (&lt;8,500 lbs GVWR)d\n18.5\n20.700000\n20.800000\n21.300000\n20.800000\n21.000000\n20.800000\n20.500000\n20.800000\n...\n25.200000\n24.700000\n25.000000\n25.700000\n26.500000\n27.300000\n27.400000\n28.600000\nU\nU\n\n\n9\nCAFE standards (mpg)c (model year)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n10\nPassenger car\n20\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n27.500000\n...\n27.500000\n30.170592\n32.974608\n33.499878\n34.237293\n35.459155\n36.902557\n39.031797\nU\nU\n\n\n11\nLight trucke\nU\n19.500000\n20.000000\n20.200000\n20.200000\n20.400000\n20.500000\n20.600000\n20.700000\n...\n23.400000\n24.300000\n25.300000\n25.900000\n26.300000\n27.600000\n28.800000\n29.400000\nU\nU\n\n\n\n\n12 rows × 33 columns\n\n\n\n\n\nPersonal Expenditure\nTable 3-15: Personal Expenditures by Category (Millions of current dollars) [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_PersonalExpenditure = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Auto Cost & Gas Price.xlsx\",\n  sheet_name=\"3-15\",\n  header=1,\n  usecols=\"A:AL\", # TODO: update cols later for new data\n  nrows=17\n)\n\n# display the data\ndf_PersonalExpenditure\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1960\n1965\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n...\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n\n\n\n\n0\nTotal expenditures\n331180.000000\n442973.000000\n646724.000000\n1.030547e+06\n1.750667e+06\n2.712830e+06\n3.808994e+06\n3.943449e+06\n4.197559e+06\n...\n1.069886e+07\n1.104736e+07\n1.136353e+07\n1.184772e+07\n1.226348e+07\n1.269327e+07\n1.323911e+07\n1.391353e+07\n1.442868e+07\n1.404756e+07\n\n\n1\nTransportation\n40765.000000\n56529.000000\n76503.000000\n1.243900e+05\n2.264860e+05\n3.574150e+05\n4.429310e+05\n4.182740e+05\n4.512850e+05\n...\n1.080327e+06\n1.135467e+06\n1.170466e+06\n1.202035e+06\n1.163708e+06\n1.163149e+06\n1.233247e+06\n1.317273e+06\n1.326530e+06\n1.133446e+06\n\n\n2\nTransportation as a percent of total expenditures\n12.309016\n12.761274\n11.829312\n1.207029e+01\n1.293713e+01\n1.317499e+01\n1.162856e+01\n1.060681e+01\n1.075113e+01\n...\n1.009759e+01\n1.027817e+01\n1.030020e+01\n1.014570e+01\n9.489218e+00\n9.163512e+00\n9.315180e+00\n9.467568e+00\n9.193706e+00\n8.068630e+00\n\n\n3\nFood and beveragea\n83040.000000\n101623.000000\n145130.000000\n2.253870e+05\n3.608880e+05\n4.772520e+05\n6.539110e+05\n6.763480e+05\n6.907760e+05\n...\n1.489007e+06\n1.551126e+06\n1.596245e+06\n1.673789e+06\n1.753823e+06\n1.813845e+06\n1.886616e+06\n1.961150e+06\n2.039181e+06\n1.948223e+06\n\n\n4\nClothing and footwear\n29263.000000\n36483.000000\n49945.000000\n7.143300e+04\n1.088340e+05\n1.543090e+05\n2.065340e+05\n2.101160e+05\n2.230240e+05\n...\n3.471140e+05\n3.595250e+05\n3.652830e+05\n3.759990e+05\n3.840570e+05\n3.912510e+05\n3.969850e+05\n4.083860e+05\n4.148620e+05\n3.769760e+05\n\n\n5\nCommunication\n5206.000000\n7535.000000\n11606.000000\n1.995500e+04\n3.179600e+04\n5.310400e+04\n7.009300e+04\n7.387000e+04\n8.114200e+04\n...\n2.280820e+05\n2.324600e+05\n2.374830e+05\n2.539590e+05\n2.598490e+05\n2.680850e+05\n2.663710e+05\n2.733060e+05\n2.766960e+05\n2.744810e+05\n\n\n6\nFinal consumption expenditures of nonprofit in...\n5059.000000\n6962.000000\n10473.000000\n1.701300e+04\n3.003300e+04\n4.790700e+04\n7.586000e+04\n8.012700e+04\n8.793500e+04\n...\n3.118560e+05\n3.415460e+05\n3.525900e+05\n3.655960e+05\n3.715840e+05\n4.014330e+05\n4.179470e+05\n4.446650e+05\n4.398900e+05\n5.208760e+05\n\n\n7\nHealth\n20363.000000\n31977.000000\n56849.000000\n1.027170e+05\n1.954730e+05\n3.453230e+05\n5.837240e+05\n6.383740e+05\n7.004430e+05\n...\n2.153221e+06\n2.230720e+06\n2.288266e+06\n2.409121e+06\n2.564801e+06\n2.690123e+06\n2.795969e+06\n2.919476e+06\n3.073873e+06\n2.954135e+06\n\n\n8\nHousehold operationb\n26179.000000\n34706.000000\n46617.000000\n6.780500e+04\n1.107370e+05\n1.559930e+05\n2.005590e+05\n1.991090e+05\n2.093990e+05\n...\n4.236660e+05\n4.385710e+05\n4.542900e+05\n4.765800e+05\n5.001270e+05\n5.191250e+05\n5.401940e+05\n5.757180e+05\n6.012440e+05\n6.452160e+05\n\n\n9\nHousing, utilities, and fuels\n60525.000000\n80999.000000\n113786.000000\n1.848430e+05\n3.276620e+05\n5.139370e+05\n7.092990e+05\n7.475250e+05\n7.832550e+05\n...\n2.010292e+06\n2.038866e+06\n2.108721e+06\n2.177735e+06\n2.226392e+06\n2.297365e+06\n2.382083e+06\n2.494067e+06\n2.592457e+06\n2.686161e+06\n\n\n10\nFinancial services and insurance\n13155.000000\n18788.000000\n30107.000000\n5.181200e+04\n9.165900e+04\n1.782470e+05\n2.307570e+05\n2.500830e+05\n2.769950e+05\n...\n8.110640e+05\n8.309230e+05\n8.693090e+05\n9.229410e+05\n9.744300e+05\n9.961390e+05\n1.068958e+06\n1.151901e+06\n1.171585e+06\n1.196283e+06\n\n\n11\nRecreation\n19711.000000\n28891.000000\n47017.000000\n7.705300e+04\n1.274400e+05\n2.071630e+05\n3.147460e+05\n3.262720e+05\n3.468410e+05\n...\n9.016210e+05\n9.344090e+05\n9.674430e+05\n1.004537e+06\n1.045575e+06\n1.094142e+06\n1.143640e+06\n1.200142e+06\n1.261520e+06\n1.176858e+06\n\n\n12\nEducation\n3360.000000\n5465.000000\n9914.000000\n1.588600e+04\n2.544300e+04\n4.117200e+04\n6.595800e+04\n7.056100e+04\n7.644200e+04\n...\n2.482060e+05\n2.505890e+05\n2.566530e+05\n2.633240e+05\n2.719040e+05\n2.817010e+05\n2.887740e+05\n2.979150e+05\n3.083510e+05\n2.931500e+05\n\n\n13\nForeign travel, net\n2121.000000\n2858.000000\n4514.000000\n4.445000e+03\n3.540000e+03\n7.741000e+03\n-7.673000e+03\n-1.521900e+04\n-2.003400e+04\n...\n-1.769600e+04\n-2.221000e+04\n-4.327200e+04\n-4.412700e+04\n-5.071600e+04\n-4.519200e+04\n-3.720300e+04\n-2.168300e+04\n-4.526000e+03\n-9.505000e+03\n\n\n14\nOther\n22433.000000\n30157.000000\n44263.000000\n6.780800e+04\n1.106750e+05\n1.732670e+05\n2.622970e+05\n2.680090e+05\n2.900550e+05\n...\n7.120960e+05\n7.253700e+05\n7.400500e+05\n7.662350e+05\n7.979410e+05\n8.221010e+05\n8.555290e+05\n8.912160e+05\n9.270130e+05\n8.512650e+05\n\n\n15\nDisposable Personal Income (DPI)\n376070.000000\n512995.000000\n761975.000000\n1.221782e+06\n2.024133e+06\n3.107068e+06\n4.319123e+06\n4.496012e+06\n4.808066e+06\n...\n1.188560e+07\n1.250482e+07\n1.251726e+07\n1.319199e+07\n1.374528e+07\n1.413867e+07\n1.480120e+07\n1.562971e+07\n1.621926e+07\n1.743203e+07\n\n\n16\nTransportation as a percent of DPI\n10.839737\n11.019406\n10.040093\n1.018103e+01\n1.118928e+01\n1.150329e+01\n1.025511e+01\n9.303223e+00\n9.385998e+00\n...\n9.089377e+00\n9.080231e+00\n9.350813e+00\n9.111854e+00\n8.466237e+00\n8.226722e+00\n8.332076e+00\n8.428007e+00\n8.178733e+00\n6.502090e+00\n\n\n\n\n17 rows × 38 columns\n\n\n\n\n\nPersonal Consumption\nTable 3-16: Personal Consumption Expenditures on Transportation by Subcategory (Millions of current dollars) [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_PersonalConsumption = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Auto Cost & Gas Price.xlsx\",\n  sheet_name=\"3-16\",\n  header=1,\n  usecols=\"A:AL\", # TODO: update cols later for new data\n  nrows=17\n)\n\n# display the data\ndf_PersonalConsumption\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1960\n1965\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n...\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n\n\n\n\n0\nTOTAL transportation\n40765\n56529\n76503\n124390\n226486\n357415\n442931\n418274\n451285\n...\n1080327\n1135467\n1170466\n1202035\n1163708\n1163149\n1233247\n1317273\n1326530\n1133446\n\n\n1\nUser-operated transportation, total\n39510\n55325\n74483\n121054\n218784\n349065\n433278\n409458\n444552\n...\n1035364\n1087085\n1117565\n1146119\n1108395\n1109942\n1175934\n1250258\n1251856\n1166254\n\n\n2\nNew cars and net purchases of used cars\n16571\n25191\n26754\n36775\n57243\n110679\n118988\n103658\n112410\n...\n125483\n139063\n142334\n143986\n144678\n137417\n129250\n119477\n101261\n84689\n\n\n3\nNew and used trucks and RVs\n606\n1284\n2667\n7739\n11849\n40988\n63882\n60337\n70115\n...\n190904\n207711\n225517\n248602\n279991\n296716\n323258\n351435\n362168\n407737\n\n\n4\nMotor vehicle parts and accessories\n2487\n3450\n6087\n10287\n17926\n23483\n28254\n27803\n28727\n...\n60733\n63306\n65483\n66821\n69846\n71667\n73499\n75488\n77854\n80449\n\n\n5\nRepair and rentala\n5262\n7214\n11776\n18971\n32597\n58035\n82033\n78832\n86705\n...\n191898\n198857\n208242\n222249\n232741\n249976\n260974\n272115\n284233\n265126\n\n\n6\nGasoline and oil\n12004\n14751\n21921\n39703\n86689\n97205\n111440\n108852\n112864\n...\n386787\n397808\n392996\n377002\n289690\n259154\n291022\n328430\n316670\n228740\n\n\n7\nParking fees and tolls\n567\n816\n1205\n1652\n2529\n4004\n5171\n5546\n6427\n...\n17797\n18616\n19971\n21481\n23204\n23926\n24953\n25694\n26659\n17146\n\n\n8\nInsurance premiums, less claims paidb\n2013\n2619\n4073\n5927\n9951\n14671\n23510\n24430\n27304\n...\n61762\n61724\n63022\n65978\n68245\n71086\n72978\n77619\n83011\n82367\n\n\n9\nPurchased intercity transportation, total\n1447\n2145\n4156\n7402\n15376\n21014\n29468\n28827\n29338\n...\n95751\n100109\n106391\n112037\n113811\n115954\n123494\n136167\n150094\n65075\n\n\n10\nRailroad\n448\n429\n395\n474\n588\n616\n696\n697\n546\n...\n1085\n1152\n1210\n1250\n1227\n1241\n1286\n1285\n1348\n407\n\n\n11\nIntercity bus\n154\n206\n311\n455\n873\n754\n615\n674\n682\n...\n1146\n1128\n1149\n1167\n1130\n1227\n1329\n1324\n1322\n802\n\n\n12\nAirline\n678\n1279\n3075\n5890\n12768\n18088\n25891\n25069\n25581\n...\n78636\n82102\n87210\n91545\n91757\n92418\n97851\n107670\n120355\n49649\n\n\n13\nOtherc\n167\n231\n375\n583\n1147\n1556\n2266\n2387\n2529\n...\n14884\n15727\n16822\n18075\n19697\n21068\n23028\n25888\n27069\n14217\n\n\n14\nPurchased local transportation, total\n1904\n1958\n2906\n4019\n4864\n7093\n9701\n10468\n11153\n...\n22918\n23469\n25333\n27275\n28914\n29820\n31457\n35399\n34327\n16094\n\n\n15\nMass transit system\n1295\n1346\n1726\n2051\n2998\n4521\n7124\n7843\n8567\n...\n17534\n18095\n19076\n19732\n20233\n20507\n20675\n20926\n21302\n8568\n\n\n16\nTaxi\n609\n612\n1180\n1968\n1866\n2572\n2577\n2625\n2586\n...\n5384\n5374\n6257\n7543\n8681\n9313\n10782\n14473\n13025\n7526\n\n\n\n\n17 rows × 38 columns\n\n\n\n\n\nConsumer Price Index\nData Source:\n\n\nShow the code\n# Read Excel file directly from URL\ndf_CPI = pd.read_excel(\n  \"archive-v9.0\\\\1 - Auto Operating Cost - 2022-01-11.xlsx\", # File path\n  sheet_name=\"CPI\",\n  header=5,\n  usecols=\"B:Q\", # TODO: update cols later for new data\n  nrows=131\n)\n\n# Remove rows where all elements are NaN (empty)\ndf_CPI = df_CPI.dropna(how='all')\n\n# display the data\ndf_CPI\n\n\n\n\n\n\n\n\n\nYear\nJan.\nFeb.\nMar.\nApr.\nMay\nJune\nJuly\nAug.\nSep.\nOct.\nNov.\nDec.\nAvg.\nDec\nAvg\n\n\n\n\n1\n1913.0\n9.800\n9.800\n9.800\n9.800\n9.700\n9.800\n9.900\n9.900\n10.000\n10.000\n10.100\n10.000\n9.900\nNaN\nNaN\n\n\n2\n1914.0\n10.000\n9.900\n9.900\n9.800\n9.900\n9.900\n10.000\n10.200\n10.200\n10.100\n10.200\n10.100\n10.000\n1.0\n1.0\n\n\n3\n1915.0\n10.100\n10.000\n9.900\n10.000\n10.100\n10.100\n10.100\n10.100\n10.100\n10.200\n10.300\n10.300\n10.100\n2.0\n1.0\n\n\n5\n1916.0\n10.400\n10.400\n10.500\n10.600\n10.700\n10.800\n10.800\n10.900\n11.100\n11.300\n11.500\n11.600\n10.900\n12.6\n7.9\n\n\n6\n1917.0\n11.700\n12.000\n12.000\n12.600\n12.800\n13.000\n12.800\n13.000\n13.300\n13.500\n13.500\n13.700\n12.800\n18.1\n17.4\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n125\n2016.0\n236.916\n237.111\n238.132\n239.261\n240.229\n241.018\n240.628\n240.849\n241.428\n241.729\n241.353\n241.432\n240.007\n2.1\n1.3\n\n\n126\n2017.0\n242.839\n243.603\n243.801\n244.524\n244.733\n244.955\n244.786\n245.519\n246.819\n246.663\n246.669\n246.524\n245.120\n2.1\n2.1\n\n\n127\n2018.0\n247.867\n248.991\n249.554\n250.546\n251.588\n251.989\n252.006\n252.146\n252.439\n252.885\n252.038\n251.233\n251.107\n1.9\n2.4\n\n\n128\n2019.0\n251.712\n252.776\n254.202\n255.548\n256.092\n256.143\n256.571\n256.558\n256.759\n257.346\n257.208\n256.974\n255.657\n2.3\n1.8\n\n\n129\n2020.0\n257.971\n258.678\n258.115\n256.389\n256.394\n257.797\n259.101\n259.918\n260.280\n260.388\n260.229\n260.474\n258.811\n1.4\n1.2\n\n\n\n\n108 rows × 16 columns\n\n\n\n\n\nRetail Diesel Prices\nRetail Prices for Diesel (On-Highway) - All Types [Source: Energy Information Administration]\nFile URL: https://www.eia.gov/dnav/pet/xls/PET_PRI_GND_A_EPD2D_PTE_DPGAL_W.xls\n\n\nShow the code\n# Read Excel file directly from URL\ndf_RetailDieselPrices = pd.read_excel(\n  \"archive-v9.0\\\\1 - Auto Operating Cost - 2022-01-11.xlsx\", # File path\n  sheet_name=\"Retail Diesel Prices\",\n  header=22,\n  usecols=\"A:J\", # TODO: update cols later for new data\n  nrows=1451\n)\n\n# display the data\ndf_RetailDieselPrices\n\n\n\n\n\n\n\n\n\nDate\nWeekly East Coast No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly New England (PADD 1A) No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Central Atlantic (PADD 1B) No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Lower Atlantic (PADD 1C) No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Midwest No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Gulf Coast No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly Rocky Mountain No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly West Coast No 2 Diesel Retail Prices (Dollars per Gallon)\nWeekly West Coast (PADD 5) Except California No 2 Diesel Retail Prices (Dollars per Gallon)\n\n\n\n\n0\n1994-03-21\n1.119\nNaN\nNaN\nNaN\n1.087\n1.065\n1.105\n1.209\nNaN\n\n\n1\n1994-03-28\n1.115\nNaN\nNaN\nNaN\n1.089\n1.064\n1.100\n1.220\nNaN\n\n\n2\n1994-04-04\n1.122\nNaN\nNaN\nNaN\n1.087\n1.069\n1.103\n1.219\nNaN\n\n\n3\n1994-04-11\n1.119\nNaN\nNaN\nNaN\n1.090\n1.066\n1.111\n1.209\nNaN\n\n\n4\n1994-04-18\n1.115\nNaN\nNaN\nNaN\n1.086\n1.058\n1.118\n1.213\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1446\n2021-12-06\n3.658\n3.654\n3.824\n3.556\n3.536\n3.402\n3.780\n4.416\n3.992\n\n\n1447\n2021-12-13\n3.633\n3.643\n3.811\n3.521\n3.512\n3.372\n3.758\n4.398\n3.970\n\n\n1448\n2021-12-20\n3.611\n3.633\n3.792\n3.496\n3.492\n3.339\n3.731\n4.381\n3.941\n\n\n1449\n2021-12-27\n3.602\n3.623\n3.779\n3.488\n3.479\n3.330\n3.704\n4.371\n3.917\n\n\n1450\n2022-01-03\n3.604\n3.622\n3.781\n3.490\n3.477\n3.328\n3.687\n4.369\n3.927\n\n\n\n\n1451 rows × 10 columns\n\n\n\n\n\nRetail Gas Prices\nRetail Prices for Gasoline, All Grades [Source: Energy Information Administration]\nFile URL: https://www.eia.gov/dnav/pet/xls/PET_PRI_GND_A_EPM0_PTE_DPGAL_W.xls\n\n\nShow the code\n# Read Excel file directly from URL\ndf_RetailGasPrices = pd.read_excel(\n  \"archive-v9.0\\\\1 - Auto Operating Cost - 2022-01-11.xlsx\", # File path\n  sheet_name=\"Retail Gas Prices\",\n  header=22,\n  usecols=\"A:J\", # TODO: update cols later for new data\n  nrows=1501\n)\n\n# display the data\ndf_RetailGasPrices\n\n\n\n\n\n\n\n\n\nDate\nWeekly East Coast All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly New England (PADD 1A) All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Central Atlantic (PADD 1B) All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Lower Atlantic (PADD 1C) All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Midwest All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Gulf Coast All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly Rocky Mountain All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly West Coast All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\nWeekly West Coast (PADD 5) Except California All Grades All Formulations Retail Gasoline Prices (Dollars per Gallon)\n\n\n\n\n0\n1993-04-05\n1.040\n1.068\n1.068\n1.023\n1.061\n1.064\n1.093\n1.152\nNaN\n\n\n1\n1993-04-12\n1.047\n1.073\n1.072\n1.032\n1.077\n1.071\n1.118\n1.154\nNaN\n\n\n2\n1993-04-19\n1.054\n1.074\n1.077\n1.040\n1.067\n1.081\n1.120\n1.155\nNaN\n\n\n3\n1993-04-26\n1.059\n1.076\n1.080\n1.046\n1.078\n1.081\n1.169\n1.157\nNaN\n\n\n4\n1993-05-03\n1.062\n1.080\n1.084\n1.050\n1.073\n1.084\n1.161\n1.161\nNaN\n\n\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n...\n\n\n1496\n2021-12-06\n3.380\n3.484\n3.531\n3.258\n3.167\n3.061\n3.579\n4.285\n3.853\n\n\n1497\n2021-12-13\n3.359\n3.467\n3.526\n3.226\n3.144\n3.012\n3.543\n4.265\n3.826\n\n\n1498\n2021-12-20\n3.340\n3.458\n3.519\n3.198\n3.111\n3.011\n3.520\n4.251\n3.808\n\n\n1499\n2021-12-27\n3.328\n3.448\n3.507\n3.183\n3.092\n2.978\n3.499\n4.235\n3.795\n\n\n1500\n2022-01-03\n3.321\n3.444\n3.496\n3.177\n3.093\n3.015\n3.476\n4.249\n3.806\n\n\n\n\n1501 rows × 10 columns\n\n\n\n\n\nAverage Cost\nTable 3-17: Average Cost of Owning and Operating an Automobilea (Assuming 15,000 Vehicle-Miles per Year) [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_AverageCost = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Auto Cost & Gas Price.xlsx\",\n  sheet_name=\"3-17\",\n  header=1,\n  usecols=\"A:AI\", # TODO: update cols later for new data\n  nrows=8\n)\n\n# display the data\ndf_AverageCost\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n1995\n...\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n2020\n\n\n\n\n0\nAverage total cost per mile (current cents)\n14.360000\n21.173333\n23.226667\n33.026667\n37.340000\n38.826667\n38.693333\n39.440000\n41.233333\n...\n58.506667\n59.640000\n60.813333\n59.173333\n57.986667\n57.053333\n56.453333\n58.993333\n61.88\n63.74\n\n\n1\nGasb\n4.800000\n5.900000\n5.570000\n5.400000\n6.600000\n5.900000\n5.900000\n5.600000\n5.800000\n...\n12.340000\n14.170000\n14.450000\n13.000000\n11.210000\n8.450000\n10.26\n11.05\n11.6\n10.66\n\n\n2\nGas as a percent of total costb\n33.426184\n27.865239\n23.981056\n16.350424\n17.675415\n15.195742\n15.248105\n14.198783\n14.066289\n...\n21.091613\n23.759222\n23.761237\n21.969356\n19.332030\n14.810703\n18.174303\n18.73093\n18.74596\n16.724192\n\n\n3\nMaintenancec\n0.970000\n1.120000\n1.200000\n2.100000\n2.200000\n2.200000\n2.400000\n2.500000\n2.600000\n...\n4.440000\n4.470000\n4.970000\n5.060000\n5.110000\n5.280000\n7.91\n8.21\n8.94\n9.12\n\n\n4\nTires\n0.660000\n0.640000\n0.650000\n0.900000\n0.900000\n0.900000\n0.900000\n1.000000\n1.200000\n...\n0.960000\n1.000000\n1.000000\n0.970000\n0.980000\n1.000000\nU\nU\nU\nU\n\n\n5\nAverage total cost per 15,000 miles (current d...\n2154.000000\n3176.000000\n3484.000000\n4954.000000\n5601.000000\n5824.000000\n5804.000000\n5916.000000\n6185.000000\n...\n8776.000000\n8946.000000\n9122.000000\n8876.000000\n8698.000000\n8558.000000\n8468\n8849\n9282\n9561\n\n\n6\nVariable cost\n968.000000\n1143.000000\n1113.000000\n1260.000000\n1455.000000\n1350.000000\n1380.000000\n1365.000000\n1440.000000\n...\n2662.000000\n2946.000000\n3064.000000\n2855.000000\n2596.000000\n2208.000000\n2726\n2889\n3081\n2968\n\n\n7\nFixed costd\n1186.000000\n2033.000000\n2371.000000\n3694.000000\n4146.000000\n4474.000000\n4424.000000\n4551.000000\n4745.000000\n...\n6114.000000\n6000.000000\n6058.000000\n6021.000000\n6102.000000\n6350.000000\n5742\n5960\n6201\n6593\n\n\n\n\n8 rows × 35 columns\n\n\n\n\n\n4-11\nTable 4-11: Light Duty Vehicle, Short Wheel Base and Motorcycle Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\nFile URL: https://www.bts.gov/sites/bts.dot.gov/files/2025-03/table_04_11_032825.xlsx\n\n\nShow the code\n# Read Excel file directly from URL\ndf_4_11 = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Fuel Efficiency.xlsx\",\n  sheet_name=\"4-11\",\n  header=1,\n  usecols=\"A:AK\", # TODO: update cols later for new data\n  nrows=18\n)\n\n# display the data\ndf_4_11\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1960\n1965\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n...\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n\n\n\n\n0\nVehicles registered (thousands)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n1\nLight duty vehicles, short wheel basea\n61671.39\n75257.588\n89243.557\n106705.934\n121600.843\n127885.193\n133700.496\n128299.601\n126581.148\n...\n1.902028e+05\n1.835226e+05\n1.831719e+05\n1.844975e+05\n1.875549e+05\n1.896183e+05\n1.927745e+05\n1.936724e+05\n1.928562e+05\n1.943488e+05\n\n\n2\nMotorcycles\n574.032\n1381.956\n2824.098\n4964.07\n5693.94\n5444.404\n4259.462\n4177.365\n4065.118\n...\n8.009503e+03\n8.437502e+03\n8.454939e+03\n8.404687e+03\n8.417718e+03\n8.600936e+03\n8.679380e+03\n8.715204e+03\n8.666185e+03\n8.596314e+03\n\n\n3\nVehicle-miles traveled (millions)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n4\nLight duty vehicles, short wheel basea\n587011.529483\n722696.376126\n919679\n1039579\n1121810\n1255883.959441\n1417822.868873\n1367363.284333\n1381126.078561\n...\n2.025745e+06\n2.046282e+06\n2.062828e+06\n2.074423e+06\n2.072071e+06\n2.147840e+06\n2.191764e+06\n2.220801e+06\n2.232588e+06\n2.254309e+06\n\n\n5\nMotorcycles\nU\nU\nU\nU\nU\nU\nU\nU\nU\n...\n1.851290e+04\n1.854223e+04\n2.138531e+04\n2.036618e+04\n1.996967e+04\n1.960631e+04\n2.044530e+04\n2.014930e+04\n2.007618e+04\n1.968805e+04\n\n\n6\nFuel consumed (million gallons)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n7\nLight duty vehicles, short wheel basea\n41170.908\n49723\n67879.088\n74252.665012\n70185.568749\n71699.79422\n69759.41511\n64501.153523\n65626.886464\n...\n8.678852e+04\n8.835866e+04\n8.860021e+04\n8.861101e+04\n8.930079e+04\n9.003127e+04\n9.148781e+04\n9.171216e+04\n9.158533e+04\n9.342037e+04\n\n\n8\nMotorcycles\nU\nU\nU\nU\nU\nU\nU\nU\nU\n...\n4.267318e+02\n4.263775e+02\n4.911303e+02\n4.677127e+02\n4.586283e+02\n4.478787e+02\n4.658022e+02\n4.584286e+02\n4.566574e+02\n4.478637e+02\n\n\n9\nAverage miles traveled per vehicle (thousands)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n10\nLight duty vehicles, short wheel basea\n9.518377\n9.60297\n10.305271\n9.742467\n9.225347\n9.820402\n10.60447\n10.65758\n10.910993\n...\n1.065045e+01\n1.115003e+01\n1.126171e+01\n1.124364e+01\n1.104781e+01\n1.132718e+01\n1.136957e+01\n1.146679e+01\n1.157644e+01\n1.159929e+01\n\n\n11\nMotorcycles\nU\nU\nU\nU\nU\nU\nU\nU\nU\n...\n2.311367e+00\n2.197598e+00\n2.529328e+00\n2.423193e+00\n2.372338e+00\n2.279556e+00\n2.355618e+00\n2.311971e+00\n2.316611e+00\n2.290289e+00\n\n\n12\nAverage miles traveled per gallon\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n13\nLight duty vehicles, short wheel basea\n14.25792\n14.534448\n13.548783\n14.000561\n15.983485\n17.515866\n20.324466\n21.199052\n21.045126\n...\n2.334116e+01\n2.315882e+01\n2.328242e+01\n2.341044e+01\n2.320328e+01\n2.385661e+01\n2.395690e+01\n2.421490e+01\n2.437713e+01\n2.413081e+01\n\n\n14\nMotorcycles\nU\nU\nU\nU\nU\nU\nU\nU\nU\n...\n4.338299e+01\n4.348783e+01\n4.354306e+01\n4.354421e+01\n4.354216e+01\n4.377595e+01\n4.389267e+01\n4.395297e+01\n4.396332e+01\n4.395991e+01\n\n\n15\nAverage fuel consumed per vehicle (gallons)\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n...\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n16\nLight duty vehicles, short wheel basea\n667.585213\n660.704141\n760.604914\n695.862566\n577.179952\n560.657513\n521.758836\n502.738536\n518.457033\n...\n4.562947e+02\n4.814592e+02\n4.836999e+02\n4.802830e+02\n4.761314e+02\n4.748026e+02\n4.745846e+02\n4.735428e+02\n4.748892e+02\n4.806840e+02\n\n\n17\nMotorcycles\nU\nU\nU\nU\nU\nU\nU\nU\nU\n...\n5.327819e+01\n5.053362e+01\n5.808798e+01\n5.564904e+01\n5.448369e+01\n5.207325e+01\n5.366769e+01\n5.260102e+01\n5.269416e+01\n5.209950e+01\n\n\n\n\n18 rows × 37 columns\n\n\n\n\n\nFuel Economy - Medium\nTable 4-13: Single-Unit 2-Axle 6-Tire or More Truck Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_FE_Medium = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Fuel Efficiency.xlsx\",\n  sheet_name=\"Medium\",\n  header=1,\n  usecols=\"A:AI\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_FE_Medium\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n1994\n...\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n\n\n\n\n0\nNumber registered (thousands)\n3681.405000\n4231.622000\n4373.784000\n4593.071446\n4486.981096\n4480.815015\n4369.842228\n4407.850444\n4724.608000\n...\n8217.189071\n7819.054746\n8190.286364\n8126.007221\n8328.758599\n8456.302000\n8746.518000\n9336.998000\n10327.899000\n10160.433000\n\n\n1\nVehicle-miles (millions)\n27081.000000\n34606.000000\n39813.000000\n45441.010136\n51901.084690\n52897.923062\n53874.244546\n56772.473176\n61284.000000\n...\n110738.245206\n103803.030273\n105605.222597\n106581.578905\n109301.406197\n109597.318450\n113337.941633\n116102.399109\n120698.994215\n124745.707181\n\n\n2\nFuel consumed (million gallons)\n3968.375000\n5420.485711\n6922.767279\n7399.378701\n8356.675584\n8172.381947\n8236.926852\n8488.204295\n9031.771537\n...\n15096.529868\n14215.430675\n14376.472744\n14501.925786\n14893.865294\n14850.509537\n15338.478728\n15599.855130\n16080.121829\n16656.735671\n\n\n3\nAverage miles traveled per vehicle (thousands)\n7.356159\n8.177952\n9.102644\n9.893382\n11.567039\n11.805424\n12.328648\n12.879855\n12.971235\n...\n13.476414\n13.275650\n12.893960\n13.116107\n13.123373\n12.960431\n12.958064\n12.434660\n11.686694\n12.277598\n\n\n4\nAverage miles traveled per gallon\n6.824204\n6.384299\n5.751024\n6.141193\n6.210733\n6.472767\n6.540576\n6.688396\n6.785380\n...\n7.335344\n7.302138\n7.345698\n7.349478\n7.338686\n7.380038\n7.389125\n7.442531\n7.506099\n7.489205\n\n\n5\nAverage fuel consumed per vehicle (gallons)\n1077.951217\n1280.947521\n1582.786731\n1610.987068\n1862.427187\n1823.860597\n1884.948340\n1925.701519\n1911.644635\n...\n1837.189060\n1818.049769\n1755.307703\n1784.631171\n1788.245525\n1756.147018\n1753.666857\n1670.757039\n1556.959632\n1639.372620\n\n\n\n\n6 rows × 35 columns\n\n\n\n\n\nFuel Economy - Heavy\nTable 4-14: Combination Truck Fuel Consumption and Travel [Source: Bureau of Transportation Statistics]\n\n\nShow the code\n# Read Excel file directly from URL\ndf_FE_Heavy = pd.read_excel(\n  \"archive-v9.0\\\\Support Data\\\\BTS - National - Fuel Efficiency.xlsx\",\n  sheet_name=\"Heavy\",\n  header=1,\n  usecols=\"A:AJ\", # TODO: update cols later for new data\n  nrows=6\n)\n\n# display the data\ndf_FE_Heavy\n\n\n\n\n\n\n\n\n\nUnnamed: 0\n1965\n1970\n1975\n1980\n1985\n1990\n1991\n1992\n1993\n...\n2010\n2011\n2012\n2013\n2014\n2015\n2016\n2017\n2018\n2019\n\n\n\n\n0\nNumber registered (thousands)\n786.510352\n905.082000\n1130.747000\n1416.869000\n1403.266000\n1708.894894\n1691.330985\n1675.362942\n1680.305013\n...\n2552.865009\n2451.638193\n2469.093851\n2471.348703\n2577.197369\n2746.882000\n2752.043000\n2892.218000\n2906.011000\n2925.210000\n\n\n1\nVehicle-miles traveled (millions)\n31665.008552\n35134.000000\n46724.000000\n68678.000000\n78062.829300\n94341.074342\n96644.537280\n99509.826717\n103115.689682\n...\n175788.971737\n163791.293119\n163601.731106\n168435.634141\n169830.178385\n170246.278000\n174556.978274\n181490.181698\n184165.121151\n175304.701353\n\n\n2\nFuel consumed (million gallons)\n6658.000000\n7347.937000\n9177.475579\n13037.002826\n14005.271116\n16132.920179\n16808.623869\n17216.232996\n17747.967243\n...\n29926.663579\n28181.038987\n27975.331348\n28794.994112\n29117.656112\n28885.913526\n29554.641135\n30363.560805\n30325.060257\n28986.514576\n\n\n3\nAverage miles traveled per vehicle (thousands)\n40.260129\n38.818582\n41.321357\n48.471665\n55.629388\n55.205896\n57.141114\n59.395982\n61.367245\n...\n68.859486\n66.808917\n66.259827\n68.155349\n65.897234\n61.978009\n63.428143\n62.751211\n63.373855\n59.928929\n\n\n4\nAverage miles traveled per gallon\n4.755934\n4.781478\n5.091160\n5.267929\n5.573818\n5.847737\n5.749700\n5.780000\n5.810000\n...\n5.873992\n5.812110\n5.848071\n5.849476\n5.832550\n5.893747\n5.906246\n5.977236\n6.073034\n6.047802\n\n\n5\nAverage fuel consumed per vehicle (gallons)\n8465.241403\n8118.531802\n8116.294431\n9201.276071\n9980.482044\n9440.557310\n9938.104379\n10276.121406\n10562.348563\n...\n11722.775576\n11494.778906\n11330.201701\n11651.530224\n11298.186339\n10515.891664\n10739.164008\n10498.365201\n10435.287498\n9909.208083\n\n\n\n\n6 rows × 36 columns\n\n\n\n\n\nFuel Economy by Size Class\nTable 5.5 Truck Harmonic Mean Fuel Economy by Size Class, 1992, 1997, and 2002 (miles per gallon)\n\n\nShow the code\n# FIXME: Need to verify the source of this.\n\n# Read Excel file directly from URL\ndf_FE_SizeClass_1 = pd.read_excel(\n  \"archive-v9.0\\\\1 - Auto Operating Cost - 2022-01-11.xlsx\", # File path\n  sheet_name=\"Fuel Economy by Size Class\",\n  usecols=\"A:G\", # TODO: update cols later for new data\n  skiprows=11,   # Skip the first 11 rows\n  nrows=11\n)\n\n# Drop columns that are entirely empty (NaN)\ndf_FE_SizeClass_1 = df_FE_SizeClass_1.dropna(axis=1, how='all')\n\n# Manually set column names\ndf_FE_SizeClass_1.columns = [\n    \"Manufacturer's gross vehicle weight class\",\n    \"1992 TIUS\",\n    \"1997 VIUS\",\n    \"2002 VIUS\"\n]\n\n# display the data\ndf_FE_SizeClass_1\n\n\n\n\n\n\n\n\n\nManufacturer's gross vehicle weight class\n1992 TIUS\n1997 VIUS\n2002 VIUS\n\n\n\n\n0\n1) 6,000 lbs and less\n17.2\n17.1\n17.6\n\n\n1\n2) 6,001–10,000 lbs\n13.0\n13.6\n14.3\n\n\n2\nLight truck subtotal\n15.7\n15.8\n16.2\n\n\n3\n3) 10,000–14,000 lbs\n8.8\n9.4\n10.5\n\n\n4\n4) 14,001–16,000 lbs\n8.8\n9.3\n8.5\n\n\n5\n5) 16,001–19,500 lbs\n7.4\n8.7\n7.9\n\n\n6\n6) 19,501–26,000 lbs\n6.9\n7.3\n7.0\n\n\n7\nMedium truck subtotal\n7.3\n8.6\n8.0\n\n\n8\n7) 26,001–33,000 lbs\n6.5\n6.4\n6.4\n\n\n9\n8) 33,001 lbs and over\n5.5\n5.7\n5.7\n\n\n10\nLarge truck subtotal\n5.6\n6.1\n5.8\n\n\n\n\n\n\n\nTable 10.4: Retail Prices for Motor Fuel, 1978–2012 (cents per gallon, including tax)\n\n\nShow the code\n# Read Excel file directly from URL\ndf_FE_SizeClass_2 = pd.read_excel(\n  \"archive-v9.0\\\\1 - Auto Operating Cost - 2022-01-11.xlsx\", # File path\n  sheet_name=\"Fuel Economy by Size Class\",\n  usecols=\"A:C\", # TODO: update cols later for new data\n  header=35,\n  nrows=1\n)\n\n# display the data\ndf_FE_SizeClass_2\n\n\n\n\n\n\n\n\n\nYear\nDiesel fuel\nAverage for all gasoline types\n\n\n\n\n0\n2012\n397\n370\n\n\n\n\n\n\n\n\n\nShow the code\n# FIXME: Unsure the logic behind this calculation.\ndf_FE_SizeClass_2[\"Something\"] = df_FE_SizeClass_2[\"Diesel fuel\"]/df_FE_SizeClass_2[\"Average for all gasoline types\"]\n\ndf_FE_SizeClass_2[\"Something\"]\n\n\n0    1.072973\nName: Something, dtype: float64\n\n\n\n\nRepair and Maintenance Cost - Heavy\n\n\n\nRepair and Maintenance Cost per Mile\n\n\nSource: https://www.truckinginfo.com/10150350/2021-hdt-fact-book-maintenance-costs-expected-to-rise\nFurther Research: American Transportation Research Institute\n\n\nShow the code\n# Manually Entering the data from above image\ndf_RepairMaintenanceCost_Heavy = pd.DataFrame({\n    \"Year\": [\"2010\", \"2011\", \"2012\", \"2013\", \"2014\", \"2015\", \"2016\", \"2017\", \"2018\", \"2019\"],\n    \"CostMile\": [0.124, 0.152, 0.138, 0.148, 0.158, 0.156, 0.166, 0.167, 0.171, 0.14]\n})\n\n# display the data\ndf_RepairMaintenanceCost_Heavy\n\n\n\n\n\n\n\n\n\nYear\nCostMile\n\n\n\n\n0\n2010\n0.124\n\n\n1\n2011\n0.152\n\n\n2\n2012\n0.138\n\n\n3\n2013\n0.148\n\n\n4\n2014\n0.158\n\n\n5\n2015\n0.156\n\n\n6\n2016\n0.166\n\n\n7\n2017\n0.167\n\n\n8\n2018\n0.171\n\n\n9\n2019\n0.140\n\n\n\n\n\n\n\n\n\nDriving Costs\nData Source: https://exchange.aaa.com/wp-content/uploads/2019/09/AAA-Your-Driving-Costs-2019.pdf\n\n\nShow the code\n# Read Excel file directly from URL\ndf_DrivingCosts = pd.read_excel(\n  \"archive-v9.0\\\\1 - Auto Operating Cost - 2022-01-11.xlsx\", # File path\n  sheet_name=\"Driving Costs\",\n  usecols=\"A:K\", # TODO: update cols later for new data\n  skiprows=3,     # Skip the first 3 rows\n  nrows=31\n)\n\n# Manually set column names\ndf_DrivingCosts.columns = [\n    \"Cost Categories\",\n    \"Small Sedan\",\n    \"Medium Sedan\",\n    \"Large Sedan\",\n    \"Small SUV (FWD)\",\n    \"Medium SUV (FWD)\",\n    \"Minivan\",\n    \"1/2 Ton/Crew Pickup (4WD)\",\n    \"Hybrid Vehicle\",\n    \"Electric Vehicle\",\n    \"2020 Weighted Average\"\n]\n\n# display the data\ndf_DrivingCosts\n\n\n\n\n\n\n\n\n\nCost Categories\nSmall Sedan\nMedium Sedan\nLarge Sedan\nSmall SUV (FWD)\nMedium SUV (FWD)\nMinivan\n1/2 Ton/Crew Pickup (4WD)\nHybrid Vehicle\nElectric Vehicle\n2020 Weighted Average\n\n\n\n\n0\nfuel\n8.3600\n9.2700\n12.7700\n9.4200\n13.2000\n12.6100\n15.6700\n5.7600\n3.6500\n11.6000\n\n\n1\nmaintenance\n8.5300\n9.1800\n9.4900\n9.0900\n9.6000\n8.7300\n8.7700\n7.7000\n6.6000\n8.9400\n\n\n2\ncost per mile\n16.8900\n18.4500\n22.2600\n18.5100\n22.8000\n21.3400\n24.4400\n13.4600\n10.2500\n20.5400\n\n\n3\nOwnership Costs\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n4\nfull-coverage insurance\n1328.0000\n1251.0000\n1221.0000\n1089.0000\n1114.0000\n1103.0000\n1236.0000\n1202.0000\n1203.0000\n1194.0000\n\n\n5\nlicense, registration, taxes\n466.0000\n661.0000\n807.0000\n630.0000\n862.0000\n769.0000\n1013.0000\n639.0000\n-519.0000\n753.0000\n\n\n6\ndepreciation (15k mi/yr)\n2240.0000\n3169.0000\n4061.0000\n3132.0000\n3794.0000\n4036.0000\n3696.0000\n3087.0000\n5250.0000\n3334.0000\n\n\n7\nfinance\n546.0000\n794.0000\n975.0000\n766.0000\n1075.0000\n927.0000\n1228.0000\n789.0000\n848.0000\n920.0000\n\n\n8\ncost per year\n4580.0000\n5875.0000\n7064.0000\n5617.0000\n6845.0000\n6835.0000\n7173.0000\n5717.0000\n6782.0000\n6201.0000\n\n\n9\ncost per day\n12.5500\n16.1000\n19.3500\n15.3900\n18.7500\n18.7300\n19.6500\n15.6600\n18.5800\n16.9900\n\n\n10\nTotal Cost per Mile - 10k mi/yr\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n11\ncost per mile driven\n1689.0000\n1845.0000\n2226.0000\n1851.0000\n2280.0000\n2134.0000\n2444.0000\n1346.0000\n1025.0000\n2054.0000\n\n\n12\ncost per year\n4580.0000\n5875.0000\n7064.0000\n5617.0000\n6845.0000\n6835.0000\n7173.0000\n5717.0000\n6782.0000\n6201.0000\n\n\n13\ndepreciation\n-209.0000\n-233.0000\n-296.0000\n-286.0000\n-382.0000\n-264.0000\n-454.0000\n-264.0000\n-312.0000\n-326.0000\n\n\n14\ntotal cost per year\n6060.0000\n7487.0000\n8994.0000\n7182.0000\n8743.0000\n8705.0000\n9163.0000\n6799.0000\n7495.0000\n7929.0000\n\n\n15\ncost per day\n16.6000\n20.5100\n24.6400\n19.6800\n23.9500\n23.8500\n25.1000\n18.6300\n20.5300\n21.7200\n\n\n16\ncost per mile\n0.6060\n0.7487\n0.8994\n0.7182\n0.8743\n0.8705\n0.9163\n0.6799\n0.7495\n0.7929\n\n\n17\nTotal Cost per Mile - 15k mi/yr\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n18\ncost per mile driven\n2534.0000\n2768.0000\n3339.0000\n2777.0000\n3420.0000\n3201.0000\n3666.0000\n2019.0000\n1538.0000\n3081.0000\n\n\n19\ncost per year\n4580.0000\n5875.0000\n7064.0000\n5617.0000\n6845.0000\n6835.0000\n7173.0000\n5717.0000\n6782.0000\n6201.0000\n\n\n20\ntotal cost per year\n7114.0000\n8643.0000\n10403.0000\n8394.0000\n10265.0000\n10036.0000\n10839.0000\n7736.0000\n8320.0000\n9282.0000\n\n\n21\ntotal cost per day\n19.4900\n23.6800\n28.5000\n23.0000\n28.1200\n27.5000\n29.7000\n21.1900\n22.7900\n25.4300\n\n\n22\ntotal cost per mile\n0.4742\n0.5762\n0.6935\n0.5596\n0.6843\n0.6691\n0.7226\n0.5157\n0.5546\n0.6188\n\n\n23\nTotal Cost per Mile - 20k mi/yr\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\nNaN\n\n\n24\ncost per mile driven\n3378.0000\n3690.0000\n4452.0000\n3702.0000\n4560.0000\n4268.0000\n4888.0000\n2692.0000\n2050.0000\n4108.0000\n\n\n25\ncost per year\n4580.0000\n5875.0000\n7064.0000\n5617.0000\n6845.0000\n6835.0000\n7173.0000\n5717.0000\n6782.0000\n6201.0000\n\n\n26\ndepreciation\n227.0000\n252.0000\n320.0000\n310.0000\n414.0000\n286.0000\n496.0000\n285.0000\n338.0000\n354.0000\n\n\n27\ntotal cost per year\n8185.0000\n9817.0000\n11836.0000\n9629.0000\n11819.0000\n11389.0000\n12557.0000\n8694.0000\n9170.0000\n10663.0000\n\n\n28\ncost per day\n22.4200\n26.9000\n32.4300\n26.3800\n32.3800\n31.2000\n34.4000\n23.8200\n25.1200\n29.2100\n\n\n29\ncost per mile\n0.4093\n0.4909\n0.5918\n0.4815\n0.5910\n0.5695\n0.6279\n0.4347\n0.4585\n0.5331"
  },
  {
    "objectID": "0 - Auto Operating Cost - 2022-01-11.html#intermediate-cost-calculations",
    "href": "0 - Auto Operating Cost - 2022-01-11.html#intermediate-cost-calculations",
    "title": "Auto Operating Costs Calculation",
    "section": "3 Intermediate Cost Calculations",
    "text": "3 Intermediate Cost Calculations\n\nTransportation Expenditures\n\nCreate Dataframe\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, 2021)) # Last year should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_PersonalExpenditure.columns = df_PersonalExpenditure.columns.astype(str)\ndf_AverageCost.columns = df_AverageCost.columns.astype(str)\n\n# Create a DataFrame to combine the extracted data\ndf_TransportationExpenditure = pd.DataFrame({\n    # The years from 1990 to 2020\n    \"Year\": year_range,\n    # Extract the 'Transportation Cost Percent of Total' for the years 1990-2020 from row 2\n    \"Transportation Percent of Total\": pd.to_numeric(\n      df_PersonalExpenditure.loc[2, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    # Extract the 'Gasoline Cost of Transportation' for the years 1990-2020 from row 2\n    \"Gasoline Cost of Transportation\": pd.to_numeric(\n      df_AverageCost.loc[2, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    )\n})\n\n# FIXME: Did not understand the logic for this\ndf_TransportationExpenditure[\"Gasoline Percent of Total\"] = df_TransportationExpenditure[\"Gasoline Cost of Transportation\"] * df_TransportationExpenditure[\"Transportation Percent of Total\"] / 100\n\ndf_TransportationExpenditure\n\n\n\n\n\n\n\n\n\nYear\nTransportation Percent of Total\nGasoline Cost of Transportation\nGasoline Percent of Total\n\n\n\n\n0\n1990\n11.628556\n16.350424\n1.901318\n\n\n1\n1991\n10.606806\n17.675415\n1.874797\n\n\n2\n1992\n10.751129\n15.195742\n1.633714\n\n\n3\n1993\n10.893301\n15.248105\n1.661022\n\n\n4\n1994\n11.169433\n14.198783\n1.585923\n\n\n5\n1995\n11.132856\n14.066289\n1.565980\n\n\n6\n1996\n11.376777\n13.147597\n1.495773\n\n\n7\n1997\n11.546636\n14.725569\n1.700308\n\n\n8\n1998\n11.334744\n13.462652\n1.525957\n\n\n9\n1999\n11.557797\n11.914894\n1.377099\n\n\n10\n2000\n11.720039\n14.056770\n1.647459\n\n\n11\n2001\n11.388149\n15.482101\n1.763125\n\n\n12\n2002\n10.978874\n11.746748\n1.289661\n\n\n13\n2003\n10.853123\n13.928295\n1.511655\n\n\n14\n2004\n10.858119\n11.564464\n1.255683\n\n\n15\n2005\n10.893612\n14.625446\n1.593239\n\n\n16\n2006\n10.648980\n18.189941\n1.937043\n\n\n17\n2007\n10.547746\n17.065065\n1.799980\n\n\n18\n2008\n10.119130\n21.555227\n2.181202\n\n\n19\n2009\n8.894102\n18.694417\n1.662700\n\n\n20\n2010\n9.373626\n20.077766\n1.882015\n\n\n21\n2011\n10.097593\n21.091613\n2.129745\n\n\n22\n2012\n10.278172\n23.759222\n2.442014\n\n\n23\n2013\n10.300199\n23.761237\n2.447455\n\n\n24\n2014\n10.145703\n21.969356\n2.228946\n\n\n25\n2015\n9.489218\n19.332030\n1.834459\n\n\n26\n2016\n9.163512\n14.810703\n1.357181\n\n\n27\n2017\n9.315180\n18.174303\n1.692969\n\n\n28\n2018\n9.467568\n18.730930\n1.773364\n\n\n29\n2019\n9.193706\n18.745960\n1.723448\n\n\n30\n2020\n8.068630\n16.724192\n1.349413\n\n\n\n\n\n\n\n\n\nPlotting Trends\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Transportation Cost Percent of Total with a blue line\nsns.lineplot(data=df_TransportationExpenditure, x='Year', y='Transportation Percent of Total',\n             color='#0070C0', linewidth=2.5, label='Transportation as % of Total Expenditure')\n\n# Plot Gasoline Percent of Total with a red line\nsns.lineplot(data=df_TransportationExpenditure, x='Year', y='Gasoline Percent of Total',\n             color='#FF0000', linewidth=2.5, label='Gasoline as % of Total Expenditure')\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_TransportationExpenditure, x='Year', y='Transportation Percent of Total',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\nsns.regplot(data=df_TransportationExpenditure, x='Year', y='Gasoline Percent of Total',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Customize the plot\nplt.title('Transportation as a Percent of Total Expenditure',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('% of Total Expenditure', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_TransportationExpenditure['Year'], rotation=90)\n\nplt.legend(loc='upper right', fontsize=11)\n\n# Set y-axis limits to extend to 14\nplt.ylim(0, 14)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n\nShow the code\n# Create the comparison DataFrame\ndf_TranspExp_Comparision = pd.DataFrame({\n    'Date': [2019, 2019],\n    'Actual': [\n        df_TransportationExpenditure.loc[df_TransportationExpenditure['Year'] == 2019, 'Transportation Percent of Total'].iloc[0],\n        df_TransportationExpenditure.loc[df_TransportationExpenditure['Year'] == 2019, 'Gasoline Percent of Total'].iloc[0]  # FIXED: THere is a potential error here in Excel sheet\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_TransportationExpenditure['Year']),\n                            pd.to_numeric(df_TransportationExpenditure['Transportation Percent of Total']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_TransportationExpenditure['Year']),\n                            pd.to_numeric(df_TransportationExpenditure['Gasoline Percent of Total']), 1))(2019)\n    ]\n}, index=['Transportation as % Total Expenditures', 'Gasoline as % Total Expenditures']).round(2)\n\ndf_TranspExp_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nTransportation as % Total Expenditures\n2019\n9.19\n9.26\n\n\nGasoline as % Total Expenditures\n2019\n1.72\n1.85\n\n\n\n\n\n\n\n\n\n\nAuto Cost - Variable-Fixed\n\nCreate Dataframe\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, 2021))  # Last year should be one more than desired\n\n# Compile data from Raw Datasets\ndf_AutoCost_VariableFixed = pd.DataFrame({\n    \"Year\": year_range,\n    \"Variable\": pd.to_numeric(\n      df_AverageCost.loc[6, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    \"Fixed\": pd.to_numeric(\n      df_AverageCost.loc[7, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    \"Total\": pd.to_numeric(\n      df_AverageCost.loc[5, str(year_range[0]):str(year_range[-1])].values,\n      errors=\"coerce\"\n    ),\n    \"CPI\": pd.to_numeric(\n      df_CPI[df_CPI['Year'].between(year_range[0], year_range[-1])][\"Avg.\"].values,\n      errors=\"coerce\"\n    )\n})\n\n# Create Derived Columns\ndf_AutoCost_VariableFixed[\"Per 15k\"] = df_AutoCost_VariableFixed[\"Fixed\"] / 15000\ndf_AutoCost_VariableFixed[\"Variable/Total\"] = df_AutoCost_VariableFixed[\"Variable\"] / df_AutoCost_VariableFixed[\"Total\"]\ndf_AutoCost_VariableFixed[\"Variable/CPI\"] = df_AutoCost_VariableFixed[\"Variable\"] / df_AutoCost_VariableFixed[\"CPI\"]\ndf_AutoCost_VariableFixed[\"Fixed/CPI\"] = df_AutoCost_VariableFixed[\"Fixed\"] / df_AutoCost_VariableFixed[\"CPI\"]\n\n# Reorder columns\ndf_AutoCost_VariableFixed = df_AutoCost_VariableFixed[['Year', 'Variable/Total', 'Variable/CPI', 'Fixed/CPI', 'Variable', 'Fixed', 'Total', 'Per 15k', 'CPI']]\n\ndf_AutoCost_VariableFixed\n\n\n\n\n\n\n\n\n\nYear\nVariable/Total\nVariable/CPI\nFixed/CPI\nVariable\nFixed\nTotal\nPer 15k\nCPI\n\n\n\n\n0\n1990\n0.254340\n9.640398\n28.263198\n1260.0\n3694.0\n4954.0\n0.246267\n130.700\n\n\n1\n1991\n0.259775\n10.682819\n30.440529\n1455.0\n4146.0\n5601.0\n0.276400\n136.200\n\n\n2\n1992\n0.231799\n9.622238\n31.888810\n1350.0\n4474.0\n5824.0\n0.298267\n140.300\n\n\n3\n1993\n0.237767\n9.550173\n30.615917\n1380.0\n4424.0\n5804.0\n0.294933\n144.500\n\n\n4\n1994\n0.230730\n9.210526\n30.708502\n1365.0\n4551.0\n5916.0\n0.303400\n148.200\n\n\n5\n1995\n0.232821\n9.448819\n31.135171\n1440.0\n4745.0\n6185.0\n0.316333\n152.400\n\n\n6\n1996\n0.225387\n9.177820\n31.542384\n1440.0\n4949.0\n6389.0\n0.329933\n156.900\n\n\n7\n1997\n0.240964\n10.093458\n31.794393\n1620.0\n5103.0\n6723.0\n0.340200\n160.500\n\n\n8\n1998\n0.232339\n9.846626\n32.533742\n1605.0\n5303.0\n6908.0\n0.353533\n163.000\n\n\n9\n1999\n0.225532\n9.543818\n32.773109\n1590.0\n5460.0\n7050.0\n0.364000\n166.600\n\n\n10\n2000\n0.248404\n10.621370\n32.137050\n1829.0\n5534.0\n7363.0\n0.368933\n172.200\n\n\n11\n2001\n0.266527\n11.518916\n31.699605\n2040.0\n5614.0\n7654.0\n0.374267\n177.100\n\n\n12\n2002\n0.234935\n9.838799\n32.040022\n1770.0\n5764.0\n7534.0\n0.384267\n179.900\n\n\n13\n2003\n0.253418\n10.679348\n31.461957\n1965.0\n5789.0\n7754.0\n0.385933\n184.000\n\n\n14\n2004\n0.224173\n10.005294\n34.626787\n1890.0\n6541.0\n8431.0\n0.436067\n188.900\n\n\n15\n2005\n0.251486\n10.829493\n32.232463\n2115.0\n6295.0\n8410.0\n0.419667\n195.300\n\n\n16\n2006\n0.289124\n11.235119\n27.624008\n2265.0\n5569.0\n7834.0\n0.371267\n201.600\n\n\n17\n2007\n0.278026\n10.489915\n27.240019\n2175.0\n5648.0\n7823.0\n0.376533\n207.342\n\n\n18\n2008\n0.313385\n11.820551\n25.898385\n2545.0\n5576.0\n8121.0\n0.371733\n215.303\n\n\n19\n2009\n0.285697\n10.781357\n26.955723\n2313.0\n5783.0\n8096.0\n0.385533\n214.537\n\n\n20\n2010\n0.295864\n11.515391\n27.405804\n2511.0\n5976.0\n8487.0\n0.398400\n218.056\n\n\n21\n2011\n0.303327\n11.834320\n27.180702\n2662.0\n6114.0\n8776.0\n0.407600\n224.939\n\n\n22\n2012\n0.329309\n12.831346\n26.133087\n2946.0\n6000.0\n8946.0\n0.400000\n229.594\n\n\n23\n2013\n0.335891\n13.152642\n26.004799\n3064.0\n6058.0\n9122.0\n0.403867\n232.957\n\n\n24\n2014\n0.321654\n12.059847\n25.433394\n2855.0\n6021.0\n8876.0\n0.401400\n236.736\n\n\n25\n2015\n0.298459\n10.952801\n25.744989\n2596.0\n6102.0\n8698.0\n0.406800\n237.017\n\n\n26\n2016\n0.258004\n9.199732\n26.457562\n2208.0\n6350.0\n8558.0\n0.423333\n240.007\n\n\n27\n2017\n0.321918\n11.121084\n23.425261\n2726.0\n5742.0\n8468.0\n0.382800\n245.120\n\n\n28\n2018\n0.326478\n11.505056\n23.734902\n2889.0\n5960.0\n8849.0\n0.397333\n251.107\n\n\n29\n2019\n0.331933\n12.051303\n24.255154\n3081.0\n6201.0\n9282.0\n0.413400\n255.657\n\n\n30\n2020\n0.310428\n11.467828\n25.474188\n2968.0\n6593.0\n9561.0\n0.439533\n258.811\n\n\n\n\n\n\n\n\n\nPlotting Trends\n\nFixed/CPI and Variable/CPI\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Create smooth spline curves\nx = df_AutoCost_VariableFixed['Year']\ny_fixed = df_AutoCost_VariableFixed['Fixed/CPI']\ny_variable = df_AutoCost_VariableFixed['Variable/CPI']\n\n# Generate smooth curves\nx_smooth = np.linspace(x.min(), x.max(), 300)\nspline_fixed = make_interp_spline(x, y_fixed, k=3)\nspline_variable = make_interp_spline(x, y_variable, k=3)\n\ny_fixed_smooth = spline_fixed(x_smooth)\ny_variable_smooth = spline_variable(x_smooth)\n\n# Plot smooth lines\nsns.lineplot(x=x_smooth, y=y_fixed_smooth, linewidth=2.5, color=\"#00B050\", label=\"Fixed/CPI\")\nsns.lineplot(x=x_smooth, y=y_variable_smooth, linewidth=2.5, color=\"#FF0000\", label=\"Variable/CPI\")\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.0f}'))\n\n# Customize the plot\nplt.title('Trendline of Fixed/CPI and Variable/CPI (1990–2020)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Value', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_AutoCost_VariableFixed['Year'], rotation=90)\n\nplt.legend(loc='upper right', fontsize=11)\n\n# Set y-axis limits to extend to $40\nplt.ylim(0, 40)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nAverage Cost per Mile\n\n\nShow the code\n# Create the stacked area plot\nplt.figure(figsize=(10, 6))\n\n# Stack the areas - Fixed on bottom, Variable on top\nplt.fill_between(df_AutoCost_VariableFixed['Year'],\n                 0,\n                 df_AutoCost_VariableFixed['Fixed'],\n                 color='#9BBB59',\n                 label='Fixed')\n\nplt.fill_between(df_AutoCost_VariableFixed['Year'],\n                 df_AutoCost_VariableFixed['Fixed'],\n                 df_AutoCost_VariableFixed['Fixed'] + df_AutoCost_VariableFixed['Variable'],\n                 color='#C0504D',\n                 label='Variable')\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.0f}'))\n\n# Customize the plot\nplt.title('Average Total Cost per 15,000 Miles',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USDs', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_AutoCost_VariableFixed['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits\nplt.ylim(0, 10000)\n\n# Add grid\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n\nShow the code\n# Create the comparison DataFrame\ndf_AutoCost_VariableFixed_Comparision = pd.DataFrame({\n    'Date': [2019, 2019, 2019],\n    'Actual': [\n        df_AutoCost_VariableFixed.loc[df_AutoCost_VariableFixed['Year'] == 2019, 'Variable'].iloc[0],\n        df_AutoCost_VariableFixed.loc[df_AutoCost_VariableFixed['Year'] == 2019, 'Fixed'].iloc[0],\n        df_AutoCost_VariableFixed.loc[df_AutoCost_VariableFixed['Year'] == 2019, 'Per 15k'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost_VariableFixed['Year']),\n                            pd.to_numeric(df_AutoCost_VariableFixed['Variable']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost_VariableFixed['Year']),\n                            pd.to_numeric(df_AutoCost_VariableFixed['Fixed']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost_VariableFixed['Year']),\n                            pd.to_numeric(df_AutoCost_VariableFixed['Per 15k']), 1))(2019)\n    ]\n}, index=['Variable', 'Fixed', 'Fixed per 15,000 Miles']).round(2)\n\ndf_AutoCost_VariableFixed_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nVariable\n2019\n3081.00\n2990.68\n\n\nFixed\n2019\n6201.00\n6498.80\n\n\nFixed per 15,000 Miles\n2019\n0.41\n0.43\n\n\n\n\n\n\n\n\n\n\nAuto Cost\n\nCreate Dataframe\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, 2021)) # Last year should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_AverageCost.columns = df_AverageCost.columns.astype(str)\n\n# Compile data from Raw Datasets\ndf_AutoCost = pd.DataFrame({\n    \"Year\": year_range,\n    \"Gas\": pd.to_numeric(\n        df_AverageCost.loc[1, str(year_range[0]):str(year_range[-1])].values,\n        errors=\"coerce\"\n    ),\n    \"Maint\": pd.to_numeric(\n        df_AverageCost.loc[3, str(year_range[0]):str(year_range[-1])].values,\n        errors=\"coerce\"\n    ),\n    \"Tires\": pd.to_numeric(\n        df_AverageCost.loc[4, str(year_range[0]):str(year_range[-1])].values,\n        errors=\"coerce\"   # turns \"U\" into NaN\n    )\n})\n\ndf_AutoCost[\"Maint+Tires\"] = df_AutoCost[\"Maint\"].fillna(0) + df_AutoCost[\"Tires\"].fillna(0)\n\n# View Dataframe\ndf_AutoCost\n\n\n\n\n\n\n\n\n\nYear\nGas\nMaint\nTires\nMaint+Tires\n\n\n\n\n0\n1990\n5.40\n2.10\n0.90\n3.00\n\n\n1\n1991\n6.60\n2.20\n0.90\n3.10\n\n\n2\n1992\n5.90\n2.20\n0.90\n3.10\n\n\n3\n1993\n5.90\n2.40\n0.90\n3.30\n\n\n4\n1994\n5.60\n2.50\n1.00\n3.50\n\n\n5\n1995\n5.80\n2.60\n1.20\n3.80\n\n\n6\n1996\n5.60\n2.80\n1.20\n4.00\n\n\n7\n1997\n6.60\n2.80\n1.40\n4.20\n\n\n8\n1998\n6.20\n3.10\n1.40\n4.50\n\n\n9\n1999\n5.60\n3.30\n1.70\n5.00\n\n\n10\n2000\n6.90\n3.60\n1.70\n5.30\n\n\n11\n2001\n7.90\n3.90\n1.80\n5.70\n\n\n12\n2002\n5.90\n4.10\n1.80\n5.90\n\n\n13\n2003\n7.20\n4.10\n1.80\n5.90\n\n\n14\n2004\n6.50\n5.40\n0.70\n6.10\n\n\n15\n2005\n8.20\n5.30\n0.60\n5.90\n\n\n16\n2006\n9.50\n4.90\n0.70\n5.60\n\n\n17\n2007\n8.90\n4.90\n0.70\n5.60\n\n\n18\n2008\n11.67\n4.57\n0.72\n5.29\n\n\n19\n2009\n10.09\n4.56\n0.77\n5.33\n\n\n20\n2010\n11.36\n4.54\n0.83\n5.37\n\n\n21\n2011\n12.34\n4.44\n0.96\n5.40\n\n\n22\n2012\n14.17\n4.47\n1.00\n5.47\n\n\n23\n2013\n14.45\n4.97\n1.00\n5.97\n\n\n24\n2014\n13.00\n5.06\n0.97\n6.03\n\n\n25\n2015\n11.21\n5.11\n0.98\n6.09\n\n\n26\n2016\n8.45\n5.28\n1.00\n6.28\n\n\n27\n2017\n10.26\n7.91\nNaN\n7.91\n\n\n28\n2018\n11.05\n8.21\nNaN\n8.21\n\n\n29\n2019\n11.60\n8.94\nNaN\n8.94\n\n\n30\n2020\n10.66\n9.12\nNaN\n9.12\n\n\n\n\n\n\n\n\n\nPlotting Trends\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Fixed/CPI with a green line\nsns.lineplot(data=df_AutoCost, x=\"Year\", y=\"Gas\",\nlinewidth=2.5, color=\"#0070C0\", label=\"Gas\")\n\n# Plot Variable/CPI with a red line\nsns.lineplot(data=df_AutoCost, x=\"Year\", y=\"Maint+Tires\",\nlinewidth=2.5,color=\"#FF0000\", label=\"Maint+Tires\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_AutoCost, x='Year', y='Gas',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\nsns.regplot(data=df_AutoCost, x='Year', y='Maint+Tires',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Average Auto Costs',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('USDs', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_AutoCost['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits to extend to 16\nplt.ylim(0, 16)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n\nShow the code\n# Create the comparison DataFrame\ndf_AutoCost_Comparision = pd.DataFrame({\n    'Date': [2019, 2019],\n    'Actual': [\n        df_AutoCost.loc[df_AutoCost['Year'] == 2019, 'Gas'].iloc[0],\n        df_AutoCost.loc[df_AutoCost['Year'] == 2019, 'Maint+Tires'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost['Year']),\n                            pd.to_numeric(df_AutoCost['Gas']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_AutoCost['Year']),\n                            pd.to_numeric(df_AutoCost['Maint+Tires']), 1))(2019)\n    ]\n}, index=['Gas', 'Maint+Tires']).round(2)\n\ndf_AutoCost_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nGas\n2019\n11.60\n12.31\n\n\nMaint+Tires\n2019\n8.94\n7.63\n\n\n\n\n\n\n\n\n\n\nVehicle Miles - Trucks\n\nCreate Dataframe\n\n\nShow the code\n# Define year range\nyear_range = list(range(1990, 2020)) # Last year should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_FE_Heavy.columns = df_FE_Heavy.columns.astype(str)\ndf_FE_Medium.columns = df_FE_Medium.columns.astype(str)\ndf_4_11.columns = df_4_11.columns.astype(str)\n\n# Compile data from Raw Datasets\ndf_VehicleMiles_Truck = pd.DataFrame({\n  \"Year\": year_range,\n  \"Heavy\": pd.to_numeric(\n    df_FE_Heavy.loc[3, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  ),\n  \"Medium\": pd.to_numeric(\n    df_FE_Medium.loc[3, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  ),\n  \"Light\": pd.to_numeric(\n    df_4_11.loc[10, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  )\n})\n\n# View dataframe\ndf_VehicleMiles_Truck\n\n\n\n\n\n\n\n\n\nYear\nHeavy\nMedium\nLight\n\n\n\n\n0\n1990\n55.205896\n11.567039\n10.604470\n\n\n1\n1991\n57.141114\n11.805424\n10.657580\n\n\n2\n1992\n59.395982\n12.328648\n10.910993\n\n\n3\n1993\n61.367245\n12.879855\n10.874463\n\n\n4\n1994\n69.000815\n12.971235\n11.210377\n\n\n5\n1995\n68.082519\n12.481911\n11.202821\n\n\n6\n1996\n68.222714\n12.167043\n11.322535\n\n\n7\n1997\n69.601244\n12.637158\n11.580509\n\n\n8\n1998\n64.264812\n11.860835\n11.753597\n\n\n9\n1999\n65.261008\n12.200704\n11.849625\n\n\n10\n2000\n64.398920\n11.896666\n11.976276\n\n\n11\n2001\n63.381121\n12.692860\n11.823908\n\n\n12\n2002\n60.938805\n13.426140\n12.201779\n\n\n13\n2003\n73.428301\n13.293659\n12.323788\n\n\n14\n2004\n70.819043\n12.731804\n12.459739\n\n\n15\n2005\n69.019949\n12.274076\n12.509663\n\n\n16\n2006\n65.525633\n12.083042\n12.485488\n\n\n17\n2007\n69.895569\n14.781778\n10.709976\n\n\n18\n2008\n71.106154\n15.305740\n10.290338\n\n\n19\n2009\n64.230789\n14.385515\n10.391369\n\n\n20\n2010\n68.859486\n13.476414\n10.650447\n\n\n21\n2011\n66.808917\n13.275650\n11.150028\n\n\n22\n2012\n66.259827\n12.893960\n11.261705\n\n\n23\n2013\n68.155349\n13.116107\n11.243638\n\n\n24\n2014\n65.897234\n13.123373\n11.047811\n\n\n25\n2015\n61.978009\n12.960431\n11.327179\n\n\n26\n2016\n63.428143\n12.958064\n11.369575\n\n\n27\n2017\n62.751211\n12.434660\n11.466791\n\n\n28\n2018\n63.373855\n11.686694\n11.576437\n\n\n29\n2019\n59.928929\n12.277598\n11.599293\n\n\n\n\n\n\n\n\n\nPlotting Trends\n\n1990 - 2019\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Heavy\",\nlinewidth=2.5,color=\"#0070C0\", label=\"Heavy\")\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Medium\",\nlinewidth=2.5,color=\"#BE4B48\", label=\"Medium\")\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Light\",\nlinewidth=2.5, color=\"#98B954\", label=\"Light\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Heavy',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Customize the plot\nplt.title('Average Vehicle Miles - Trucks (1990 - 2019)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Miles', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_VehicleMiles_Truck['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits to extend to 80\nplt.ylim(0, 80)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n2000 - 2019\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Heavy\",\nlinewidth=2.5,color=\"#0070C0\", label=\"Heavy\")\n\n# Plot Variable with a red line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Medium\",\nlinewidth=2.5,color=\"#BE4B48\", label=\"Medium\")\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_VehicleMiles_Truck, x=\"Year\", y=\"Light\",\nlinewidth=2.5, color=\"#00B050\", label=\"Light\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Heavy',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Medium',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_VehicleMiles_Truck, x='Year', y='Light',\n            scatter=False, color='#00B050', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Customize the plot\nplt.title('Average Vehicle Miles - Trucks (2000 - 2019)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Miles', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_VehicleMiles_Truck['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set x-axis limits to show only 2000-2019\nplt.xlim(2000, 2019)\n\n# Set y-axis limits to extend to 80\nplt.ylim(0, 80)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n\nShow the code\n# Create the comparison DataFrame\ndf_VMTrucks_Comparision = pd.DataFrame({\n    'Date': [2019, 2019, 2019, 2019, 2019, 2019],\n    'Actual': [\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == 2019, 'Heavy'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == 2019, 'Medium'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == 2019, 'Light'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == 2019, 'Heavy'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == 2019, 'Medium'].iloc[0],\n        df_VehicleMiles_Truck.loc[df_VehicleMiles_Truck['Year'] == 2019, 'Light'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_VehicleMiles_Truck['Year']),\n                            pd.to_numeric(df_VehicleMiles_Truck['Heavy']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_VehicleMiles_Truck['Year']),\n                            pd.to_numeric(df_VehicleMiles_Truck['Medium']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_VehicleMiles_Truck['Year']),\n                            pd.to_numeric(df_VehicleMiles_Truck['Light']), 1))(2019),\n        # Last 3: Use only data from 2000+\n        np.poly1d(np.polyfit(\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Year']),\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Heavy']), 1))(2019),\n        np.poly1d(np.polyfit(\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Year']),\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Medium']), 1))(2019),\n        np.poly1d(np.polyfit(\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Year']),\n          pd.to_numeric(df_VehicleMiles_Truck[df_VehicleMiles_Truck['Year'] &gt;= 2000]['Light']), 1))(2019)\n    ]\n}, index=['Heavy Trucks  - 1980+', 'Medium Trucks  - 1980+', 'Light Trucks  - 1980+',\n'Heavy Trucks  - 2000+', 'Medium Trucks  - 2000+', 'Light Trucks  - 2000+']).round(2)\n\n# TODO: '1980+' should be changed to '1990+'\n\ndf_VMTrucks_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nHeavy Trucks - 1980+\n2019\n59.93\n66.36\n\n\nMedium Trucks - 1980+\n2019\n12.28\n13.22\n\n\nLight Trucks - 1980+\n2019\n11.60\n11.46\n\n\nHeavy Trucks - 2000+\n2019\n59.93\n63.71\n\n\nMedium Trucks - 2000+\n2019\n12.28\n12.85\n\n\nLight Trucks - 2000+\n2019\n11.60\n11.04\n\n\n\n\n\n\n\n\n\n\nFuel Economy\n\nCreate Dataframe\n\n\nShow the code\n# Define year range\nyear_range = [1980, 1985] + list(range(1990, 2020)) # Last year of the range should be one more than desired\n\n# Ensure column names are strings in both DataFrames to avoid indexing issues\ndf_FE_LightDuty.columns = df_FE_LightDuty.columns.astype(str)\ndf_FE_Medium.columns = df_FE_Medium.columns.astype(str)\ndf_FE_Heavy.columns = df_FE_Heavy.columns.astype(str)\n\n# Compile data from Raw Datasets\ndf_FuelEconomy = pd.DataFrame({\n  \"Year\": year_range,\n  \"Light Duty\": pd.to_numeric(\n    df_FE_LightDuty.loc[0, str(year_range[0]):str(year_range[-1])].values,\n    errors=\"coerce\"\n  ),\n  \"Medium Duty\": pd.to_numeric(\n    df_FE_Medium.loc[4, str(year_range[0]):str(year_range[-1])].values, # FIXED: Mistake in original calculation; use this instead\n    errors=\"coerce\"\n  ),\n  \"Heavy Duty\": pd.to_numeric(\n    df_FE_Heavy.loc[4, str(year_range[0]):str(year_range[-1])].values, # FIXED: Mistake in original calculation; use this instead\n    errors=\"coerce\"\n  )\n})\n\n# View the dataset\ndf_FuelEconomy\n\n\n\n\n\n\n\n\n\nYear\nLight Duty\nMedium Duty\nHeavy Duty\n\n\n\n\n0\n1980\n14.900000\n5.751024\n5.267929\n\n\n1\n1985\n16.500000\n6.141193\n5.573818\n\n\n2\n1990\n18.800000\n6.210733\n5.847737\n\n\n3\n1991\n19.500000\n6.472767\n5.749700\n\n\n4\n1992\n19.500000\n6.540576\n5.780000\n\n\n5\n1993\n19.200000\n6.688396\n5.810000\n\n\n6\n1994\n19.391913\n6.785380\n5.833361\n\n\n7\n1995\n19.602243\n6.803876\n5.837586\n\n\n8\n1996\n19.691458\n6.809732\n5.912689\n\n\n9\n1997\n19.700000\n6.985442\n6.136631\n\n\n10\n1998\n19.792902\n9.977427\n5.102120\n\n\n11\n1999\n19.616980\n9.872225\n5.045112\n\n\n12\n2000\n20.025918\n7.372130\n5.260719\n\n\n13\n2001\n20.235501\n7.488557\n5.351787\n\n\n14\n2002\n20.081724\n7.350921\n5.239386\n\n\n15\n2003\n19.500192\n8.754982\n5.883919\n\n\n16\n2004\n19.644668\n8.755922\n5.885270\n\n\n17\n2005\n20.174052\n8.261740\n5.201696\n\n\n18\n2006\n20.435839\n8.154805\n5.058217\n\n\n19\n2007\n21.275150\n7.354144\n5.960288\n\n\n20\n2008\n21.824862\n7.399570\n6.015066\n\n\n21\n2009\n21.696378\n7.396154\n5.992856\n\n\n22\n2010\n21.525254\n7.335344\n5.873992\n\n\n23\n2011\n21.367594\n7.302138\n5.812110\n\n\n24\n2012\n21.550948\n7.345698\n5.848071\n\n\n25\n2013\n21.634777\n7.349478\n5.849476\n\n\n26\n2014\n21.402991\n7.338686\n5.832550\n\n\n27\n2015\n21.979313\n7.380038\n5.893747\n\n\n28\n2016\n22.038465\n7.389125\n5.906246\n\n\n29\n2017\n22.274363\n7.442531\n5.977236\n\n\n30\n2018\n22.497301\n7.506099\n6.073034\n\n\n31\n2019\n22.244734\n7.489205\n6.047802\n\n\n\n\n\n\n\n\n\nPlotting Trends\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Variable with a red line\nsns.lineplot(data=df_FuelEconomy, x=\"Year\", y=\"Light Duty\",\nlinewidth=2.5,color=\"#0070C0\", label=\"Light Duty\")\n\n# Plot Variable with a red line\nsns.lineplot(data=df_FuelEconomy, x=\"Year\", y=\"Medium Duty\",\nlinewidth=2.5,color=\"#FF0000\", label=\"Medium Duty\")\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelEconomy, x=\"Year\", y=\"Heavy Duty\",\nlinewidth=2.5, color=\"#00B050\", label=\"Heavy Duty\")\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_FuelEconomy, x='Year', y='Light Duty',\n            scatter=False, color='#0070C0', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_FuelEconomy, x='Year', y='Medium Duty',\n            scatter=False, color='#FF0000', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Plotting the linear trend lines with dashed lines\nsns.regplot(data=df_FuelEconomy, x='Year', y='Heavy Duty',\n            scatter=False, color='#00B050', ci=None,\n            line_kws={'linestyle': '--', 'linewidth': 2, 'alpha': 0.8})\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Average Fuel Economy (miles per gallon)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Year', fontsize=13)\nplt.ylabel('Miles Travelled per Gallon', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(df_FuelEconomy['Year'], rotation=90)\n\nplt.legend(loc='upper left', fontsize=11)\n\n# Set y-axis limits to extend to 25\nplt.ylim(0, 25)\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n\nShow the code\n# Create the comparison DataFrame\ndf_FuelEconomy_Comparision = pd.DataFrame({\n    'Date': [2019, 2019, 2019],\n    'Actual': [\n        df_FuelEconomy.loc[df_FuelEconomy['Year'] == 2019, 'Light Duty'].iloc[0],\n        df_FuelEconomy.loc[df_FuelEconomy['Year'] == 2019, 'Medium Duty'].iloc[0],\n        df_FuelEconomy.loc[df_FuelEconomy['Year'] == 2019, 'Heavy Duty'].iloc[0]\n    ],\n    'Trend': [\n        np.poly1d(np.polyfit(pd.to_numeric(df_FuelEconomy['Year']),\n                            pd.to_numeric(df_FuelEconomy['Light Duty']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_FuelEconomy['Year']),\n                            pd.to_numeric(df_FuelEconomy['Medium Duty']), 1))(2019),\n        np.poly1d(np.polyfit(pd.to_numeric(df_FuelEconomy['Year']),\n                            pd.to_numeric(df_FuelEconomy['Heavy Duty']), 1))(2019)\n    ]\n}, index=['Light Duty', 'Medium Duty', 'Heavy Duty']).round(2)\n\ndf_FuelEconomy_Comparision\n\n\n\n\n\n\n\n\n\nDate\nActual\nTrend\n\n\n\n\nLight Duty\n2019\n22.24\n22.69\n\n\nMedium Duty\n2019\n7.49\n7.93\n\n\nHeavy Duty\n2019\n6.05\n5.90\n\n\n\n\n\n\n\n\n\n\nFuel Costs\n\nCreate Dataframe\n\n\nShow the code\n# Generate the date range between the desired dates\ndate_range = pd.date_range(\"1994-01-03\", \"2021-12-27\", freq=\"D\")\n\n# Compile data from Raw Datasets\ndf_FuelCosts = pd.DataFrame({\n  \"Date\": df_RetailGasPrices[df_RetailGasPrices['Date'].isin(date_range)]['Date'].values\n})\n\n# Merge Gasoline and Diesel prices directly\ndf_FuelCosts = df_FuelCosts.merge(df_RetailGasPrices[['Date', 'Weekly Rocky Mountain All Grades All Formulations Retail Gasoline Prices  (Dollars per Gallon)']], on='Date', how='left') \\\n                            .merge(df_RetailDieselPrices[['Date', 'Weekly Rocky Mountain No 2 Diesel Retail Prices  (Dollars per Gallon)']], on='Date', how='left')\n\n# Rename columns\ndf_FuelCosts.rename(columns={\n    'Weekly Rocky Mountain All Grades All Formulations Retail Gasoline Prices  (Dollars per Gallon)': 'Gasoline $/gal',\n    'Weekly Rocky Mountain No 2 Diesel Retail Prices  (Dollars per Gallon)': 'Diesel $/gal'\n}, inplace=True)\n\n# View the dataset\ndf_FuelCosts\n\n\n\n\n\n\n\n\n\nDate\nGasoline $/gal\nDiesel $/gal\n\n\n\n\n0\n1994-01-03\n1.085\nNaN\n\n\n1\n1994-01-10\n1.065\nNaN\n\n\n2\n1994-01-17\n1.092\nNaN\n\n\n3\n1994-01-24\n1.075\nNaN\n\n\n4\n1994-01-31\n1.063\nNaN\n\n\n...\n...\n...\n...\n\n\n1456\n2021-11-29\n3.612\n3.824\n\n\n1457\n2021-12-06\n3.579\n3.780\n\n\n1458\n2021-12-13\n3.543\n3.758\n\n\n1459\n2021-12-20\n3.520\n3.731\n\n\n1460\n2021-12-27\n3.499\n3.704\n\n\n\n\n1461 rows × 3 columns\n\n\n\n\n\nPlotting Trends\n\nRetail Gasoline Prices - Rocky Mountain (1994 - 2022)\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Gasoline $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Calculate and plot regression line inline\nplt.plot(\n    df_FuelCosts['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts['Date']),\n        df_FuelCosts['Gasoline $/gal']\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts['Date']),\n        df_FuelCosts['Gasoline $/gal']\n    )[0] * pd.to_numeric(df_FuelCosts['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Gasoline Prices ($ per gallon) - Rocky Mountain (1994 - 2022)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Date', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique()[::2], rotation=90)\nplt.yticks(np.arange(0, 5.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(df_FuelCosts['Date'].min(), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 5\nplt.ylim(0, 5)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nRetail Gasoline Prices - Rocky Mountain (2005 - 2022)\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Gasoline $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Calculate and plot regression line for filtered data inline\nplt.plot(\n    df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Gasoline $/gal']\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Gasoline $/gal']\n    )[0] * pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Gasoline Prices ($ per gallon) - Rocky Mountain (2005 - 2022)', fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Date', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique(), rotation=90)\nplt.yticks(np.arange(0, 5.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(pd.to_datetime(\"2005-01-01\"), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 5\nplt.ylim(0, 5)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nRetail Diesel Prices - Rocky Mountain (1994 - 2022)\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Diesel $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Calculate and plot regression line inline\nplt.plot(\n    df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date']),\n        df_FuelCosts.dropna(subset=['Diesel $/gal'])['Diesel $/gal']\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date']),\n        df_FuelCosts.dropna(subset=['Diesel $/gal'])['Diesel $/gal']\n    )[0] * pd.to_numeric(df_FuelCosts.dropna(subset=['Diesel $/gal'])['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Diesel Prices ($ per gallon) - Rocky Mountain (1994 - 2022)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Date', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique()[::2], rotation=90)\nplt.yticks(np.arange(0, 5.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(df_FuelCosts['Date'].min(), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 5\nplt.ylim(0, 5)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\nRetail Diesel Prices - Rocky Mountain (2005 - 2022)\n\n\nShow the code\n# Plotting the data using Seaborn and Matplotlib\nplt.figure(figsize=(10, 6))\n\n# Plot Fixed with a green line\nsns.lineplot(data=df_FuelCosts, x=\"Date\", y=\"Diesel $/gal\",\nlinewidth=2.5, color=\"#0070C0\", label=None)\n\n# Plot regression line for dates from 2005 onwards\nplt.plot(\n    df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date'],\n    stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Diesel $/gal'].dropna()\n    )[1] + stats.linregress(\n        pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n        df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Diesel $/gal'].dropna()\n    )[0] * pd.to_numeric(df_FuelCosts[df_FuelCosts['Date'] &gt;= pd.to_datetime(\"2005-01-01\")]['Date']),\n    color='#FF0000', linestyle='-', linewidth=2, alpha=0.8\n)\n\n# Format y-axis as currency with comma separation using anonymous function\nplt.gca().yaxis.set_major_formatter(FuncFormatter(lambda x, p: f'${x:,.2f}'))\n\n# Customize the plot\nplt.title('Retail Diesel Prices ($ per gallon) - Rocky Mountain (2005 - 2022)',\n          fontsize=16, fontweight='bold', pad=20)\nplt.xlabel('Date', fontsize=13)\nplt.ylabel('USD', fontsize=13)\n\n# Show all x-axis labels with 90-degree rotation\nplt.xticks(pd.to_datetime(df_FuelCosts['Date']).dt.to_period('Y').unique(), rotation=90)\nplt.yticks(np.arange(0, 5.5, 0.5))\n\n# Set the x-axis limits to be between the min and max of the Date column\nplt.xlim(pd.to_datetime(\"2005-01-01\"), df_FuelCosts['Date'].max())\n# Set y-axis limits to extend to 5\nplt.ylim(0, 5)\n\n# Format the x-axis to display dates properly\nplt.gca().xaxis.set_major_formatter(mdates.DateFormatter('%Y'))\n\n# Add major and minor grid lines for better readability\nplt.grid(True, alpha=0.3, linestyle='-', linewidth=0.5, which='major')\n\n# Improve layout\nplt.tight_layout()\nplt.show()\n\n\n\n\n\n\n\n\n\n\n\n\nActual vs Trend Comparision\n\n1994 - 2022\n\n\nShow the code\n# Create the comparison DataFrame\ncomparison_dates = [pd.to_datetime(\"2019-01-01\"), pd.to_datetime(\"2019-12-31\"), pd.to_datetime(\"2019-07-01\")]\n\ndf_FuelCost_Comparison_1 = pd.DataFrame({\n    'Gasoline Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts.dropna(subset=['Date', 'Gasoline $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts.dropna(subset=['Date', 'Gasoline $/gal'])['Gasoline $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ],\n    'Diesel Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts.dropna(subset=['Date', 'Diesel $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts.dropna(subset=['Date', 'Diesel $/gal'])['Diesel $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ]\n}, index=comparison_dates).round(3)\n\ndf_FuelCost_Comparison_1\n\n\n\n\n\n\n\n\n\nGasoline Trend\nDiesel Trend\n\n\n\n\n2019-01-01\n3.146\n3.453\n\n\n2019-12-31\n3.225\n3.547\n\n\n2019-07-01\n3.185\n3.500\n\n\n\n\n\n\n\n\n\n2005 - 2022\n\n\nShow the code\n# Create the comparison DataFrame\ncomparison_dates = [pd.to_datetime(\"2019-01-01\"), pd.to_datetime(\"2019-12-31\"), pd.to_datetime(\"2019-07-01\")]\n\n# Filter for dates &gt;= 2005-01-01 and fit trends\ndate_filter = pd.to_datetime(df_FuelCosts['Date']) &gt;= pd.to_datetime(\"2005-01-01\")\n\ndf_FuelCost_Comparison_2 = pd.DataFrame({\n    'Gasoline Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts[date_filter].dropna(subset=['Date', 'Gasoline $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts[date_filter].dropna(subset=['Date', 'Gasoline $/gal'])['Gasoline $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ],\n    'Diesel Trend': [\n        np.poly1d(np.polyfit(pd.to_datetime(df_FuelCosts[date_filter].dropna(subset=['Date', 'Diesel $/gal'])['Date']).astype('int64'),\n                           df_FuelCosts[date_filter].dropna(subset=['Date', 'Diesel $/gal'])['Diesel $/gal'].astype(float), 1))(pd.to_datetime(date).value)\n        for date in comparison_dates\n    ]\n}, index=comparison_dates).round(3)\n\ndf_FuelCost_Comparison_2\n\n\n\n\n\n\n\n\n\nGasoline Trend\nDiesel Trend\n\n\n\n\n2019-01-01\n2.861\n3.115\n\n\n2019-12-31\n2.862\n3.114\n\n\n2019-07-01\n2.862\n3.114"
  },
  {
    "objectID": "0 - Auto Operating Cost - 2022-01-11.html#auto-operating-costs",
    "href": "0 - Auto Operating Cost - 2022-01-11.html#auto-operating-costs",
    "title": "Auto Operating Costs Calculation",
    "section": "4 Auto Operating Costs",
    "text": "4 Auto Operating Costs\nCalculate Auto Operating Cost - 2019\n\n\nShow the code\n# Autos\nAOC_Auto = (\n  # Get gasoline price per gallon for July 2019\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2019-07-01\"), 'Gasoline Trend'] /\n    # Divide by fuel economy (miles per gallon) to get gallons per mile\n    df_FuelEconomy_Comparision.loc['Light Duty', 'Trend'] * 100 +  # Convert to cents\n    # Add maintenance and tire costs per mile (already in cents)\n    df_AutoCost_Comparision.loc['Maint+Tires', 'Trend']\n)\n\n# Light Duty Trucks\nAOC_LT = (\n    # Fuel cost: (price per gallon / mpg) * 100 cents per dollar\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2019-07-01\"), 'Gasoline Trend'] /\n    df_FE_SizeClass_1[df_FE_SizeClass_1['Manufacturer\\'s gross vehicle weight class'] == 'Light truck subtotal']['2002 VIUS'].iloc[0] * 100 +\n    # Maintenance cost\n    df_AutoCost_Comparision.loc['Maint+Tires', 'Trend']\n)\n\n# Medium Duty Trucks\nAOC_MD = (\n    # Fuel cost: diesel price / medium duty mpg * 100\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2019-07-01\"), 'Diesel Trend'] /\n    df_FuelEconomy_Comparision.loc['Medium Duty', 'Trend'] * 100 +\n    # Maintenance cost: approximation as average of light and heavy\n    (df_AutoCost_Comparision.loc['Maint+Tires', 'Trend'] + (df_RepairMaintenanceCost_Heavy['CostMile'].mean() * 100)) / 2\n)\n\n# Heavy Duty Trucks\nAOC_HV = (\n    # Fuel cost: diesel price / heavy duty mpg * 100\n    df_FuelCost_Comparison_1.loc[pd.to_datetime(\"2019-07-01\"), 'Diesel Trend'] /\n    df_FuelEconomy_Comparision.loc['Heavy Duty', 'Trend'] * 100 +\n    # Maintenance cost\n    (df_RepairMaintenanceCost_Heavy['CostMile'].mean() * 100)\n)"
  },
  {
    "objectID": "0 - Auto Operating Cost - 2022-01-11.html#export",
    "href": "0 - Auto Operating Cost - 2022-01-11.html#export",
    "title": "Auto Operating Costs Calculation",
    "section": "5 Export",
    "text": "5 Export\n\n\nShow the code\n# Create dataframe compiling data\ndf_AOC_export = pd.DataFrame({\n  'Auto Operating Costs': ['AOC_Auto', 'AOC_LT', 'AOC_MD', 'AOC_HV'],\n  'Cost (cent/mile)': [\n      AOC_Auto.round(1),\n      AOC_LT.round(1),\n      AOC_MD.round(1),\n      AOC_HV.round(1)\n    ]\n})\n\n# View the dataset\ndf_AOC_export\n\n\n\n\n\n\n\n\n\nAuto Operating Costs\nCost (cent/mile)\n\n\n\n\n0\nAOC_Auto\n21.7\n\n\n1\nAOC_LT\n27.3\n\n\n2\nAOC_MD\n55.6\n\n\n3\nAOC_HV\n74.5"
  }
]